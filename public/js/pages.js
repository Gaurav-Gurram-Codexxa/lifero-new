/*! For license information please see pages.js.LICENSE.txt */
(()=>{var __webpack_modules__={2743:e=>{!function(t,a){var n=a.jQuery;e.exports=n?t(a,n):function(e){if(e&&!e.fn)throw"Provide jQuery or null";return t(a,e)}}((function(e,t){"use strict";var a=!1===t;t=t&&t.fn?t:e.jQuery;var n,i,r,s,o,d,l,c,u,m,p,g,h,v,f,$,y,b,w,C,_,I,x="v1.0.11",S="_ocp",D=/[ \t]*(\r\n|\n|\r)/g,E=/\\(['"\\])/g,T=/['"\\]/g,P=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,M=/^if\s/,L=/<(\w+)[>\s]/,k=/[\x00`><\"'&=]/,F=/^on[A-Z]|^convert(Back)?$/,B=/^\#\d+_`[\s\S]*\/\d+_`$/,A=/[\x00`><"'&=]/g,j=/[&<>]/g,R=/&(amp|gt|lt);/g,U=/\[['"]?|['"]?\]/g,O=0,N={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},H={amp:"&",gt:">",lt:"<"},V="html",q="object",Y="data-jsv-tmpl",z="jsvTmpl",Q="For #index in nested block use #getIndex().",G={},J={},K=e.jsrender,W=K&&t&&!t.render,X={template:{compile:function e(a,n,i,r){function o(n){var s,o;if(""+n===n||n.nodeType>0&&(d=n)){if(!d)if(/^\.?\/[^\\:*?"<>]*$/.test(n))(o=c[a=a||n])?n=o:d=document.getElementById(n);else if("#"===n.charAt(0))d=document.getElementById(n.slice(1));else if(t.fn&&!g.rTmpl.test(n))try{d=t(n,document)[0]}catch(e){}d&&("SCRIPT"!==d.tagName&&Ce(n+": Use script block, not "+d.tagName),r?n=d.innerHTML:((s=d.getAttribute(Y))&&(s!==z?(n=c[s],delete c[s]):t.fn&&(n=t.data(d).jsvTmpl)),s&&n||(a=a||(t.fn?z:n),n=e(a,d.innerHTML,i,r)),n.tmplName=a=a||s,a!==z&&(c[a]=n),d.setAttribute(Y,a),t.fn&&t.data(d,z,n))),d=void 0}else n.fn||(n=void 0);return n}var d,l,m=n=n||"";g._html=u.html,0===r&&(r=void 0,m=o(m));(r=r||(n.markup?n.bnds?re({},n):n:{})).tmplName=r.tmplName||a||"unnamed",i&&(r._parentTmpl=i);!m&&n.markup&&(m=o(n.markup))&&m.fn&&(m=m.markup);if(void 0!==m)return m.render||n.render?m.tmpls&&(l=m):(n=ve(m,r),Ie(m.replace(T,"\\$&"),n)),l||function(e){var t,a,n;for(t in X)e[a=t+"s"]&&(n=e[a],e[a]={},s[a](n,e))}(l=re((function(){return l.render.apply(l,arguments)}),n)),l}},tag:{compile:function(e,t,a){var n,i,r,s=new g._tg;function o(){var t=this;t._={unlinked:!0},t.inline=!0,t.tagName=e}d(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t});if(i=t.baseTag)for(r in t.flow=!!t.flow,(i=""+i===i?a&&a.tags[i]||p[i]:i)||Ce('baseTag: "'+t.baseTag+'" not found'),s=re(s,i),t)s[r]=ee(i[r],t[r]);else s=re(s,t);void 0!==(n=s.template)&&(s.template=""+n===n?c[n]||c(n):n);(o.prototype=s).constructor=s._ctr=o,a&&(s._parentTmpl=a);return s}},viewModel:{compile:function(e,a){var n,i,r,s=this,c=a.getters,u=a.extend,m=a.id,p=t.extend({_is:e||"unnamed",unmap:_,merge:C},u),g="",h="",v=c?c.length:0,f=t.observable,$={};function y(e){i.apply(this,e)}function b(){return new y(arguments)}function w(e,t){for(var a,n,i,r,o,d=0;d<v;d++)a=void 0,(i=c[d])+""!==i&&(i=(a=i).getter,o=a.parentRef),void 0===(r=e[i])&&a&&void 0!==(n=a.defaultVal)&&(r=ge(n,e)),t(r,a&&s[a.type],i,o)}function C(e,t,a){e=e+""===e?JSON.parse(e):e;var n,i,r,s,d,c,u,p,g,h,v=0,y=this;if(l(y)){for(u={},g=[],i=e.length,r=y.length;v<i;v++){for(p=e[v],c=!1,n=0;n<r&&!c;n++)u[n]||(d=y[n],m&&(u[n]=c=m+""===m?p[m]&&($[m]?d[m]():d[m])===p[m]:m(d,p)));c?(d.merge(p),g.push(d)):(g.push(h=b.map(p)),a&&he(h,a,t))}f?f(y).refresh(g,!0):y.splice.apply(y,[0,y.length].concat(g))}else for(s in w(e,(function(e,t,a,n){t?y[a]().merge(e,y,n):y[a]()!==e&&y[a](e)})),e)s===o||$[s]||(y[s]=e[s])}function _(){var e,t,a,n,i=0,r=this;function u(e){for(var t=[],a=0,n=e.length;a<n;a++)t.push(e[a].unmap());return t}if(l(r))return u(r);for(e={};i<v;i++)a=void 0,(t=c[i])+""!==t&&(t=(a=t).getter),n=r[t](),e[t]=a&&n&&s[a.type]?l(n)?u(n):n.unmap():n;for(t in r)!r.hasOwnProperty(t)||"_"===t.charAt(0)&&$[t.slice(1)]||t===o||d(r[t])||(e[t]=r[t]);return e}for(y.prototype=p,n=0;n<v;n++)!function(e){e=e.getter||e,$[e]=n+1;var t="_"+e;g+=(g?",":"")+e,h+="this."+t+" = "+e+";\n",p[e]=p[e]||function(a){if(!arguments.length)return this[t];f?f(this).setProperty(e,a):this[t]=a},f&&(p[e].set=p[e].set||function(e){this[t]=e})}(c[n]);return h=new Function(g,h),(i=function(){h.apply(this,arguments),(r=arguments[v+1])&&he(this,arguments[v],r)}).prototype=p,p.constructor=i,b.map=function(t){t=t+""===t?JSON.parse(t):t;var a,n,i,r,s=0,d=t,u=[];if(l(t)){for(a=(t=t||[]).length;s<a;s++)u.push(this.map(t[s]));return u._is=e,u.unmap=_,u.merge=C,u}if(t){for(w(t,(function(e,t){t&&(e=t.map(e)),u.push(e)})),d=this.apply(this,u),s=v;s--;)if(i=u[s],(r=c[s].parentRef)&&i&&i.unmap)if(l(i))for(a=i.length;a--;)he(i[a],r,d);else he(i,r,d);for(n in t)n===o||$[n]||(d[n]=t[n])}return d},b.getters=c,b.extend=u,b.id=m,b}},helper:{},converter:{}};function Z(e,t){return function(){var a,n=this,i=n.base;return n.base=e,a=t.apply(n,arguments),n.base=i,a}}function ee(e,t){return d(t)&&((t=Z(e?e._d?e:Z(ne,e):ne,t))._d=(e&&e._d||0)+1),t}function te(e,t){var a,n=t.props;for(a in n)!F.test(a)||e[a]&&e[a].fix||(e[a]="convert"!==a?ee(e.constructor.prototype[a],n[a]):n[a])}function ae(e){return e}function ne(){return""}function ie(e){this.name=(t.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function re(e,t){if(e){for(var a in t)e[a]=t[a];return e}}function se(){var e=this.get("item");return e?e.index:void 0}function oe(){return this.index}function de(e,t,a,n){var i,r,s,o=0;if(1===a&&(n=1,a=void 0),t)for(s=(r=t.split(".")).length;e&&o<s;o++)i=e,e=r[o]?e[r[o]]:e;return a&&(a.lt=a.lt||o<s),void 0===e?n?ne:"":n?function(){return e.apply(i,arguments)}:e}function le(a,n,i){var r,s,o,l,c,u,p,h=this,v=!I&&arguments.length>1,f=h.ctx;if(a){if(h._||(c=h.index,h=h.tag),u=h,f&&f.hasOwnProperty(a)||(f=m).hasOwnProperty(a)){if(o=f[a],"tag"===a||"tagCtx"===a||"root"===a||"parentTags"===a)return o}else f=void 0;if((!I&&h.tagCtx||h.linked)&&(o&&o._cxp||(h=h.tagCtx||d(o)?h:!(h=h.scope||h).isTop&&h.ctx.tag||h,void 0!==o&&h.tagCtx&&(h=h.tagCtx.view.scope),f=h._ocps,(o=f&&f.hasOwnProperty(a)&&f[a]||o)&&o._cxp||!i&&!v||((f||(h._ocps=h._ocps||{}))[a]=o=[{_ocp:o,_vw:u,_key:a}],o._cxp={path:S,ind:0,updateValue:function(e,a){return t.observable(o[0]).setProperty(S,e),this}})),l=o&&o._cxp)){if(arguments.length>2)return(s=o[1]?g._ceo(o[1].deps):[S]).unshift(o[0]),s._cxp=l,s;if(c=l.tagElse,p=o[1]?l.tag&&l.tag.cvtArgs?l.tag.cvtArgs(c,1)[l.ind]:o[1](o[0].data,o[0],g):o[0]._ocp,v)return g._ucp(a,n,h,l),h;o=p}return o&&d(o)&&re(r=function(){return o.apply(this&&this!==e?this:u,arguments)},o),r||o}}function ce(e,t){var a,n,i,r,s,o,d,c=this;if(c.tagName){if(!(c=((o=c).tagCtxs||[c])[e||0]))return}else o=c.tag;if(s=o.bindFrom,r=c.args,(d=o.convert)&&""+d===d&&(d="true"===d?void 0:c.view.getRsc("converters",d)||Ce("Unknown converter: '"+d+"'")),d&&!t&&(r=r.slice()),s){for(i=[],a=s.length;a--;)n=s[a],i.unshift(ue(c,n));t&&(r=i)}if(d){if(void 0===(d=d.apply(o,i||r)))return r;if(a=(s=s||[0]).length,l(d)&&(!1===d.arg0||1!==a&&d.length===a&&!d.arg0)||(d=[d],s=[0],a=1),t)r=d;else for(;a--;)+(n=s[a])===n&&(r[n]=d[a])}return r}function ue(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function me(e){return this.cvtArgs(e,1)}function pe(e,t,a,n,i,r,s,o){var d,l,c,u=this,m="array"===t;u.content=o,u.views=m?[]:{},u.data=n,u.tmpl=i,c=u._={key:0,useKey:m?0:1,id:""+O++,onRender:s,bnds:{}},u.linked=!!s,u.type=t||"top",t&&(u.cache={_ct:h._cchCt}),a&&"top"!==a.type||((u.ctx=e||{}).root=u.data),(u.parent=a)?(u.root=a.root||u,d=a.views,l=a._,u.isTop=l.scp,u.scope=(!e.tag||e.tag===a.ctx.tag)&&!u.isTop&&a.scope||u,l.useKey?(d[c.key="_"+l.useKey++]=u,u.index=Q,u.getIndex=se):d.length===(c.key=u.index=r)?d.push(u):d.splice(r,0,u),u.ctx=e||a.ctx):t&&(u.root=u)}function ge(e,t){return d(e)?e.call(t):e}function he(e,t,a){Object.defineProperty(e,t,{value:a,configurable:!0})}function ve(e,a){var n,i=v._wm||{},r={tmpls:[],links:{},bnds:[],_is:"template",render:be};return a&&(r=re(r,a)),r.markup=e,r.htmlTag||(n=L.exec(e),r.htmlTag=n?n[1].toLowerCase():""),(n=i[r.htmlTag])&&n!==i.div&&(r.markup=t.trim(r.markup)),r}function fe(e,t){var a=e+"s";s[a]=function n(i,r,o){var d,l,c,u=g.onStore[e];if(i&&typeof i===q&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===e&&i.getters||i.extend)){for(l in i)n(l,i[l],r);return r||s}return i&&""+i!==i&&(o=r,r=i,i=void 0),c=o?"viewModel"===e?o:o[a]=o[a]||{}:n,d=t.compile,void 0===r&&(r=d?i:c[i],i=void 0),null===r?i&&delete c[i]:(d&&((r=d.call(c,i,r,o,0)||{})._is=e),i&&(c[i]=r)),u&&u(i,r,o,d),r}}function $e(e){f[e]=f[e]||function(t){return arguments.length?(h[e]=t,f):h[e]}}function ye(e){function t(t,a){this.tgt=e.getTgt(t,a),a.map=this}return d(e)&&(e={getTgt:e}),e.baseMap&&(e=re(re({},e.baseMap),e)),e.map=function(e,a){return new t(e,a)},e}function be(e,t,a,n,i,s){var o,c,u,m,p,h,f,$,y=n,b="";if(!0===t?(a=t,t=void 0):typeof t!==q&&(t=void 0),(u=this.tag)?(p=this,m=(y=y||p.view)._getTmpl(u.template||p.tmpl),arguments.length||(e=u.contentCtx&&d(u.contentCtx)?e=u.contentCtx(e):y)):m=this,m){if(!n&&e&&"view"===e._is&&(y=e),y&&e===y&&(e=y.data),h=!y,I=I||h,h&&((t=t||{}).root=e),!I||v.useViews||m.useViews||y&&y!==r)b=we(m,e,t,a,y,i,s,u);else{if(y?(f=y.data,$=y.index,y.index=Q):(f=(y=r).data,y.data=e,y.ctx=t),l(e)&&!a)for(o=0,c=e.length;o<c;o++)y.index=o,y.data=e[o],b+=m.fn(e[o],y,g);else y.data=e,b+=m.fn(e,y,g);y.data=f,y.index=$}h&&(I=void 0)}return b}function we(e,t,a,n,i,r,s,o){var d,c,u,m,p,h,v,f,$,y,b,w,C,_="";if(o&&($=o.tagName,w=o.tagCtx,a=a?Te(a,o.ctx):o.ctx,e===i.content?v=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==w.content?e===o.template?(v=w.tmpl,a._wrp=w.content):v=w.content||i.content:v=i.content,!1===w.props.link&&((a=a||{}).link=!1)),i&&(s=s||i._.onRender,(C=a&&!1===a.link)&&i._.nl&&(s=void 0),a=Te(a,i.ctx),w=!o&&i.tag?i.tag.tagCtxs[i.tagElse]:w),(y=w&&w.props.itemVar)&&("~"!==y[0]&&_e("Use itemVar='~myItem'"),y=y.slice(1)),!0===r&&(h=!0,r=0),s&&o&&o._.noVws&&(s=void 0),f=s,!0===s&&(f=void 0,s=i._.onRender),b=a=e.helpers?Te(e.helpers,a):a,l(t)&&!n)for((u=h?i:void 0!==r&&i||new pe(a,"array",i,t,e,r,s,v))._.nl=C,i&&i._.useKey&&(u._.bnd=!o||o._.bnd&&o,u.tag=o),d=0,c=t.length;d<c;d++)m=new pe(b,"item",u,t[d],e,(r||0)+d,s,u.content),y&&((m.ctx=re({},b))[y]=g._cp(t[d],"#data",m)),p=e.fn(t[d],m,g),_+=u._.onRender?u._.onRender(p,m):p;else u=h?i:new pe(b,$||"data",i,t,e,r,s,v),y&&((u.ctx=re({},b))[y]=g._cp(t,"#data",u)),u.tag=o,u._.nl=C,_+=e.fn(t,u,g);return o&&(u.tagElse=w.index,w.contentView=u),f?f(_,u):_}function Ce(e){throw new g.Err(e)}function _e(e){Ce("Syntax error\n"+e)}function Ie(e,t,a,n,r){function s(t){(t-=v)&&C.push(e.substr(v,t).replace(D,"\\n"))}function o(t,a){t&&(t+="}}",_e((a?"{{"+a+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}var d,l,c,u,m,p=h.allowCode||t&&t.allowCode||!0===f.allowCode,g=[],v=0,y=[],C=g,_=[,,g];if(p&&t._is&&(t.allowCode=p),a&&(void 0!==n&&(e=e.slice(0,-n.length-2)+b),e=$+e+w),o(y[0]&&y[0][2].pop()[0]),e.replace(i,(function(i,d,l,m,g,h,f,$,b,w,I,x){(f&&d||b&&!l||$&&":"===$.slice(-1)||w)&&_e(i),h&&(g=":",m=V);var S,T,L,k=(d||a)&&[[]],B="",A="",j="",R="",U="",O="",N="",H="",q=!(b=b||a&&!r)&&!g;l=l||($=$||"#data",g),s(x),v=x+i.length,f?p&&C.push(["*","\n"+$.replace(/^:/,"ret+= ").replace(E,"$1")+";\n"]):l?("else"===l&&(M.test($)&&_e('For "{{else if expr}}" use "{{else expr}}"'),k=_[9]&&[[]],_[10]=e.substring(_[10],x),T=_[11]||_[0]||_e("Mismatched: "+i),_=y.pop(),C=_[2],q=!0),$&&De($.replace(D," "),k,t,a).replace(P,(function(e,t,a,n,i,r,s,o){return"this:"===n&&(r="undefined"),o&&(L=L||"@"===o[0]),n="'"+i+"':",s?(A+=a+r+",",R+="'"+o+"',"):a?(j+=n+"j._cp("+r+',"'+o+'",view),',O+=n+"'"+o+"',"):t?N+=r:("trigger"===i&&(H+=r),"lateRender"===i&&(S="false"!==o),B+=n+r+",",U+=n+"'"+o+"',",u=u||F.test(i)),""})).slice(0,-1),k&&k[0]&&k.pop(),c=[l,m||!!n||u||"",q&&[],Se(R||(":"===l?"'#data',":""),U,O),Se(A||(":"===l?"data,":""),B,j),N,H,S,L,k||0],C.push(c),q&&(y.push(_),(_=c)[10]=v,_[11]=T)):I&&(o(I!==_[0]&&I!==_[11]&&I,_[0]),_[10]=e.substring(_[10],x),_=y.pop()),o(!_&&I),C=_[2]})),s(e.length),(v=g[g.length-1])&&o(""+v!==v&&+v[10]===v[10]&&v[0]),a){for(l=Ee(g,e,a),m=[],d=g.length;d--;)m.unshift(g[d][9]);xe(l,m)}else l=Ee(g,t);return l}function xe(e,t){var a,n,i=0,r=t.length;for(e.deps=[],e.paths=[];i<r;i++)for(a in e.paths.push(n=t[i]),n)"_jsvto"!==a&&n.hasOwnProperty(a)&&n[a].length&&!n[a].skp&&(e.deps=e.deps.concat(n[a]))}function Se(e,t,a){return[e.slice(0,-1),t.slice(0,-1),a.slice(0,-1)]}function De(e,a,n,i){var r,s,o,d,l,c=a&&a[0],u={bd:c},m={0:u},p=0,h=0,f=0,$={},y=0,b={},w={},C={},_={0:0},I={0:""},x=0;return"@"===e[0]&&(e=e.replace(U,".")),o=(e+(n?" ":"")).replace(g.rPrm,(function(n,o,S,D,E,P,M,L,k,F,B,A,j,R,U,O,N,H,V,q,Y){D&&!L&&(E=D+E),P=P||"",j=j||"",S=S||o||j,E=E||k,F&&(F=!/\)|]/.test(Y[q-1]))&&(E=E.slice(1).split(".").join("^")),B=B||H||"";var z,Q,J,K,W,X,Z,ee=q;if(!l&&!d){if(M&&_e(e),N&&c){if(z=C[f-1],Y.length-1>ee-(z||0)){if(z=t.trim(Y.slice(z,ee+n.length)),Q=s||m[f-1].bd,(J=Q[Q.length-1])&&J.prm){for(;J.sb&&J.sb.prm;)J=J.sb;K=J.sb={path:J.sb,bnd:J.bnd}}else Q.push(K={path:Q.pop()});J&&J.sb===K&&(I[f]=I[f-1].slice(J._cpPthSt)+I[f],I[f-1]=I[f-1].slice(0,J._cpPthSt)),K._cpPthSt=_[f-1],K._cpKey=z,I[f]+=Y.slice(x,q),x=q,K._cpfn=G[z]=G[z]||new Function("data,view,j","//"+z+"\nvar v;\nreturn ((v="+I[f]+("]"===O?")]":O)+")!=null?v:null);"),I[f-1]+=w[h]&&v.cache?'view.getCache("'+z.replace(T,"\\$&")+'"':I[f],K.prm=u.bd,K.bnd=K.bnd||K.path&&K.path.indexOf("^")>=0}I[f]=""}"["===B&&(B="[j._sq("),"["===S&&(S="[j._sq(")}return Z=l?(l=!R)?n:j+'"':d?(d=!U)?n:j+'"':(S?(b[++h]=!0,$[h]=0,c&&(C[f++]=ee++,u=m[f]={bd:[]},I[f]="",_[f]=1),S):"")+(V?h?"":(p=Y.slice(p,ee),(r?(r=s=!1,"\b"):"\b,")+p+(p=ee+n.length,c&&a.push(u.bd=[]),"\b")):L?(f&&_e(e),c&&a.pop(),r="_"+E,D,p=ee+n.length,c&&((c=u.bd=a[r]=[]).skp=!D),E+":"):E?E.split("^").join(".").replace(g.rPath,(function(e,t,n,o,d,l,m,p){if(W="."===n,n&&(E=E.slice(t.length),/^\.?constructor$/.test(p||E)&&_e(e),W||(e=(F?(i?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(o?'view.ctxPrm("'+o+'")':d?"view":"data")+(F?")===undefined"+(i?"":")")+'?"":view._getOb(ob,"':"")+(p?(l?"."+l:o||d?"":"."+n)+(m||""):(p=o?"":d?l||"":n,"")),e=t+("view.data"===(e+=p?"."+p:"").slice(0,9)?e.slice(5):e)+(F?(i?'"':'",ltOb')+(B?",1)":")"):"")),c)){if(Q="_linkTo"===r?s=a._jsvto=a._jsvto||[]:u.bd,J=W&&Q[Q.length-1]){if(J._cpfn){for(;J.sb;)J=J.sb;J.prm&&(J.bnd&&(E="^"+E.slice(1)),J.sb=E,J.bnd=J.bnd||"^"===E[0])}}else Q.push(E);B&&!W&&(C[f]=ee,_[f]=I[f].length)}return e}))+(B||P):P||(O?"]"===O?")]":")":A?(w[h]||_e(e),","):o?"":(l=R,d=U,'"'))),l||d||O&&(w[h]=!1,h--),c&&(l||d||(O&&(b[h+1]&&(u=m[--f],b[h+1]=!1),y=$[h+1]),B&&($[h+1]=I[f].length+(S?1:0),(E||O)&&(u=m[++f]={bd:[]},b[h+1]=!0))),I[f]=(I[f]||"")+Y.slice(x,q),x=q+n.length,l||d||((X=S&&b[h+1])&&(I[f-1]+=S,_[f-1]++),"("===B&&W&&!K&&(I[f]=I[f-1].slice(y)+I[f],I[f-1]=I[f-1].slice(0,y))),I[f]+=X?Z.slice(1):Z),l||d||!B||(h++,E&&"("===B&&(w[h]=!0)),l||d||!H||(c&&(I[f]+=B),Z+=B),Z})),c&&(o=I[0]),!h&&o||_e(e)}function Ee(e,t,a){var n,i,r,s,o,d,l,c,u,m,g,f,$,y,b,w,C,_,I,x,S,T,P,M,L,k,F,B,A,j,R,U,O,N,H=0,q=v.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,Y="",z={},Q=e.length;for(""+t===t?(C=a?'data-link="'+t.replace(D," ").slice(1,-1)+'"':t,t=0):(C=t.tmplName||"unnamed",t.allowCode&&(z.allowCode=!0),t.debug&&(z.debug=!0),m=t.bnds,w=t.tmpls),n=0;n<Q;n++)if(""+(i=e[n])===i)Y+='+"'+i+'"';else if("*"===(r=i[0]))Y+=";\n"+i[1]+"\nret=ret";else{if(s=i[1],x=!a&&i[2],O=i[3],N=f=i[4],o="\n\tparams:{args:["+O[0]+"],\n\tprops:{"+O[1]+"}"+(O[2]?",\n\tctx:{"+O[2]+"}":"")+"},\n\targs:["+N[0]+"],\n\tprops:{"+N[1]+"}"+(N[2]?",\n\tctx:{"+N[2]+"}":""),A=i[6],j=i[7],i[8]?(R="\nvar ob,ltOb={},ctxs=",U=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(R="\nreturn ",U=""),S=i[10]&&i[10].replace(E,"$1"),(M="else"===r)?g&&g.push(i[9]):(F=i[5]||!1!==h.debugMode&&"undefined",m&&(g=i[9])&&(g=[g],H=m.push(1))),q=q||f[1]||f[2]||g||/view.(?!index)/.test(f[0]),(L=":"===r)?s&&(r=s===V?">":s+r):(x&&((_=ve(S,z)).tmplName=C+"/"+r,_.useViews=_.useViews||q,Ee(x,_),q=_.useViews,w.push(_)),M||(I=r,q=q||r&&(!p[r]||!p[r].flow),P=Y,Y=""),T=(T=e[n+1])&&"else"===T[0]),B=F?";\ntry{\nret+=":"\n+",$="",y="",L&&(g||A||s&&s!==V||j)){if((k=new Function("data,view,j","// "+C+" "+ ++H+" "+r+R+"{"+o+"};"+U))._er=F,k._tag=r,k._bd=!!g,k._lr=j,a)return k;xe(k,g),u=!0,$=(b='c("'+s+'",view,')+H+",",y=")"}if(Y+=L?(a?(F?"try{\n":"")+"return ":B)+(u?(u=void 0,q=c=!0,b+(k?(m[H-1]=k,H):"{"+o+"}")+")"):">"===r?(l=!0,"h("+f[0]+")"):(!0,"((v="+f[0]+")!=null?v:"+(a?"null)":'"")'))):(d=!0,"\n{view:view,content:false,tmpl:"+(x?w.length:"false")+","+o+"},"),I&&!T){if(Y="["+Y.slice(0,-1)+"]",b='t("'+I+'",view,this,',a||g){if((Y=new Function("data,view,j"," // "+C+" "+H+" "+I+R+Y+U))._er=F,Y._tag=I,g&&xe(m[H-1]=Y,g),Y._lr=j,a)return Y;$=b+H+",undefined,",y=")"}Y=P+B+b+(g&&H||Y)+")",g=0,I=0}F&&!T&&(q=!0,Y+=";\n}catch(e){ret"+(a?"urn ":"+=")+$+"j._err(e,view,"+F+")"+y+";}"+(a?"":"\nret=ret"))}Y="// "+C+(z.debug?"\ndebugger;":"")+"\nvar v"+(d?",t=j._tag":"")+(c?",c=j._cnvt":"")+(l?",h=j._html":"")+(a?(i[8]?", ob":"")+";\n":',ret=""')+Y+(a?"\n":";\nreturn ret;");try{Y=new Function("data,view,j",Y)}catch(e){_e("Compiled template code:\n\n"+Y+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=Y,t.useViews=!!q),Y}function Te(e,t){return e&&e!==t?t?re(re({},t),e):e:t&&re({},t)}function Pe(e,a){var n,i,r,s=a.tag,o=a.props,c=a.params.props,u=o.filter,m=o.sort,p=!0===m,g=parseInt(o.step),h=o.reverse?-1:1;if(!l(e))return e;if(p||m&&""+m===m?((n=e.map((function(e,t){return{i:t,v:""+(e=p?e:de(e,m))===e?e.toLowerCase():e}}))).sort((function(e,t){return e.v>t.v?h:e.v<t.v?-h:0})),e=n.map((function(t){return e[t.i]}))):(m||h<0)&&!s.dataMap&&(e=e.slice()),d(m)&&(e=e.sort((function(){return m.apply(a,arguments)}))),h<0&&(!m||d(m))&&(e=e.reverse()),e.filter&&u&&(e=e.filter(u,a),a.tag.onFilter&&a.tag.onFilter(a)),c.sorted&&(n=m||h<0?e:e.slice(),s.sorted?t.observable(s.sorted).refresh(n):a.map.sorted=n),i=o.start,r=o.end,(c.start&&void 0===i||c.end&&void 0===r)&&(i=r=0),isNaN(i)&&isNaN(r)||(i=+i||0,r=void 0===r||r>e.length?e.length:+r,e=e.slice(i,r)),g>1){for(i=0,r=e.length,n=[];i<r;i+=g)n.push(e[i]);e=n}return c.paged&&s.paged&&$observable(s.paged).refresh(e),e}function Me(e,a,n){var i=this.jquery&&(this[0]||Ce("Unknown template")),r=i.getAttribute(Y);return be.call(r&&t.data(i).jsvTmpl||c(i),e,a,n)}function Le(e){return N[e]||(N[e]="&#"+e.charCodeAt(0)+";")}function ke(e,t){return H[t]||""}function Fe(e){return null!=e?k.test(e)&&(""+e).replace(A,Le)||e:""}if(s={jsviews:x,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:pe,Err:ie,tmplFn:Ie,parse:De,extend:re,extendCtx:Te,syntaxErr:_e,onStore:{template:function(e,t){null===t?delete J[e]:e&&(J[e]=t)}},addSetting:$e,settings:{allowCode:!1},advSet:ne,_thp:te,_gm:ee,_tg:function(){},_cnvt:function(e,t,a,n){var i,r,s,o,d,l="number"==typeof a&&t.tmpl.bnds[a-1];void 0===n&&l&&l._lr&&(n="");void 0!==n?a=n={props:{},args:[n]}:l&&(a=l(t.data,t,g));if(l=l._bd&&l,e||l){if(r=t._lc,i=r&&r.tag,a.view=t,!i){if(i=re(new g._tg,{_:{bnd:l,unlinked:!0,lt:a.lt},inline:!r,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:a,tagCtxs:[a],_is:"tag"}),(o=a.args.length)>1)for(d=i.bindTo=[];o--;)d.unshift(o);r&&(r.tag=i,i.linkCtx=r),a.ctx=Te(a.ctx,(r?r.view:t).ctx),te(i,a)}i._er=n&&s,i.ctx=a.ctx||i.ctx||{},a.ctx=void 0,s=i.cvtArgs()[0],i._er=n&&s}else s=a.args[0];return null!=(s=l&&t._.onRender?t._.onRender(s,t,i):s)?s:""},_tag:function(e,t,a,n,i,s){function o(e){var t=d[e];if(void 0!==t)for(t=l(t)?t:[t],f=t.length;f--;)A=t[f],isNaN(parseInt(A))||(t[f]=parseInt(A));return t||[0]}var d,c,m,p,h,v,f,$,y,b,w,C,_,I,x,S,D,E,T,P,M,L,k,F,A,j,R,U,O,N=0,H="",q=(t=t||r)._lc||!1,Y=t.ctx,z=a||t.tmpl,Q="number"==typeof n&&t.tmpl.bnds[n-1];"tag"===e._is?(e=(d=e).tagName,n=d.tagCtxs,d.template):(c=t.getRsc("tags",e)||Ce("Unknown tag: {{"+e+"}} "),c.template);void 0===s&&Q&&(Q._lr=c.lateRender&&!1!==Q._lr||Q._lr)&&(s="");void 0!==s?(H+=s,n=s=[{props:{},args:[],params:{props:{}}}]):Q&&(n=Q(t.data,t,g));for(v=n.length;N<v;N++)b=n[N],S=b.tmpl,(!q||!q.tag||N&&!q.tag.inline||d._er||S&&+S===S)&&(S&&z.tmpls&&(b.tmpl=b.content=z.tmpls[S-1]),b.index=N,b.ctxPrm=le,b.render=be,b.cvtArgs=ce,b.bndArgs=me,b.view=t,b.ctx=Te(Te(b.ctx,c&&c.ctx),Y)),(a=b.props.tmpl)&&(b.tmpl=t._getTmpl(a),b.content=b.content||b.tmpl),d?q&&q.fn._lr&&(D=!!d.init):(d=new c._ctr,D=!!d.init,d.parent=h=Y&&Y.tag,d.tagCtxs=n,q&&(d.inline=!1,q.tag=d),d.linkCtx=q,(d._.bnd=Q||q.fn)?(d._.ths=b.params.props.this,d._.lt=n.lt,d._.arrVws={}):d.dataBoundOnly&&Ce(e+" must be data-bound:\n{^{"+e+"}}")),k=d.dataMap,b.tag=d,k&&n&&(b.map=n[N].map),d.flow||(w=b.ctx=b.ctx||{},m=d.parents=w.parentTags=Y&&Te(w.parentTags,Y.parentTags)||{},h&&(m[h.tagName]=h),m[d.tagName]=w.tag=d,w.tagCtx=b);if(!(d._er=s)){for(te(d,n[0]),d.rendering={rndr:d.rendering},N=0;N<v;N++){if(b=d.tagCtx=n[N],L=b.props,d.ctx=b.ctx,!N){if(D&&(d.init(b,q,d.ctx),D=void 0),b.args.length||!1===b.argDefault||!1===d.argDefault||(b.args=P=[b.view.data],b.params.args=["#data"]),_=o("bindTo"),void 0!==d.bindTo&&(d.bindTo=_),void 0!==d.bindFrom?d.bindFrom=o("bindFrom"):d.bindTo&&(d.bindFrom=d.bindTo=_),I=d.bindFrom||_,R=_.length,j=I.length,d._.bnd&&(U=d.linkedElement)&&(d.linkedElement=U=l(U)?U:[U],R!==U.length&&Ce("linkedElement not same length as bindTo")),(U=d.linkedCtxParam)&&(d.linkedCtxParam=U=l(U)?U:[U],j!==U.length&&Ce("linkedCtxParam not same length as bindFrom/bindTo")),I)for(d._.fromIndex={},d._.toIndex={},$=j;$--;)for(A=I[$],f=R;f--;)A===_[f]&&(d._.fromIndex[f]=$,d._.toIndex[$]=f);q&&(q.attr=d.attr=q.attr||d.attr||q._dfAt),p=d.attr,d._.noVws=p&&p!==V}if(P=d.cvtArgs(N),d.linkedCtxParam)for(M=d.cvtArgs(N,1),f=j,O=d.constructor.prototype.ctx;f--;)(C=d.linkedCtxParam[f])&&(A=I[f],x=M[f],b.ctx[C]=g._cp(O&&void 0===x?O[C]:x,void 0!==x&&ue(b.params,A),b.view,d._.bnd&&{tag:d,cvt:d.convert,ind:f,tagElse:N}));(E=L.dataMap||k)&&(P.length||L.dataMap)&&((T=b.map)&&T.src===P[0]&&!i||(T&&T.src&&T.unmap(),E.map(P[0],b,T,!d._.bnd),T=b.map),P=[T.tgt]),y=void 0,d.render&&(y=d.render.apply(d,P),t.linked&&y&&!B.test(y)&&((a={links:[]}).render=a.fn=function(){return y},y=we(a,t.data,void 0,!0,t,void 0,void 0,d))),P.length||(P=[t]),void 0===y&&(F=P[0],d.contentCtx&&(F=!0===d.contentCtx?t:d.contentCtx(F)),y=b.render(F,!0)||(i?void 0:"")),H=H?H+(y||""):void 0!==y?""+y:void 0}d.rendering=d.rendering.rndr}d.tagCtx=n[0],d.ctx=d.tagCtx.ctx,d._.noVws&&d.inline&&(H="text"===p?u.html(H):"");return Q&&t._.onRender?t._.onRender(H,t,d):H},_er:Ce,_err:function(e,t,a){var n=void 0!==a?d(a)?a.call(t.data,e,t):a||"":"{Error: "+(e.message||e)+"}";h.onError&&void 0!==(a=h.onError.call(t.data,e,a&&n,t))&&(n=a);return t&&!t._lc?u.html(n):n},_cp:ae,_sq:function(e){return"constructor"===e&&_e(""),e}},settings:{delimiters:function e(t,a,n){if(!t)return h.delimiters;if(l(t))return e.apply(s,t);C=n?n[0]:C,/^(\W|_){5}$/.test(t+a+C)||Ce("Invalid delimiters");return $=t[0],y=t[1],b=a[0],w=a[1],h.delimiters=[$+y,b+w,C],t="\\"+$+"(\\"+C+")?\\"+y,a="\\"+b+"\\"+w,i="(?:(\\w+(?=[\\/\\s\\"+b+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+b+"]|\\"+b+"(?!\\"+w+"))*?)",g.rTag="(?:"+i+")",i=new RegExp("(?:"+t+i+"(\\/)?|\\"+$+"(\\"+C+")?\\"+y+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+a,"g"),g.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+a),f},advanced:function(e){return e?(re(v,e),g.advSet(),f):v}},map:ye},(ie.prototype=new Error).constructor=ie,se.depends=function(){return[this.get("item"),"index"]},oe.depends="index",pe.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var a,n,i,r,s=this,o="root"===t;if(e){if(!(r=t&&s.type===t&&s))if(a=s.views,s._.useKey){for(n in a)if(r=t?a[n].get(e,t):a[n])break}else for(n=0,i=a.length;!r&&n<i;n++)r=t?a[n].get(e,t):a[n]}else if(o)r=s.root;else if(t)for(;s&&!r;)r=s.type===t?s:void 0,s=s.parent;else r=s.parent;return r||void 0},getIndex:oe,ctxPrm:le,getRsc:function(e,t){var a,n,i=this;if(""+t===t){for(;void 0===a&&i;)a=(n=i.tmpl&&i.tmpl[e])&&n[t],i=i.parent;return a||s[e][t]}},_getTmpl:function(e){return e&&(e.fn?e:this.getRsc("templates",e)||c(e))},_getOb:de,getCache:function(e){return h._cchCt>this.cache._ct&&(this.cache={_ct:h._cchCt}),void 0!==this.cache[e]?this.cache[e]:this.cache[e]=G[e](this.data,this,g)},_is:"view"},g=s.sub,f=s.settings,!(K||t&&t.render)){for(n in X)fe(n,X[n]);if(u=s.converters,m=s.helpers,p=s.tags,g._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:ce,bndArgs:me,ctxPrm:le},r=g.topView=new pe,t){if(t.fn.render=Me,o=t.expando,t.observable){if(x!==(x=t.views.jsviews))throw"jquery.observable.js requires jsrender.js "+x;re(g,t.views.sub),s.map=t.views.map}}else t={},a&&(e.jsrender=t),t.renderFile=t.__express=t.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},t.isFunction=function(e){return"function"==typeof e},t.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},g._jq=function(e){e!==t&&(re(e,t),(t=e).fn.render=Me,delete t.jsrender,o=t.expando)},t.jsrender=x;for(_ in(h=g.settings).allowCode=!1,d=t.isFunction,t.render=J,t.views=s,t.templates=c=s.templates,h)$e(_);(f.debugMode=function(e){return void 0===e?h.debugMode:(h._clFns&&h._clFns(),h.debugMode=e,h.onError=e+""===e?function(){return e}:d(e)?e:void 0,f)})(!1),v=h.advanced={cache:!0,useViews:!1,_jsv:!1},p({if:{render:function(e){var t=this,a=t.tagCtx;return t.rendering.done||!e&&(a.args.length||!a.index)?"":(t.rendering.done=!0,void(t.selected=a.index))},contentCtx:!0,flow:!0},for:{sortDataMap:ye(Pe),init:function(e,t){this.setDataMap(this.tagCtxs)},render:function(e){var t,a,n,i,r,s=this,o=s.tagCtx,d=!1===o.argDefault,c=o.props,u=d||o.args.length,m="",p=0;if(!s.rendering.done){if(t=u?e:o.view.data,d)for(d=c.reverse?"unshift":"push",i=+c.end,r=+c.step||1,t=[],n=+c.start||0;(i-n)*r>0;n+=r)t[d](n);void 0!==t&&(a=l(t),m+=o.render(t,!u||c.noIteration),p+=a?t.length:1),(s.rendering.done=p)&&(s.selected=o.index)}return m},setDataMap:function(e){for(var t,a,n,i=e.length;i--;)a=(t=e[i]).props,n=t.params.props,t.argDefault=void 0===a.end||t.args.length>0,a.dataMap=!1!==t.argDefault&&l(t.args[0])&&(n.sort||n.start||n.end||n.step||n.filter||n.reverse||a.sort||a.start||a.end||a.step||a.filter||a.reverse)&&this.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:ye((function(e,a){var n,i,r=a.map,s=r&&r.propsArr;if(!s){if(s=[],typeof e===q||d(e))for(n in e)i=e[n],n===o||!e.hasOwnProperty(n)||a.props.noFunctions&&t.isFunction(i)||s.push({key:n,prop:i});r&&(r.propsArr=r.options&&s)}return Pe(s,a)})),init:ne,flow:!0},include:{flow:!0},"*":{render:ae,flow:!0},":*":{render:ae,flow:!0},dbg:m.dbg=u.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),u({html:Fe,attr:Fe,encode:function(e){return""+e===e?e.replace(j,Le):e},unencode:function(e){return""+e===e?e.replace(R,ke):e},url:function(e){return null!=e?encodeURI(""+e):null===e?e:""}})}return h=g.settings,l=(t||K).isArray,f.delimiters("{{","}}","^"),W&&K.views.sub._jq(t),t||K}),window)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{PageRenderer:()=>oe,PageSnapshot:()=>V,clearCache:()=>be,connectStreamSource:()=>fe,disconnectStreamSource:()=>$e,navigator:()=>pe,registerAdapter:()=>he,renderStreamMessage:()=>ye,session:()=>me,setConfirmMethod:()=>Ce,setProgressBarDelay:()=>we,start:()=>ge,visit:()=>ve}),function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement,t=function(){return Reflect.construct(e,[],this.constructor)};window.HTMLElement=t,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}(),function(e){function t(e,t,a){throw new e("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+t+".",a)}"function"!=typeof e.requestSubmit&&(e.requestSubmit=function(e){e?(!function(e,a){e instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==e.type||t(TypeError,"The specified element is not a submit button"),e.form==a||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}(e,this),e.click()):((e=document.createElement("input")).type="submit",e.hidden=!0,this.appendChild(e),e.click(),this.removeChild(e))})}(HTMLFormElement.prototype);const t=new WeakMap;function a(e){const a=function(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,a=t?t.closest("input, button"):null;return"submit"==(null==a?void 0:a.type)?a:null}(e.target);a&&a.form&&t.set(a.form,a)}var n,i,r,s,o,d;!function(){if("submitter"in Event.prototype)return;let e;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else{if("SubmitEvent"in window)return;e=window.Event.prototype}addEventListener("click",a,!0),Object.defineProperty(e,"submitter",{get(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return t.get(this.target)}})}(),function(e){e.eager="eager",e.lazy="lazy"}(n||(n={}));class l extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new l.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){const{src:e}=this;this.src=null,this.src=e}attributeChangedCallback(e){"loading"==e?this.delegate.loadingStyleChanged():"src"==e?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return function(e){switch(e.toLowerCase()){case"lazy":return n.lazy;default:return n.eager}}(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return null===(t=null===(e=this.ownerDocument)||void 0===e?void 0:e.documentElement)||void 0===t?void 0:t.hasAttribute("data-turbo-preview")}}function c(e){return new URL(e.toString(),document.baseURI)}function u(e){let t;return e.hash?e.hash.slice(1):(t=e.href.match(/#(.*)$/))?t[1]:void 0}function m(e,t){return c((null==t?void 0:t.getAttribute("formaction"))||e.getAttribute("action")||e.action)}function p(e){return(function(e){return function(e){return e.pathname.split("/").slice(1)}(e).slice(-1)[0]}(e).match(/\.[^.]*$/)||[])[0]||""}function g(e,t){const a=function(e){return t=e.origin+e.pathname,t.endsWith("/")?t:t+"/";var t}(t);return e.href===c(a).href||e.href.startsWith(a)}function h(e,t){return g(e,t)&&!!p(e).match(/^(?:|\.(?:htm|html|xhtml))$/)}function v(e){const t=u(e);return null!=t?e.href.slice(0,-(t.length+1)):e.href}function f(e){return v(e)}class ${constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return c(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function y(e,{target:t,cancelable:a,detail:n}={}){const i=new CustomEvent(e,{cancelable:a,bubbles:!0,detail:n});return t&&t.isConnected?t.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function b(){return new Promise((e=>requestAnimationFrame((()=>e()))))}function w(e=""){return(new DOMParser).parseFromString(e,"text/html")}function C(e,...t){const a=function(e,t){return e.reduce(((e,a,n)=>e+a+(null==t[n]?"":t[n])),"")}(e,t).replace(/^\n/,"").split("\n"),n=a[0].match(/^\s+/),i=n?n[0].length:0;return a.map((e=>e.slice(i))).join("\n")}function _(){return Array.apply(null,{length:36}).map(((e,t)=>8==t||13==t||18==t||23==t?"-":14==t?"4":19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16))).join("")}function I(e,...t){for(const a of t.map((t=>null==t?void 0:t.getAttribute(e))))if("string"==typeof a)return a;return null}function x(...e){for(const t of e)"turbo-frame"==t.localName&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function S(...e){for(const t of e)"turbo-frame"==t.localName&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}!function(e){e[e.get=0]="get",e[e.post=1]="post",e[e.put=2]="put",e[e.patch=3]="patch",e[e.delete=4]="delete"}(i||(i={}));class D{constructor(e,t,a,n=new URLSearchParams,i=null){this.abortController=new AbortController,this.resolveRequestPromise=e=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=n,this.url=a,this.target=i}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){var e,t;const{fetchOptions:a}=this;null===(t=(e=this.delegate).prepareHeadersForRequest)||void 0===t||t.call(e,this.headers,this),await this.allowRequestToBeIntercepted(a);try{this.delegate.requestStarted(this);const e=await fetch(this.url.href,a);return await this.receive(e)}catch(e){if("AbortError"!==e.name)throw this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new $(e);return y("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:i[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isIdempotent?null:this.body,signal:this.abortSignal,referrer:null===(e=this.delegate.referrer)||void 0===e?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isIdempotent(){return this.method==i.get}get abortSignal(){return this.abortController.signal}async allowRequestToBeIntercepted(e){const t=new Promise((e=>this.resolveRequestPromise=e));y("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}}class E{constructor(e,t){this.started=!1,this.intersect=e=>{const t=e.slice(-1)[0];(null==t?void 0:t.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class T{constructor(e){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=e}static wrap(e){return"string"==typeof e?new this(e):e}get fragment(){const e=document.createDocumentFragment();for(const t of this.foreignElements)e.appendChild(document.importNode(t,!0));return e}get foreignElements(){return this.templateChildren.reduce(((e,t)=>"turbo-stream"==t.tagName.toLowerCase()?[...e,t]:e),[])}get templateChildren(){return Array.from(this.templateElement.content.children)}}T.contentType="text/vnd.turbo-stream.html",function(e){e[e.initialized=0]="initialized",e[e.requesting=1]="requesting",e[e.waiting=2]="waiting",e[e.receiving=3]="receiving",e[e.stopping=4]="stopping",e[e.stopped=5]="stopped"}(r||(r={})),function(e){e.urlEncoded="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.plain="text/plain"}(s||(s={}));class P{constructor(e,t,a,n=!1){this.state=r.initialized,this.delegate=e,this.formElement=t,this.submitter=a,this.formData=function(e,t){const a=new FormData(e),n=null==t?void 0:t.getAttribute("name"),i=null==t?void 0:t.getAttribute("value");n&&null!=i&&a.get(n)!=i&&a.append(n,i);return a}(t,a),this.location=c(this.action),this.method==i.get&&function(e,t){const a=new URLSearchParams;for(const[e,n]of t)n instanceof File||a.append(e,n);e.search=a.toString()}(this.location,[...this.body.entries()]),this.fetchRequest=new D(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=n}static confirmMethod(e,t){return confirm(e)}get method(){var e;return function(e){switch(e.toLowerCase()){case"get":return i.get;case"post":return i.post;case"put":return i.put;case"patch":return i.patch;case"delete":return i.delete}}(((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||i.get}get action(){var e;const t="string"==typeof this.formElement.action?this.formElement.action:null;return(null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formaction"))||this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==s.urlEncoded||this.method==i.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return function(e){switch(e.toLowerCase()){case s.multipart:return s.multipart;case s.plain:return s.plain;default:return s.urlEncoded}}((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[...this.formData].reduce(((e,[t,a])=>e.concat("string"==typeof a?[[t,a]]:[])),[])}get confirmationMessage(){return this.formElement.getAttribute("data-turbo-confirm")}get needsConfirmation(){return null!==this.confirmationMessage}async start(){const{initialized:e,requesting:t}=r;if(this.needsConfirmation){if(!P.confirmMethod(this.confirmationMessage,this.formElement))return}if(this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=r;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(e,t){if(!t.isIdempotent){const t=function(e){if(null!=e){const t=(document.cookie?document.cookie.split("; "):[]).find((t=>t.startsWith(e)));if(t){const e=t.split("=").slice(1).join("=");return e?decodeURIComponent(e):void 0}}}(M("csrf-param"))||M("csrf-token");t&&(e["X-CSRF-Token"]=t),e.Accept=[T.contentType,e.Accept].join(", ")}}requestStarted(e){var t;this.state=r.waiting,null===(t=this.submitter)||void 0===t||t.setAttribute("disabled",""),y("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&function(e){return 200==e.statusCode&&!e.redirected}(t)){const e=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,e)}else this.state=r.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=r.stopped,null===(t=this.submitter)||void 0===t||t.removeAttribute("disabled"),y("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(e){return!e.isIdempotent&&this.mustRedirect}}function M(e){const t=document.querySelector(`meta[name="${e}"]`);return t&&t.content}class L{constructor(e){this.element=e}get children(){return[...this.element.children]}hasAnchor(e){return null!=this.getElementForAnchor(e)}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return this.element.querySelector("[autofocus]")}get permanentElements(){return[...this.element.querySelectorAll("[id][data-turbo-permanent]")]}getPermanentElementById(e){return this.element.querySelector(`#${e}[data-turbo-permanent]`)}getPermanentElementMapForSnapshot(e){const t={};for(const a of this.permanentElements){const{id:n}=a,i=e.getPermanentElementById(n);i&&(t[n]=[a,i])}return t}}class k{constructor(e,t){this.submitBubbled=e=>{const t=e.target;if(!e.defaultPrevented&&t instanceof HTMLFormElement&&t.closest("turbo-frame, html")==this.element){const a=e.submitter||void 0;"dialog"!=((null==a?void 0:a.getAttribute("formmethod"))||t.method)&&this.delegate.shouldInterceptFormSubmission(t,a)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmissionIntercepted(t,a))}},this.delegate=e,this.element=t}start(){this.element.addEventListener("submit",this.submitBubbled)}stop(){this.element.removeEventListener("submit",this.submitBubbled)}}class F{constructor(e,t){this.resolveRenderPromise=e=>{},this.resolveInterceptionPromise=e=>{},this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(u(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:a,newSnapshot:n}=e;if(a)try{this.renderPromise=new Promise((e=>this.resolveRenderPromise=e)),this.renderer=e,this.prepareToRenderSnapshot(e);const a=new Promise((e=>this.resolveInterceptionPromise=e));this.delegate.allowsImmediateRender(n,this.resolveInterceptionPromise)||await a,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,t),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate()}invalidate(){this.delegate.viewInvalidated()}prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class B extends F{invalidate(){this.element.innerHTML=""}get snapshot(){return new L(this.element)}}class A{constructor(e,t){this.clickBubbled=e=>{this.respondsToEventTarget(e.target)?this.clickEvent=e:delete this.clickEvent},this.linkClicked=e=>{this.clickEvent&&this.respondsToEventTarget(e.target)&&e.target instanceof Element&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url)),delete this.clickEvent},this.willVisit=()=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}}class j{constructor(e,t,a,n=!0){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=a,this.willRender=n,this.promise=new Promise(((e,t)=>this.resolvingFunctions={resolve:e,reject:t}))}get shouldRender(){return!0}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}createScriptElement(e){if("false"==e.getAttribute("data-turbo-eval"))return e;{const t=document.createElement("script");return this.cspNonce&&(t.nonce=this.cspNonce),t.textContent=e.textContent,t.async=!1,function(e,t){for(const{name:a,value:n}of[...t.attributes])e.setAttribute(a,n)}(t,e),t}}preservingPermanentElements(e){(class{constructor(e){this.permanentElementMap=e}static preservingPermanentElements(e,t){const a=new this(e);a.enter(),t(),a.leave()}enter(){for(const e in this.permanentElementMap){const[,t]=this.permanentElementMap[e];this.replaceNewPermanentElementWithPlaceholder(t)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=function(e){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),t}(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);null==t||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find((t=>t.content==e))}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}).preservingPermanentElements(this.permanentElementMap,e)}focusFirstAutofocusableElement(){const e=this.connectedSnapshot.firstAutofocusableElement;(function(e){return e&&"function"==typeof e.focus})(e)&&e.focus()}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get cspNonce(){var e;return null===(e=document.head.querySelector('meta[name="csp-nonce"]'))||void 0===e?void 0:e.getAttribute("content")}}class R extends j{get shouldRender(){return!0}async render(){await b(),this.preservingPermanentElements((()=>{this.loadFrameElement()})),this.scrollFrameIntoView(),await b(),this.focusFirstAutofocusableElement(),await b(),this.activateScriptElements()}loadFrameElement(){var e;const t=document.createRange();t.selectNodeContents(this.currentElement),t.deleteContents();const a=this.newElement,n=null===(e=a.ownerDocument)||void 0===e?void 0:e.createRange();n&&(n.selectNodeContents(a),this.currentElement.appendChild(n.extractContents()))}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const a=this.currentElement.firstElementChild,n=(e=this.currentElement.getAttribute("data-autoscroll-block"),t="end","end"==e||"start"==e||"center"==e||"nearest"==e?e:t);if(a)return a.scrollIntoView({block:n}),!0}var e,t;return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=this.createScriptElement(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}class U{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return C`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 9999;
        transition:
          width ${U.animationDuration}ms ease-out,
          opacity ${U.animationDuration/2}ms ${U.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement((()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1})))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,1.5*U.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,U.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame((()=>{this.progressElement.style.width=10+90*this.value+"%"}))}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=U.defaultCSS,e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}}U.animationDuration=300;class O extends L{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter((e=>!function(e){return"noscript"==e.tagName.toLowerCase()}(e))).map((e=>function(e){e.hasAttribute("nonce")&&e.setAttribute("nonce","");return e}(e))).reduce(((e,t)=>{const{outerHTML:a}=t,n=a in e?e[a]:{type:N(t),tracked:H(t),elements:[]};return Object.assign(Object.assign({},e),{[a]:Object.assign(Object.assign({},n),{elements:[...n.elements,t]})})}),{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter((e=>this.detailsByOuterHTML[e].tracked)).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter((e=>!(e in t.detailsByOuterHTML))).map((e=>this.detailsByOuterHTML[e])).filter((({type:t})=>t==e)).map((({elements:[e]})=>e))}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce(((e,t)=>{const{type:a,tracked:n,elements:i}=this.detailsByOuterHTML[t];return null!=a||n?i.length>1?[...e,...i.slice(1)]:e:[...e,...i]}),[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce(((t,a)=>{const{elements:[n]}=this.detailsByOuterHTML[a];return function(e,t){return"meta"==e.tagName.toLowerCase()&&e.getAttribute("name")==t}(n,e)?n:t}),void 0)}}function N(e){return function(e){return"script"==e.tagName.toLowerCase()}(e)?"script":function(e){const t=e.tagName.toLowerCase();return"style"==t||"link"==t&&"stylesheet"==e.getAttribute("rel")}(e)?"stylesheet":void 0}function H(e){return"reload"==e.getAttribute("data-turbo-track")}class V extends L{constructor(e,t){super(e),this.headSnapshot=t}static fromHTMLString(e=""){return this.fromDocument(w(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new O(e))}clone(){return new V(this.element.cloneNode(!0),this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;return c(null!==(e=this.getSetting("root"))&&void 0!==e?e:"/")}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return"no-preview"!=this.cacheControlValue}get isCacheable(){return"no-cache"!=this.cacheControlValue}get isVisitable(){return"reload"!=this.getSetting("visit-control")}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}!function(e){e.visitStart="visitStart",e.requestStart="requestStart",e.requestEnd="requestEnd",e.visitEnd="visitEnd"}(o||(o={})),function(e){e.initialized="initialized",e.started="started",e.canceled="canceled",e.failed="failed",e.completed="completed"}(d||(d={}));const q={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0};var Y,z;!function(e){e[e.networkFailure=0]="networkFailure",e[e.timeoutFailure=-1]="timeoutFailure",e[e.contentTypeMismatch=-2]="contentTypeMismatch"}(Y||(Y={}));class Q{constructor(e,t,a,n={}){this.identifier=_(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=d.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=a||_();const{action:i,historyChanged:r,referrer:s,snapshotHTML:o,response:l,visitCachedSnapshot:c,willRender:u}=Object.assign(Object.assign({},q),n);this.action=i,this.historyChanged=r,this.referrer=s,this.snapshotHTML=o,this.response=l,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=c,this.willRender=u,this.scrolled=!u}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==d.initialized&&(this.recordTimingMetric(o.visitStart),this.state=d.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==d.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=d.canceled)}complete(){this.state==d.started&&(this.recordTimingMetric(o.visitEnd),this.state=d.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this),this.followRedirect())}fail(){this.state==d.started&&(this.state=d.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged){const t=this.location.href===(null===(e=this.referrer)||void 0===e?void 0:e.href)?"replace":this.action,a=this.getHistoryMethodForAction(t);this.history.update(a,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new D(this,i.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(o.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;G(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(o.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render((async()=>{this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,G(e)&&null!=t?(await this.view.renderPage(V.fromHTMLString(t),!1,this.willRender),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(V.fromHTMLString(t)),this.adapter.visitRendered(this),this.fail())}))}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!u(this.location)||e.hasAnchor(u(this.location)))&&("restore"==this.action||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return V.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render((async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender),this.adapter.visitRendered(this),t||this.complete())}))}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(null===(e=this.response)||void 0===e?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render((async()=>{this.cacheSnapshot(),this.adapter.visitRendered(this)}))}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const a=await t.responseHTML,{redirected:n,statusCode:i}=t;null==a?this.recordResponse({statusCode:Y.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:i,responseHTML:a,redirected:n}))}async requestFailedWithResponse(e,t){const a=await t.responseHTML,{redirected:n,statusCode:i}=t;null==a?this.recordResponse({statusCode:Y.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:i,responseHTML:a,redirected:n})}requestErrored(e,t){this.recordResponse({statusCode:Y.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=u(this.location);if(null!=e)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return"object"==typeof this.response}shouldIssueRequest(){return!this.isSamePage&&("restore"==this.action?!this.hasCachedSnapshot():this.willRender)}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot().then((e=>e&&this.visitCachedSnapshot(e))),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise((e=>{this.frame=requestAnimationFrame((()=>e()))})),await e(),delete this.frame,this.performScroll()}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function G(e){return e>=200&&e<300}class J{constructor(e){this.progressBar=new U,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,_(),t)}visitStarted(e){e.loadCachedSnapshot(),e.issueRequest(),e.changeHistory(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!=e.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case Y.networkFailure:case Y.timeoutFailure:case Y.contentTypeMismatch:return this.reload();default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(){this.reload()}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){null==this.formProgressBarTimeout&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),null!=this.formProgressBarTimeout&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(){window.location.reload()}get navigator(){return this.session.navigator}}class K{constructor(){this.started=!1}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))}removeStaleElements(){const e=[...document.querySelectorAll('[data-turbo-cache="false"]')];for(const t of e)t.remove()}}class W{constructor(e){this.started=!1,this.submitCaptured=()=>{removeEventListener("submit",this.submitBubbled,!1),addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,a=e.submitter||void 0;if(t){"dialog"!=((null==a?void 0:a.getAttribute("formmethod"))||t.getAttribute("method"))&&this.delegate.willSubmitForm(t,a)&&(e.preventDefault(),this.delegate.formSubmitted(t,a))}}},this.delegate=e}start(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}class X{constructor(e){this.element=e,this.linkInterceptor=new A(this,e),this.formInterceptor=new k(this,e)}start(){this.linkInterceptor.start(),this.formInterceptor.start()}stop(){this.linkInterceptor.stop(),this.formInterceptor.stop()}shouldInterceptLinkClick(e,t){return this.shouldRedirect(e)}linkClickIntercepted(e,t){const a=this.findFrameElement(e);a&&a.delegate.linkClickIntercepted(e,t)}shouldInterceptFormSubmission(e,t){return this.shouldSubmit(e,t)}formSubmissionIntercepted(e,t){const a=this.findFrameElement(e,t);a&&(a.removeAttribute("reloadable"),a.delegate.formSubmissionIntercepted(e,t))}shouldSubmit(e,t){var a;const n=m(e,t),i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),r=c(null!==(a=null==i?void 0:i.content)&&void 0!==a?a:"/");return this.shouldRedirect(e,t)&&h(n,r)}shouldRedirect(e,t){const a=this.findFrameElement(e,t);return!!a&&a!=e.closest("turbo-frame")}findFrameElement(e,t){const a=(null==t?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(a&&"_top"!=a){const e=this.element.querySelector(`#${a}:not([disabled])`);if(e instanceof l)return e}}}class Z{constructor(e){this.restorationIdentifier=_(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:e}=t;this.restorationIdentifier=e,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,e)}}},this.onPageLoad=async e=>{await Promise.resolve(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,a=_()){const n={turbo:{restorationIdentifier:a}};e.call(history,n,"",t.href),this.location=t,this.restorationIdentifier=a}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,a=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},a),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(e=history.scrollRestoration)&&void 0!==e?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||"complete"==document.readyState}}class ee{constructor(e){this.started=!1,this.clickCaptured=()=>{removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=e=>{if(this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,a=this.findLinkFromClickTarget(t);if(a){const t=this.getLocationForLink(a);this.delegate.willFollowLinkToLocation(a,t)&&(e.preventDefault(),this.delegate.followedLinkToLocation(a,t))}}},this.delegate=e}start(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){if(e instanceof Element)return e.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return c(e.getAttribute("href")||"")}}function te(e){return"advance"==e||"replace"==e||"restore"==e}class ae{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(h(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,a={}){this.stop(),this.currentVisit=new Q(this,c(e),t,Object.assign({referrer:this.location},a)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new P(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){"function"==typeof this.adapter.formSubmissionStarted&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const a=await t.responseHTML;if(a){e.method!=i.get&&this.view.clearSnapshotCache();const{statusCode:n,redirected:r}=t,s={action:this.getActionForFormSubmission(e),response:{statusCode:n,responseHTML:a,redirected:r}};this.proposeVisit(t.location,s)}}}async formSubmissionFailedWithResponse(e,t){const a=await t.responseHTML;if(a){const e=V.fromHTMLString(a);t.serverError?await this.view.renderError(e):await this.view.renderPage(e),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){"function"==typeof this.adapter.formSubmissionFinished&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){const a=u(e),n=u(this.view.lastRenderedLocation),i="restore"===t&&void 0===a;return"replace"!==t&&v(e)===v(this.view.lastRenderedLocation)&&(i||null!=a&&a!==n)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(e){const{formElement:t,submitter:a}=e,n=I("data-turbo-action",a,t);return te(n)?n:"advance"}}!function(e){e[e.initial=0]="initial",e[e.loading=1]="loading",e[e.interactive=2]="interactive",e[e.complete=3]="complete"}(z||(z={}));class ne{constructor(e){this.stage=z.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:e}=this;"interactive"==e?this.pageIsInteractive():"complete"==e&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==z.initial&&(this.stage=z.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==z.loading&&(this.stage=z.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==z.interactive&&(this.stage=z.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class ie{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class re{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=e=>{const t=function(e){var t;const a=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(a instanceof $)return a}(e);t&&function(e){var t;return(null!==(t=e.contentType)&&void 0!==t?t:"").startsWith(T.contentType)}(t)&&(e.preventDefault(),this.receiveMessageResponse(t))},this.receiveMessageEvent=e=>{this.started&&"string"==typeof e.data&&this.receiveMessageHTML(e.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(new T(e))}}class se extends j{async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t,body:a}=document;e.replaceChild(this.newHead,t),e.replaceChild(this.newElement,a)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const a=this.createScriptElement(e);t.replaceChild(a,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return[...document.documentElement.querySelectorAll("script")]}}class oe extends j{get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}prepareToRender(){this.mergeHead()}async render(){this.willRender&&this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}mergeHead(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()}replaceBody(){this.preservingPermanentElements((()=>{this.activateNewBody(),this.assignNewBody()}))}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}copyNewHeadStylesheetElements(){for(const e of this.newHeadStylesheetElements)document.head.appendChild(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(this.createScriptElement(e))}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=this.createScriptElement(e);e.replaceWith(t)}}assignNewBody(){document.body&&this.newElement instanceof HTMLBodyElement?document.body.replaceWith(this.newElement):document.documentElement.appendChild(this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class de{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return f(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[f(e)]}write(e,t){this.snapshots[f(e)]=t}touch(e){const t=f(e),a=this.keys.indexOf(t);a>-1&&this.keys.splice(a,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class le extends F{constructor(){super(...arguments),this.snapshotCache=new de(10),this.lastRenderedLocation=new URL(location.href)}renderPage(e,t=!1,a=!0){const n=new oe(this.snapshot,e,t,a);return this.render(n)}renderError(e){const t=new se(this.snapshot,e,!1);return this.render(t)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(){if(this.shouldCacheSnapshot){this.delegate.viewWillCacheSnapshot();const{snapshot:e,lastRenderedLocation:t}=this;await new Promise((e=>setTimeout((()=>e()),0)));const a=e.clone();return this.snapshotCache.put(t,a),a}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return V.fromElement(this.element)}get shouldCacheSnapshot(){return this.snapshot.isCacheable}}function ce(e){Object.defineProperties(e,ue)}const ue={absoluteURL:{get(){return this.toString()}}},me=new class{constructor(){this.navigator=new ae(this),this.history=new Z(this),this.view=new le(this,document.documentElement),this.adapter=new J(this),this.pageObserver=new ne(this),this.cacheObserver=new K,this.linkClickObserver=new ee(this),this.formSubmitObserver=new W(this),this.scrollObserver=new ie(this),this.streamObserver=new re(this),this.frameRedirector=new X(document.documentElement),this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){this.navigator.proposeVisit(c(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){document.documentElement.appendChild(T.wrap(e).fragment)}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willFollowLinkToLocation(e,t){return this.elementDriveEnabled(e)&&h(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t)}followedLinkToLocation(e,t){const a=this.getActionForLink(e);this.convertLinkWithMethodClickToFormSubmission(e)||this.visit(t.href,{action:a})}convertLinkWithMethodClickToFormSubmission(e){const t=e.getAttribute("data-turbo-method");if(t){const a=document.createElement("form");a.method=t,a.action=e.getAttribute("href")||"undefined",a.hidden=!0,e.hasAttribute("data-turbo-confirm")&&a.setAttribute("data-turbo-confirm",e.getAttribute("data-turbo-confirm"));const n=this.getTargetFrameForLink(e);return n?(a.setAttribute("data-turbo-frame",n),a.addEventListener("turbo:submit-start",(()=>a.remove()))):a.addEventListener("submit",(()=>a.remove())),document.body.appendChild(a),y("submit",{cancelable:!0,target:a})}return!1}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){ce(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){ce(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const a=m(e,t);return this.elementDriveEnabled(e)&&(!t||this.elementDriveEnabled(t))&&h(c(a),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(null===(e=this.navigator.currentVisit)||void 0===e?void 0:e.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){return!this.notifyApplicationBeforeRender(e,t).defaultPrevented}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}viewInvalidated(){this.adapter.pageInvalidated()}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t){return y("turbo:click",{target:e,detail:{url:t.href},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return y("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return x(document.documentElement),y("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return y("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return y("turbo:before-render",{detail:{newBody:e,resume:t},cancelable:!0})}notifyApplicationAfterRender(){return y("turbo:render")}notifyApplicationAfterPageLoad(e={}){return S(document.documentElement),y("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return y("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return y("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}elementDriveEnabled(e){const t=null==e?void 0:e.closest("[data-turbo]");return this.drive?!t||"false"!=t.getAttribute("data-turbo"):!!t&&"true"==t.getAttribute("data-turbo")}getActionForLink(e){const t=e.getAttribute("data-turbo-action");return te(t)?t:"advance"}getTargetFrameForLink(e){const t=e.getAttribute("data-turbo-frame");if(t)return t;{const t=e.closest("turbo-frame");if(t)return t.id}}get snapshot(){return this.view.snapshot}},{navigator:pe}=me;function ge(){me.start()}function he(e){me.registerAdapter(e)}function ve(e,t){me.visit(e,t)}function fe(e){me.connectStreamSource(e)}function $e(e){me.disconnectStreamSource(e)}function ye(e){me.renderStreamMessage(e)}function be(){me.clearCache()}function we(e){me.setProgressBarDelay(e)}function Ce(e){P.confirmMethod=e}var _e=Object.freeze({__proto__:null,navigator:pe,session:me,PageRenderer:oe,PageSnapshot:V,start:ge,registerAdapter:he,visit:ve,connectStreamSource:fe,disconnectStreamSource:$e,renderStreamMessage:ye,clearCache:be,setProgressBarDelay:we,setConfirmMethod:Ce});class Ie{constructor(e){this.visitCachedSnapshot=({element:e})=>{var t;const{id:a,clone:n}=this;null===(t=e.querySelector("#"+a))||void 0===t||t.replaceWith(n)},this.clone=e.cloneNode(!0),this.id=e.id}}function xe(e){if(null!=e){const t=document.getElementById(e);if(t instanceof l)return t}}function Se(e,t){if(e){const n=e.getAttribute("src");if(null!=n&&null!=t&&(a=t,c(n).href==c(a).href))throw new Error(`Matching <turbo-frame id="${e.id}"> element has a source URL which references itself`);if(e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof l)return e.connectedCallback(),e.disconnectedCallback(),e}var a}const De={after(){this.targetElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e.nextSibling)}))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=>e.append(this.templateContent)))},before(){this.targetElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e)}))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=>e.prepend(this.templateContent)))},remove(){this.targetElements.forEach((e=>e.remove()))},replace(){this.targetElements.forEach((e=>e.replaceWith(this.templateContent)))},update(){this.targetElements.forEach((e=>{e.innerHTML="",e.append(this.templateContent)}))}};class Ee extends HTMLElement{async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return null!==(e=this.renderPromise)&&void 0!==e?e:this.renderPromise=(async()=>{this.dispatchEvent(this.beforeRenderEvent)&&(await b(),this.performAction())})()}disconnect(){try{this.remove()}catch(e){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach((e=>e.remove()))}get duplicateChildren(){var e;const t=this.targetElements.flatMap((e=>[...e.children])).filter((e=>!!e.id)),a=[...null===(e=this.templateContent)||void 0===e?void 0:e.children].filter((e=>!!e.id)).map((e=>e.id));return t.filter((e=>a.includes(e.id)))}get performAction(){if(this.action){const e=De[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return null!==(t=(null!==(e=this.outerHTML.match(/<[^>]+>/))&&void 0!==e?e:[])[0])&&void 0!==t?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})}get targetElementsById(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);return null!==t?[t]:[]}get targetElementsByQuery(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.querySelectorAll(this.targets);return 0!==t.length?Array.prototype.slice.call(t):[]}}l.delegateConstructor=class{constructor(e){this.fetchResponseLoaded=e=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.settingSourceURL=!1,this.element=e,this.view=new B(this,this.element),this.appearanceObserver=new E(this,this.element),this.linkInterceptor=new A(this,this.element),this.formInterceptor=new k(this,this.element)}connect(){this.connected||(this.connected=!0,this.reloadable=!1,this.loadingStyle==n.lazy&&this.appearanceObserver.start(),this.linkInterceptor.start(),this.formInterceptor.start(),this.sourceURLChanged())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.linkInterceptor.stop(),this.formInterceptor.stop())}disabledChanged(){this.loadingStyle==n.eager&&this.loadSourceURL()}sourceURLChanged(){(this.loadingStyle==n.eager||this.hasBeenLoaded)&&this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==n.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){if(!this.settingSourceURL&&this.enabled&&this.isActive&&(this.reloadable||this.sourceURL!=this.currentURL)){const e=this.currentURL;if(this.currentURL=this.sourceURL,this.sourceURL)try{this.element.loaded=this.visit(c(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0}catch(t){throw this.currentURL=e,t}}}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const{body:a}=w(t),n=new L(await this.extractForeignFrameElement(a)),i=new R(this.view.snapshot,n,!1,!1);this.view.renderPromise&&await this.view.renderPromise,await this.view.render(i),me.frameRendered(e,this.element),me.frameLoaded(this.element),this.fetchResponseLoaded(e)}}catch(e){console.error(e),this.view.invalidate()}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.loadSourceURL()}shouldInterceptLinkClick(e,t){return!e.hasAttribute("data-turbo-method")&&this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.reloadable=!0,this.navigateFrame(e,t)}shouldInterceptFormSubmission(e,t){return this.shouldInterceptNavigation(e,t)}formSubmissionIntercepted(e,t){this.formSubmission&&this.formSubmission.stop(),this.reloadable=!1,this.formSubmission=new P(this,e,t);const{fetchRequest:a}=this.formSubmission;this.prepareHeadersForRequest(a.headers,a),this.formSubmission.start()}prepareHeadersForRequest(e,t){e["Turbo-Frame"]=this.id}requestStarted(e){x(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestFailedWithResponse(e,t){console.error(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){S(this.element)}formSubmissionStarted({formElement:e}){x(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){const a=this.findFrameElement(e.formElement,e.submitter);this.proposeVisitIfNavigatedWithAction(a,e.formElement,e.submitter),a.delegate.loadResponse(t)}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t)}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){S(e,this.findFrameElement(e))}allowsImmediateRender(e,t){return!0}viewRenderedSnapshot(e,t){}viewInvalidated(){}async visit(e){var t;const a=new D(this,i.get,e,new URLSearchParams,this.element);return null===(t=this.currentFetchRequest)||void 0===t||t.cancel(),this.currentFetchRequest=a,new Promise((e=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,e()},a.perform()}))}navigateFrame(e,t,a){const n=this.findFrameElement(e,a);this.proposeVisitIfNavigatedWithAction(n,e,a),n.setAttribute("reloadable",""),n.src=t}proposeVisitIfNavigatedWithAction(e,t,a){const n=I("data-turbo-action",a,t,e);if(te(n)){const{visitCachedSnapshot:t}=new Ie(e);e.delegate.fetchResponseLoaded=a=>{if(e.src){const{statusCode:i,redirected:r}=a,s={statusCode:i,redirected:r,responseHTML:e.ownerDocument.documentElement.outerHTML};me.visit(e.src,{action:n,response:s,visitCachedSnapshot:t,willRender:!1})}}}}findFrameElement(e,t){var a;return null!==(a=xe(I("data-turbo-frame",t,e)||this.element.getAttribute("target")))&&void 0!==a?a:this.element}async extractForeignFrameElement(e){let t;const a=CSS.escape(this.id);try{if(t=Se(e.querySelector(`turbo-frame#${a}`),this.currentURL))return t;if(t=Se(e.querySelector(`turbo-frame[src][recurse~=${a}]`),this.currentURL))return await t.loaded,await this.extractForeignFrameElement(t);console.error(`Response has no matching <turbo-frame id="${a}"> element`)}catch(e){console.error(e)}return new l}formActionIsVisitable(e,t){return h(c(m(e,t)),this.rootLocation)}shouldInterceptNavigation(e,t){const a=I("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t))return!1;if(!this.enabled||"_top"==a)return!1;if(a){const e=xe(a);if(e)return!e.disabled}return!!me.elementDriveEnabled(e)&&!(t&&!me.elementDriveEnabled(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}get reloadable(){return this.findFrameElement(this.element).hasAttribute("reloadable")}set reloadable(e){const t=this.findFrameElement(this.element);e?t.setAttribute("reloadable",""):t.removeAttribute("reloadable")}set sourceURL(e){this.settingSourceURL=!0,this.element.src=null!=e?e:null,this.currentURL=this.element.src,this.settingSourceURL=!1}get loadingStyle(){return this.element.loading}get isLoading(){return void 0!==this.formSubmission||void 0!==this.resolveVisitPromise()}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]');return c(null!==(e=null==t?void 0:t.content)&&void 0!==e?e:"/")}},customElements.define("turbo-frame",l),customElements.define("turbo-stream",Ee),(()=>{let e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(;e=e.parentElement;)if(e==document.body)return console.warn(C`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,e.outerHTML)})(),window.Turbo=_e,ge(),window.Turbo=e,ge()})(),(()=>{"use strict";window.isEmpty=function(e){return null==e||""===e},window.randomCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.random().toString(36).slice(-e)},window.listen=function(e,t,a){$(document).on(e,t,a)},window.listenClick=function(e,t){$(document).on("click",e,t)},window.listenSubmit=function(e,t){$(document).on("submit",e,t)},window.listenHiddenBsModal=function(e,t){$(document).on("hidden.bs.modal",e,t)},window.listenChange=function(e,t){$(document).on("change",e,t)},window.listenKeyup=function(e,t){$(document).on("keyup",e,t)},window.listenShownBsModal=function(e,t){$(document).on("shown.bs.modal",e,t)}})(),(()=>{"use strict";var e=__webpack_require__(2743),t=$('meta[name="csrf-token"]').attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),document.addEventListener("turbo:load",(function(){$('[data-control="select2"]').each((function(){$(this).select2()})),t=$('meta[name="csrf-token"]').attr("content"),$.ajaxSetup({headers:{"X-CSRF-TOKEN":t}}),$(".alert").delay(5e3).slideUp(300),a(),n(),IOInitImageComponent(),IOInitSidebar(),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)})),listen("keypress",".price-format",(function(){46==event.which&&-1==$(this).val().indexOf(".")||!(event.which<48||event.which>57)||0==event.which||8==event.which||event.preventDefault();var e=$(this).val();-1!=e.indexOf(".")&&e.substring(e.indexOf(".")).length>2&&0!=event.which&&8!=event.which&&$(this)[0].selectionStart>=e.length-2&&event.preventDefault()}))}));var a=function(){$((function(){$(".modal").on("shown.bs.modal",(function(){$(this).find("input:text").first().focus()}))}))},n=function(){$('input:text:not([readonly="readonly"]):not([name="search"]):not(.front-input)').first().focus()};$(document).on("keydown",(function(e){27===e.keyCode&&$(".modal").modal("hide")})),$('input:text:not([readonly="readonly"])').first().focus(),$(document).on("select2:open",(function(){var e=document.querySelectorAll(".select2-container--open .select2-search__field");e[e.length-1].focus()})),$('[data-control="select2"]').each((function(){$(this).select2()})),document.addEventListener("livewire:load",(function(){window.livewire.hook("message.processed",(function(){$('[data-control="select2"]').each((function(){$(this).select2()}))}))})),$(document).ready((function(){$('[data-bs-toggle="tooltip"]').tooltip(),$(document).find(".nav-item.nav-dropdown ul li.nav-item").hasClass("active")&&$(document).find(".nav-item.nav-dropdown ul li.nav-item.active").parent("ul").parent("li").addClass("open"),listenClick(".nav-item.nav-dropdown",(function(){$(document).find(".nav-item.nav-dropdown").hasClass("open")&&$(this).hasClass("open")?setTimeout((function(){$(this).removeClass("open")}),1e3):$(document).find(".nav-item.nav-dropdown").removeClass("open")})),listenKeyup('input[name="email"]',(function(){this.value=this.value.toLowerCase()})),$('input[name="email"]').keypress((function(e){if(32===e.which)return!1}))})),$((function(){listenShownBsModal(".modal",(function(){$(this).find("input:text").first().focus()})),listenHiddenBsModal(".modal",(function(){$(".image-input.image-input-empty").attr("style","display:inline-block")}))})),window.resetModalForm=function(e,t){var a=$(e)[0].elements;$.each(a,(function(e,t){void 0!==t._flatpickr&&(t._flatpickr.clear(),t._flatpickr.setDate(new Date))})),$(e)[0].reset(),$("select.select2Selector").each((function(e,t){var a="#"+$(this).attr("id");$(a).val(""),$(a).trigger("change")})),$(t).hide()},window.processingBtn=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=$(e).find(t);"loading"===a?n.button("loading"):n.button("reset")},window.printErrorMessage=function(e,t){displayErrorMessage(t.responseJSON.message)},toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},window.manageAjaxErrors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"editValidationErrorsBox";404==e.status?toastr.error(e.responseJSON.message):printErrorMessage("#"+t,e)},window.displaySuccessMessage=function(e){toastr.success(e)},window.displayErrorMessage=function(e){toastr.error(e)},window.displayPhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(n.readAsDataURL(e.files[0]),$(t).show())}},window.isValidFile=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["gif","png","jpg","jpeg"])?($(e).val(""),$(t).html("The image must be a file of type: jpeg, jpg, png.").removeClass("d-none").show(),setTimeout((function(){$(t).slideUp(300)}),5e3),!1):($(t).addClass("d-none"),!0)},window.format=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return moment(e).format(t)},window.DatetimepickerDefaults=function(e){return $.extend({},{sideBySide:!0,ignoreReadonly:!0,icons:{up:"icon-arrow-up-circle icons font-2xl",down:"icon-arrow-down-circle icons font-2xl",previous:"icon-arrow-left icons",next:"icon-arrow-right icons",time:"fa fa-clock-o",date:"fa fa-calendar",today:"fa fa-crosshairs",clear:"fa fa-trash",close:"fa fa-times"}},e)},window.screenLock=function(){$("#overlay-screen-lock").show(),$("body").css({"pointer-events":"none",opacity:"0.6"})},window.screenUnLock=function(){$("body").css({"pointer-events":"auto",opacity:"1"}),$("#overlay-screen-lock").hide()},window.prepareTemplateRender=function(t,a){return e.templates(t).render(a)},window.getCurrentCurrencyClass=function(){return"<b>"+$(".currentCurrency").val()+"</b>"},window.hideDropdownManually=function(e,t){e.removeClass("show"),t.removeClass("show")},window.displayDocument=function(e,t,a){var n=!0;if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){var i=new Image;-1==$.inArray(a,["pdf","doc","docx","mp3","mp4"])?i.src=e.target.result:"pdf"==a?($("#editPhoto").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'),i.src=$(".pdfDocumentImageUrl").val()):i.src="mp3"==a?$(".audioDocumentImageUrl").val():"mp4"==a?$(".videoDocumentImageUrl").val():$(".docxDocumentImageUrl").val(),i.onload=function(){$(t).attr("src",i.src),$(t).css("background-image",'url("'+i.src+'")'),n=!0}},n&&(i.readAsDataURL(e.files[0]),$(t).show())}};$(".ajaxCallIsRunning").val();window.ajaxCallInProgress=function(){!0},window.ajaxCallCompleted=function(){!1},window.UnprocessableInputError=function(e){toastr.error(e.responseJSON.message)},window.setValueOfEmptySpan=function(){$("span.showSpan").each((function(){$(this).text()||$(this).text("N/A")}))},window.addCommas=function(e){for(var t=(e+="").split("."),a=t[0],n=t.length>1?"."+t[1]:"",i=/(\d+)(\d{3})/;i.test(a);)a=a.replace(i,"$1,$2");return a+n},$((function(){listenClick(".notification",(function(e){e.stopPropagation();var t=$(this).data("id"),a=$(this);$('[data-toggle="tooltip"]').tooltip("hide"),$.ajax({type:"get",url:"/notification/"+t+"/read",success:function(){a.remove(),displaySuccessMessage(Lang.get("messages.flash.notification_read"));var e=document.getElementsByClassName("notification").length;$("#counter").text(e),0==e&&($(".read-all-notification").addClass("d-none"),$(".empty-state").removeClass("d-none"),$("#counter").text(e),$(".notification-count").addClass("d-none"))},error:function(e){manageAjaxErrors(e)}})})),listenClick("#readAllNotification",(function(e){e.stopPropagation(),$.ajax({type:"post",url:"/read-all-notification",success:function(){$(".notification").remove(),displaySuccessMessage(Lang.get("messages.flash.all_notification_read"));var e=document.getElementsByClassName("notification").length;$("#counter").text(e),$("#readAllNotification").addClass("d-none"),$(".empty-state").addClass("d-none"),$(".empty-state.empty-notification").removeClass("d-none"),$(".notification-count").addClass("d-none"),displaySuccessMessage(Lang.get("messages.flash.all_notification_read"))},error:function(e){manageAjaxErrors(e)}})}))})),window.avoidSpace=function(e){if(32==(e?e.which:window.event.keyCode)&&e.path[0].value.length<=0)return!1};var i="asset('assets/img/avatar.png')";window.defaultImagePreview=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;1==t?$(e).css("background-image",'url("'+i+'")'):$(e).css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')},listenClick(".assign-workspace",(function(e){e.stopPropagation(),$.ajax({type:"post",url:"/assign-workspace",data:{tenant_id:"81becc9c-c7ea-4748-b894-71ddd855fdf2"},success:function(){},error:function(e){manageAjaxErrors(e)}})}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#phoneNumber").length)return!1;Lang.setLocale($(".userCurrentLanguage").val());var e=document.querySelector("#phoneNumber"),t=document.querySelector("#error-msg"),a=document.querySelector("#valid-msg"),n=[Lang.get("messages.common.invalid_number"),Lang.get("messages.common.invalid_country_code"),Lang.get("messages.common.too_short"),Lang.get("messages.common.too_long"),Lang.get("messages.common.invalid_number")];if($(".isEdit").val())$(".country_iso").val();else defaultCountryCodeValue;var i=window.intlTelInput(e,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var a=t&&t.country?t.country:"";e(a)}))},utilsScript:$(".utilsScript").val()}),r=function(){e.classList.remove("error"),t.innerHTML="",t.classList.add("d-none"),a.classList.add("d-none")};e.addEventListener("blur",(function(){if(r(),e.value.trim())if(i.isValidNumber())a.classList.remove("d-none");else{e.classList.add("error");var s=i.getValidationError();t.innerHTML=n[s],t.classList.remove("d-none")}})),e.addEventListener("change",r),e.addEventListener("keyup",r);var s=$(".phoneNo").val();void 0!==s&&""!==s&&setTimeout((function(){$("#phoneNumber").trigger("change")}),500);if(listen("blur keyup change countrychange",(function(){void 0!==s&&""!==s&&(i.setNumber("+"+s),s="");var e=i.selectedCountryData.dialCode;$(".prefix_code").val(e)})),$(".isEdit").val()){var o=i.selectedCountryData.dialCode,d=i.selectedCountryData.iso2;$(".prefix_code").val(o),$(".country_iso").val(d)}$("#phoneNumber").focus(),$("#phoneNumber").blur();var l=$("#phoneNumber").val().replace(/\s/g,"");$("#phoneNumber").val(l)}))})(),(()=>{"use strict";window.newRecord=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#AddModal",n=""===e.formSelector?e.formData:new FormData($(e.formSelector)[0]);$(t).attr("disabled",!0),$.ajax({url:e.url,type:e.type,dataType:"json",data:n,processData:!1,contentType:!1,success:function(e){e.success&&($(t).attr("disabled",!1),displaySuccessMessage(e.message),$(a).modal("hide"),livewire.emit("refresh"))},error:function(e){$(t).attr("disabled",!1),printErrorMessage("#validationErrorsBox",e)},complete:function(){t.button("reset")}})},window.editRecord=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";$(t).attr("disabled",!0);var i=""===e.formSelector?e.formData:new FormData($(e.formSelector)[0]);$.ajax({url:e.url,type:e.type,data:i,processData:!1,contentType:!1,success:function(e){e.success&&($(t).attr("disabled",!1),displaySuccessMessage(e.message),$(a).modal("hide"),livewire.emit("refresh"))},error:function(e){$(t).attr("disabled",!1),UnprocessableInputError(e)},complete:function(){t.button("reset"),$(n).attr("disabled",!0)}})},window.editRecordWithForm=function(e,t,a){var n=""===e.formSelector?e.formData:$(e.formSelector).serialize();$(t).attr("disabled",!0),$.ajax({url:e.url,type:e.type,data:n,success:function(e){e.success&&(displaySuccessMessage(e.message),$(a).modal("hide"),livewire.emit("refresh"),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})}})(),(()=>{"use strict";function deleteItemAjax(url){var tableId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,header=arguments.length>2?arguments[2]:void 0,callFunction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({url,type:"DELETE",dataType:"json",success:function success(obj){obj.success&&Livewire.emit("resetPage"),swal({icon:"success",title:$(".deletedVariable").val(),confirmButtonColor:"#f62947",text:header+" "+$(".hasBeenDeletedVariable").val(),timer:2e3,buttons:{confirm:$(".okVariable").val()}}),callFunction&&eval(callFunction)},error:function(e){swal({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}window.deleteItem=function(e){var t=arguments.length>2?arguments[2]:void 0;swal({title:$(".deleteVariable").val()+"!",text:$(".confirmVariable").val()+t+"?",icon:sweetAlertIcon,buttons:{confirm:$(".yesVariable").val()+","+$(".deleteVariable").val(),cancel:$(".noVariable").val()+","+$(".cancelVariable").val()}}).then((function(a){a&&deleteItemAjax(e,null,t,null)}))}})(),(()=>{"use strict";$("#AddModal").on("hidden.bs.modal",(function(){$(".preview-image").prop("src",defaultImageUrl),$(".select2-dd").val("").trigger("change.select2"),resetModalForm("#addNewForm","#validationErrorsBox")})),$("#EditModal").on("hidden.bs.modal",(function(){$(".preview-image").prop("src",defaultImageUrl),$(".select2-dd").val("").trigger("change.select2"),resetModalForm("#editForm","#editValidationErrorsBox")}))})(),(()=>{"use strict";listenChange("#profileImage",(function(){var e=isValidDocument($(this),"#customValidationErrorsBox");isEmpty(e)||0==e||($("#customValidationErrorsBox").html("").hide(),displayPhoto(this,"#previewImage"))})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["gif","png","jpg","jpeg"])?($(e).val(""),$(t).html("The profile image must be a file of type: jpeg, jpg, png, gif.").removeClass("d-none").show(),setTimeout((function(){$(t).slideUp(300)}),5e3),!1):($(t).addClass("d-none"),a)},window.displayPhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(n.readAsDataURL(e.files[0]),$(t).show())}}})(),(()=>{"use strict";function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}document.addEventListener("turbo:load",(function(){var t=$("#time_range"),a=moment().startOf("day"),n=moment().endOf("day"),i="",r="";$("#appointmentStatus").length&&$("#appointmentStatus").select2();function s(e,t){$("#time_range").html(e.format("MMM D, YYYY")+" - "+t.format("MMM D, YYYY"))}if(t.length){var o;Lang.setLocale($(".userCurrentLanguage").val()),t.daterangepicker({startDate:a,endDate:n,locale:{customRangeLabel:Lang.get("messages.common.custom"),applyLabel:Lang.get("messages.common.apply"),cancelLabel:Lang.get("messages.common.cancel"),fromLabel:Lang.get("messages.common.from"),toLabel:Lang.get("messages.common.to"),monthNames:[Lang.get("messages.months.jan"),Lang.get("messages.months.feb"),Lang.get("messages.months.mar"),Lang.get("messages.months.apr"),Lang.get("messages.months.may"),Lang.get("messages.months.jun"),Lang.get("messages.months.jul"),Lang.get("messages.months.aug"),Lang.get("messages.months.sep"),Lang.get("messages.months.oct"),Lang.get("messages.months.nov"),Lang.get("messages.months.dec")],daysOfWeek:[Lang.get("messages.weekdays.sun"),Lang.get("messages.weekdays.mon"),Lang.get("messages.weekdays.tue"),Lang.get("messages.weekdays.wed"),Lang.get("messages.weekdays.thu"),Lang.get("messages.weekdays.fri"),Lang.get("messages.weekdays.sat")]},ranges:(o={},e(o,Lang.get("messages.appointment.today"),[moment(),moment()]),e(o,Lang.get("messages.appointment.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(o,Lang.get("messages.appointment.this_week"),[moment().startOf("week"),moment().endOf("week")]),e(o,Lang.get("messages.appointment.last_7_days"),[moment().subtract(6,"days"),moment()]),e(o,Lang.get("messages.appointment.last_30_days"),[moment().subtract(29,"days"),moment()]),e(o,Lang.get("messages.appointment.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(o,Lang.get("messages.appointment.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),o)},s),s(a,n),t.on("apply.daterangepicker",(function(e,t){i=t.startDate.format("YYYY-MM-D  H:mm:ss"),r=t.endDate.format("YYYY-MM-D  H:mm:ss"),window.livewire.emit("changeDateFilter","statusFilter",[i,r])}))}function d(e,t,a,n){swal({title:Lang.get("messages.appointment.change_status"),text:Lang.get("messages.appointment.are_you_sure_want_to_change")+"?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(n){n&&function(e,t,a,n){$.ajax({url:e,type:"POST",success:function(e){e.success&&(1==$(t).DataTable().data().count()?$(t).DataTable().page("previous").draw("page"):window.livewire.emit("refresh"),Livewire.emit("refresh")),swal({title:Lang.get("messages.appointment.changed_appointment"),text:a+" "+Lang.get("messages.appointment.has_been_changed"),icon:"success",confirmButtonColor:"#50cd89",timer:2e3,buttons:{confirm:$(".okVariable").val()}})},error:function(e){swal({title:"Error",icon:"error",text:e.responseJSON.message,type:"error",confirmButtonColor:"#50cd89",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}(e,t,a)}))}listenClick(".appointment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".appointmentURL").val()+"/"+t,"#appointmentsTbl",$("#appointmentLang").val())})),listenChange("#appointmentStatus",(function(){var e=$(this).val();window.livewire.emit("changeFilter","statusFilter",[i,r,e])})),listenClick("#appointmentResetFilter",(function(){var e=$("#time_range");i=e.data("daterangepicker").setStartDate(moment().startOf("day").format("MM/DD/YYYY")),r=e.data("daterangepicker").setEndDate(moment().endOf("day").format("MM/DD/YYYY")),$("#appointmentStatus").val(2).trigger("change"),hideDropdownManually($("#appointmentFilterBtn"),$(".dropdown-menu"))})),listenClick(".appointment-complete-status",(function(e){var t=$(e.currentTarget).attr("data-id");d($(".appointmentURL").val()+"/"+t+"/status","#appointmentsTbl",Lang.get("messages.web_menu.appointment")+" "+Lang.get("messages.user.status"))})),listenClick(".cancel-appointment",(function(){var e=$(this).attr("data-id");cancelAppointment($(".appointmentURL").val()+"/"+e+"/cancel","#appointmentsTbl",Lang.get("messages.web_menu.appointment"))})),window.cancelAppointment=function(e,t,a,n){swal({title:Lang.get("messages.common.cancel")+" "+Lang.get("messages.web_menu.appointment"),text:Lang.get("messages.appointment.are_you_sure_want_to_cancel")+" "+a+" ?",type:"warning",icon:"warning",closeOnConfirm:!1,confirmButtonColor:"#000000",showLoaderOnConfirm:!0,buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(a){a&&function(e,t,a,n){$.ajax({url:e,type:"POST",success:function(e){e.success&&(1==$(t).DataTable().data().count()?$(t).DataTable().page("previous").draw("page"):window.livewire.emit("refresh")),swal({title:Lang.get("messages.common.canceled")+" "+Lang.get("messages.web_menu.appointment")+" !",text:Lang.get("messages.flash.appointment_cancel"),icon:"success",confirmButtonColor:"#D9214E",timer:2e3,buttons:{confirm:$(".okVariable").val()}})},error:function(e){swal({title:"Error",icon:"error",text:e.responseJSON.message,type:"error",confirmButtonColor:"#D9214E",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}(e,t)}))}}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#appointmentForm").length&&!$("#editAppointmentForm").length)return!1;var e,a,n,i,r=function(e){var t=new Date;return t.setHours(e.substring(11,13)),t.setMinutes(e.substring(14,16)),t},s=function(e,t,a){for(var n=[];e<t;)n.push(e.toTimeString().substring(0,5)),e.setMinutes(e.getMinutes()+a);return n},o=$("#appointmentsPatientId"),d=$("#appointmentDoctorId"),l=$("#appointmentDepartmentId");o.length&&($("#appointmentsPatientId").select2({width:"100%",templateResult:function(e){if(e.loading)return e.text;var a=t.term||"";return function(e,t){var a=e.toUpperCase().indexOf(t.toUpperCase()),n=$("<span></span>");if(a<0)return n.text(e);n.text(e.substring(0,a));var i=$('<span style="text-decoration: underline;"></span>');return i.text(e.substring(a,a+t.length)),n.append(i),n.append(e.substring(a+t.length)),n}(e.text,a)},language:{searching:function(e){return t=e,"Searching"}},ajax:{delay:250,url:$(".searchPatient").val(),dataType:"json",minimumInputLength:3}}),$("#appointmentsPatientId").first().focus()),d.length&&$("#appointmentDoctorId").select2({width:"100%"}),l.length&&$("#appointmentDepartmentId").select2({width:"100%"});var c,u=$(".opdDate").flatpickr({enableTime:!1,minDate:moment(new Date).format("YYYY-MM-DD"),dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val(),onChange:function(t,o,d){if(!isEmpty(o)){if($(".doctor-schedule").css("display","none"),$(".error-message").css("display","none"),$(".available-slot-heading").css("display","none"),$(".color-information").css("display","none"),$(".available-slot").css("display","none"),$(".time-slot").remove(),""==$("#appointmentDepartmentId").val())return $("#createAppointmentErrorsBox").show().html(Lang.get("messages.appointment.please_select_doctor")+" "+Lang.get("messages.department")),$("#createAppointmentErrorsBox").delay(5e3).fadeOut(),$(".opdDate").val(""),u.clear(),!1;if(""==$("#appointmentDoctorId").val())return $("#createAppointmentErrorsBox").show().html(Lang.get("messages.appointment.please_select_doctor")),$("#createAppointmentErrorsBox").delay(5e3).fadeOut(),$(".opdDate").val(""),u.clear(),!1;var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(o).getDay()];if(e=o,null==l||""==l)return!1;if($.ajax({type:"GET",url:$(".doctorScheduleList").val(),data:{day_name:l,doctor_id:c,date:e},success:function(t){if(t.success&&""!=t.data)if(0!=t.data.scheduleDay.length&&0==t.data.doctorHoliday.length){var n="";moment(new Date).format("YYYY-MM-DD")===o?(n=moment().ceil(moment.duration(t.data.perPatientTime[0].per_patient_time).asMinutes(),"minute"),n=moment(n.toString()).format("H:mm:ss")):n=t.data.scheduleDay[0].available_from;var d=e+" "+n,l=e+" "+t.data.scheduleDay[0].available_to,c=t.data.perPatientTime[0].per_patient_time.split(":"),u=60*+c[0]+ +c[1],m=r(d),p=r(l);if(a=s(m,p,u),null!=t.data.doctorBreak)for(var g=0;g<t.data.doctorBreak.length;++g){var h=r(e+" "+t.data.doctorBreak[g].break_from),v=r(e+" "+t.data.doctorBreak[g].break_to);i=s(h,v,1),a=a.filter((function(e){return!i.includes(e)}))}if(a.length>0){var f;$(".available-slot-heading").css("display","block"),$(".color-information").css("display","block"),$(".available-slot").css("display","block");var y="";for(f=0;f<a.length;++f){var b=[{index:f,timeSlot:a[f]}];y+=prepareTemplateRender("#appointmentSlotTemplate",b)}$(".available-slot").append(y)}"00:00:00"!=n&&"00:00:00"!=t.data.scheduleDay[0].available_to&&d!=l?($(".doctor-schedule").css("display","block"),$(".color-information").css("display","block"),$(".available-slot").css("display","block"),$(".day-name").html(t.data.scheduleDay[0].available_on),$(".schedule-time").html("["+n+" - "+t.data.scheduleDay[0].available_to+"]")):($(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".available-slot").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("messages.appointment.doctor_schedule_not_available_on_this_date")))}else $(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".available-slot").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("messages.appointment.doctor_schedule_not_available_on_this_date"))},error:function(e){displayErrorMessage(e.responseJSON.message)}}),$(".isCreate").val()||$(".isEdit").val()){setTimeout((function(){if($(".isCreate").val())var t={editSelectedDate:e,doctor_id:c};else t={editSelectedDate:e,editId:$("#appointmentEditsID").val(),doctor_id:c};$.ajax({url:$(".getBookingSlot").val(),type:"GET",data:t,success:function(e){n=e.data.bookingSlotArr,e.data.hasOwnProperty("onlyTime")?(e.data.bookingSlotArr.length>0&&(p=e.data.onlyTime.toString(),$.each(e.data.bookingSlotArr,(function(e,t){$.each(a,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&$(this).html()!=p&&($(this).parent().css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))),$(".time-interval").each((function(){$(this).html()==p&&e.data.bookingSlotArr.length>0&&($(this).parent().addClass("time-slot-book"),$(this).parent().removeClass("booked"),$(this).parent().children().prop("disabled",!1),$(this).click())}))):n.length>0&&$.each(n,(function(e,t){$.each(a,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&($(this).parent().addClass("time-slot-book"),$(".time-slot-book").css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))}})}),200)}}}});


      listenChange("#appointmentDepartmentId",(function(){
        $(".error-message").css("display","none"),u.clear(),
        $(".doctor-schedule").css("display","none"),
        $(".available-slot-heading").css("display","none"),
        $(".available-slot").css("display","none"),

        $.ajax({
          url:$(".doctorDepartmentUrl").val(),
          type:"get",
          dataType:"json",
          data:
          {
              id:$(this).val()
          },
          success:function(e)
          {

            $("#appointmentDoctorId").empty(),
            $("#appointmentDoctorId").append($('<option value="">'+Lang.get("messages.web_home.select_doctor")+"</option>")),
            $.each(e.data,(function(e,t)
              {
                $("#appointmentDoctorId").append($("<option></option>").attr("value",e).text(t))
              }
            )
          )
        }})}));


      listenChange("#appointmentHospitalId",(function(){
        $(".error-message").css("display","none"),u.clear(),
        $(".doctor-schedule").css("display","none"),
        $(".available-slot-heading").css("display","none"),
        $(".available-slot").css("display","none"),

        $.ajax({
          url:$(".hospitalUrl").val(),
          type:"get",
          dataType:"json",
          data:
          {
              id:$(this).val()
          },
          success:function(e)
          {

            $("#appointmentDepartmentId").empty(),
            $("#appointmentDepartmentId").append($('<option value="">'+Lang.get("messages.web_appointment.select_department")+"</option>")),

            $.each(e.data, function(index, item) {
              $("#appointmentDepartmentId").append($("<option></option>").attr("value", item.id).text(item.title));
          });

        }})}));



      var m=!1;listenChange("#appointmentDoctorId",(function(){m&&($(".doctor-schedule").css("display","none"),$(".available-slot-heading").css("display","none"),$(".available-slot").css("display","none"),$(".error-message").css("display","none"),u.clear(),m=!0),$(".error-message").css("display","none"),c=$(this).val(),m=!0,$.ajax({url:$("#appointmentFeeUrl").val(),type:"get",data:{doctor_id:$(this).val(),patient_id:$("#appointmentsPatientId").val()},success:function(e){$("#fee").val(e.data)}})}));var p="";$(".isEdit").val()&&($("#appointmentDoctorId").trigger("change",(function(e){c=$(this).val()})),$(".opdDate").trigger("dp.change",(function(){new Date($(this).val())})),p=$("[name=selectedTime]").val()),listenClick(".time-interval",(function(){p=$(this).text()})),


      listenSubmit("#editAppointmentForm",(function(e){var t=$("#appointmentOpdDate").val();if(isEmpty(t))return $("#editAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("messages.new_change.select_appointment_date")).delay(5e3).slideUp(300),!1;if(null==p||""==p)return $("#editAppointmentErrorsBox").show().html(Lang.get("messages.new_change.select_time_slot")).delay(5e3).slideUp(300),!1;e.preventDefault(),screenLock();var a=$(this).serialize()+"&time="+p;$.ajax({url:$("#appointmentUpdateUrl").val(),type:"POST",dataType:"json",data:a,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".appointmentIndexPage").val()},error:function(e){printErrorMessage("#editAppointmentErrorsBox",e),screenUnLock()}})}))}));var e,t={};listenClick(".time-interval",(function(t){var a=$(t.currentTarget).attr("data-id");$(this).data("id")==a&&$(this).parent().hasClass("booked")&&$(".time-slot-book").css("background-color","#ffa0a0"),e=$(this).text(),$(".time-slot").removeClass("time-slot-book"),$(this).parent().addClass("time-slot-book")})),listenSubmit("#appointmentForm",(function(t){var a=$("#appointmentOpdDate").val();if(isEmpty(a))return $("#createAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("messages.new_change.select_appointment_date")).delay(5e3).slideUp(300),!1;if(null==e||""==e)return $("#createAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("messages.new_change.select_time_slot")).delay(5e3).slideUp(300),!1;t.preventDefault(),screenLock();var n=$(this).serialize()+"&time="+e;$.ajax({url:$("#saveAppointmentURLID").val(),type:"POST",dataType:"json",data:n,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".appointmentIndexPage").val()},error:function(e){printErrorMessage("#createAppointmentErrorsBox",e),screenUnLock()},complete:function(){processingBtn("#appointmentForm","#saveAppointment")}})}))})(),(()=>{"use strict";listenClick(".brand-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexBrandUrl").val()+"/"+t,"",$("#medicineBrandLang").val())})),listenSubmit("#createBrandForm, #editBrandForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1}))})(),listenSubmit("#addMedicineCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#medicineCategorySave");t.button("loading"),$.ajax({url:$("#indexCategoryCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_categories_modal").modal("hide"),window.livewire.emit("refresh"))},error:function(e){printErrorMessage("#medicineCategoryErrorsBox",e)},complete:function(){t.button("reset")}})})),listenSubmit("#editMedicineCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editCategorySave");t.button("loading");var a=$("#editMedicineCategoryId").val();$.ajax({url:$("#indexCategoriesUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_categories_modal").modal("hide"),$("#categoriesShowUrl").length?window.location.href=$("#categoriesShowUrl").val():livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_categories_modal",(function(){resetModalForm("#addMedicineCategoryForm","#medicineCategoryErrorsBox")})),listenHiddenBsModal("#edit_categories_modal",(function(){resetModalForm("#editMedicineCategoryForm","#editMedicineCategoryErrorsBox")})),window.renderCategoryData=function(e){$.ajax({url:$("#indexCategoriesUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#editMedicineCategoryId").val(t.id),$("#edit_name").val(t.name),1===t.is_active?$("#edit_is_active").prop("checked",!0):$("#edit_is_active").prop("checked",!1),$("#edit_categories_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".category-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderCategoryData(t)}})),listenClick(".category-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexCategoriesUrl").val()+"/"+t,"#categoriesTable",$("#medicineCategoryLang").val())})),listenChange(".category-status",(function(e){var t=$(e.currentTarget).data("id");activeDeActiveCategory(t)})),listenClick("#categoryResetFilter",(function(){$("#medicineCategoryHead").val(2).trigger("change"),hideDropdownManually($("#medicineCategoryFilterBtn"),$(".dropdown-menu"))})),window.activeDeActiveCategory=function(e){$.ajax({url:$("#indexCategoriesUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))}})},listenChange("#medicineCategoryHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val()),hideDropdownManually($("#medicineCategoryFilterBtn"),$("#medicineCategoryFilter"))})),listenClick(".deleteNurseBtn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#nurseURL").val()+"/"+t,"#nursesTbl",$("#nurseLang").val())})),listenChange("#nurse_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange(".nurseStatus",(function(e){var t=$(e.currentTarget).data("id");updateNurseStatus(t)})),listenClick("#nurseResetFilter",(function(){$("#nurse_filter_status").val(0).trigger("change"),hideDropdownManually($("#nursesFilter"),$(".dropdown-menu"))})),window.updateNurseStatus=function(e){$.ajax({url:$("#nurseURL").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){($("#createNurseForm").length||$("#editNurseForm").length)&&($("#nurseBloodGroup").select2({width:"100%"}),$("#editNurseBloodGroup").select2({width:"100%"}),$(".nurseBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#createNurseForm, #editNurseForm").find("input:text:visible:first").focus())})),listenSubmit("#createNurseForm, #editNurseForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),(()=>{"use strict";listenClick(".doctor-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexDoctorUrl").val()+"/"+t,"#doctorsTable",$("#doctorLang").val())})),listenChange(".doctor-active-status",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexDoctorUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick("#doctorResetFilter",(function(){$("#doctorsHead").val(2).trigger("change"),hideDropdownManually($("#doctorsFilterBtn"),$(".dropdown-menu"))})),listenChange("#doctorsHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())}))})(),document.addEventListener("turbo:load",(function(){if(!$("#createDoctorForm").length&&!$("#editDoctorForm").length)return!1;var e=$("#doctorBloodGroup"),t=$("#editDoctorBloodGroup"),a=$("#departmentId"),n=$("#doctorsDepartmentId"),i=$("#editDoctorsDepartmentId"),r=$("#createDoctorForm"),s=$("#editDoctorForm"),o=$("#doctorBirthDate"),d=$("#editDoctorBirthDate");e.length&&$("#doctorBloodGroup").select2({width:"100%"}),t.length&&$("#editDoctorBloodGroup").select2({width:"100%"}),a.length&&$("#departmentId").select2({width:"100%"}),n.length&&$("#doctorsDepartmentId").select2({width:"100%"}),i.length&&$("#editDoctorsDepartmentId").select2({width:"100%"}),r.length&&$("#createDoctorForm").find("input:text:visible:first").focus(),s.length&&$("#editDoctorForm").find("input:text:visible:first").focus(),o.length&&$("#doctorBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),d.length&&$("#editDoctorBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()})})),listenKeyup("#doctorFacebookUrl,#editDoctorFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#doctorTwitterUrl,#editDoctorTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#doctorInstagramUrl,#editDoctorInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#doctorLinkedInUrl,#editDoctorLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listenSubmit("#createDoctorForm, #editDoctorForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;var e=$(".facebookUrl").val(),t=$(".twitterUrl").val(),a=$(".instagramUrl").val(),n=$(".linkedInUrl").val();Lang.setLocale($(".userCurrentLanguage").val());var i=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return""==e||e.match(i)?""==t||t.match(r)?""==a||a.match(s)?""==n||n.match(o)?void 0:(displayErrorMessage(Lang.get("messages.common.please_enter_valid_linkedin_url")),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_Instagram_url")),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_twitter_url")),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_facebook_url")),!1)})),listenClick(".doctor-remove-image",(function(){defaultImagePreview(".previewImage",1)})),listen("click",".deleteTechnicianBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#labTechnicianURL").val()+"/"+t,"",$("#labTechnicianLang").val())})),listenChange(".technicianStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateLabTechnicianStatus(t)})),listenChange("#technicianFilterStatus",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listen("click","#technicianResetFilter",(function(){$("#technicianFilterStatus").val(0).trigger("change"),hideDropdownManually($("#labTechnicianFilterBtn"),$(".dropdown-menu"))})),window.updateLabTechnicianStatus=function(e){$.ajax({url:$("#labTechnicianURL").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){($("#createLabTechnicianForm").length||$("#editLabTechnicianForm").length)&&($("#technicianBloodGroup").select2({width:"100%"}),$("#editTechnicianBloodGroup").select2({width:"100%"}),$(".departmentId").select2({width:"100%"}),$(".technicianBirthDate").flatpickr({dateFormat:"Y-m-d",useCurrent:!1,locale:$(".userCurrentLanguage").val()}).set("maxDate",new Date))})),listenSubmit("#createLabTechnicianForm, #editLabTechnicianForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),$("#createLabTechnicianForm, #editLabTechnicianForm").find("input:text:visible:first").focus(),listenClick(".delete-receptionist-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#receptionistUrl").val()+"/"+t,"#receptionistsTbl",$("#receptionistLang").val())})),listenChange("#receptionist_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange(".receptionistStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateReceptionistStatus(t)})),listenClick("#receptionistResetFilter",(function(){$("#receptionist_filter_status").val(2).trigger("change"),hideDropdownManually($("#receptionistFilter"),$(".dropdown-menu"))})),window.updateReceptionistStatus=function(e){$.ajax({url:$("#receptionistUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){$("#receptionistBirthDate").length&&($("#receptionistBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#receptionistBloodGroup").select2({width:"100%"}),$("#createReceptionForm").find("input:text:visible:first").focus()),$("#editReceptionistBirthDate").length&&($("#editReceptionistBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#editReceptionistBloodGroup").select2({width:"100%"}),$("#editReceptionForm").find("input:text:visible:first").focus())})),listenSubmit("#createReceptionForm, #editReceptionForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenClick(".remove-receptionist-image",(function(){defaultImagePreview("#receptionistPreviewImage",1)})),listenClick(".delete-pharmacist-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPharmacistUrl").val()+"/"+t,"#pharmacistsTable",$("#pharmacistLang").val())})),listenChange("#pharmacist_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange(".pharmacistStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updatePharmacistsStatus(t)})),listenClick("#pharmacistResetFilter",(function(){$("#pharmacist_filter_status").val(0).trigger("change"),hideDropdownManually($("#pharmacistsFilter"),$(".dropdown-menu"))})),window.updatePharmacistsStatus=function(e){$.ajax({url:$("#indexPharmacistUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){($("#createPharmacistForm").length||$("#editPharmacistForm").length)&&($(".pharmacistBirthDate").flatpickr({dateFormat:"Y-m-d",useCurrent:!1,locale:$(".userCurrentLanguage").val()}).set("maxDate",new Date),$("#createPharmacistForm, #editPharmacistForm").find("input:text:visible:first").focus())})),listenSubmit("#createPharmacistForm, #editPharmacistForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenClick(".remove-pharmacist-image",(function(){defaultImagePreview(".previewImage",1)})),listenChange("#patientFilterStatus",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange(".patient-status",(function(e){var t=$(e.currentTarget).attr("data-id");updatePatientStatus(t)})),listenClick("#resetPatientFilter",(function(){$("#patientFilterStatus").val(0).trigger("change"),hideDropdownManually($("#patientFilterBtn"),$(".dropdown-menu"))})),


      listenClick(".delete-patient-btn",(function(e){
        var t=$(e.currentTarget).attr("data-id");
        deleteItem($("#indexPatientUrl").val()+"/"+t,"",$("#patientLang").val())
      })),

      window.updatePatientStatus=function(e)

      {
        $.ajax({
        url:$("#indexPatientUrl").val()+"/"+e+"/active-deactive",
        method:"post",
        cache:!1,success:function(e)
        {
          e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))
        },
        error:function(e)
        {
          displayErrorMessage(e.responseJSON.message)
        }
        })
      },

          listenChange(".is-verified",(function(e){var t=$(e.currentTarget).data("id");$.ajax({url:$("#userUrl").val()+"/"+t+"/is-verified",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#patientsTable").DataTable().ajax.reload(null,!1))}})})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#showPatientUrl").length)return;$("#editPatientPaymentDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#editAdvancedPaymentModal").on("shown.bs.modal",(function(){$("#editPatientPaymentId:first").focus()})),$("#editVaccinationDoesGivenDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),listenShownBsModal("#editPatientVaccinationModal",(function(){$("#editPatientVaccinationName, #editVaccinationPatientName").select2({width:"100%",dropdownParent:$("#editPatientVaccinationModal")})})),function(){if(!$("#showPatientUrl").length)return;listenClick(".delete-btn",(function(e){$(this);var t=$(e.currentTarget).attr("data-id"),a=$(this).data("url"),n=$(this).data("message");deleteItem(a+"/"+t,"",n)}))}()})),listenClick(".edit-advancedPayment-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPatientListingData(t)}})),window.renderPatientListingData=function(e){$.ajax({url:$("#showPatientAdvancedPaymentUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#patientAdvancePaymentId").val(e.data.id),$("#editPatientPaymentId").val(e.data.patient_id).trigger("change.select2"),$("#editPatientPaymentReceiptNo").val(e.data.receipt_no),$("#editPatientPaymentAmount").val(e.data.amount),$(".price-input").trigger("input"),document.querySelector("#editPatientPaymentDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editAdvancedPaymentModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editAdvancedPaymentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditSave");t.button("loading");var a=$("#patientAdvancePaymentId").val();$.ajax({url:$("#showPatientAdvancedPaymentUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editAdvancedPaymentModal").modal("hide"),location.reload())},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#editAdvancedPaymentModal",(function(){resetModalForm("#editAdvancedPaymentForm","#editPatientPaymentErrorsBox")})),listenClick(".edit-vaccination-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderVaccinationedData(t)}})),window.renderVaccinationedData=function(e){$.ajax({url:$("#showVaccinatedPatientUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#vaccinatedPatientId").val(t.id),$("#editVaccinationPatientName").val(t.patient_id).trigger("change.select2"),$("#editPatientVaccinationName").val(t.vaccination_id).trigger("change.select2"),$("#editVaccinationSerialNo").val(t.vaccination_serial_number),$("#editVaccinationDoseNumber").val(t.dose_number),document.querySelector("#editVaccinationDoesGivenDate")._flatpickr.setDate(moment(t.dose_given_date).format()),$("#editVaccinationDescription").val(t.description),$("#editPatientVaccinationModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editPatientVaccinationForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editBtnSave");t.button("loading");var a=$("#vaccinatedPatientId").val();$.ajax({url:$("#showVaccinatedPatientUrl").val()+"/"+a+"/update",type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPatientVaccinationModal").modal("hide"),location.reload())},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#editPatientVaccinationModal",(function(){resetModalForm("#editPatientVaccinationForm","#editPatientVaccinationErrorsBox1")}))})(),document.addEventListener("turbo:load",(function(){($("#createPatientForm").length||$("#editPatientForm").length)&&$(".patientBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()})})),listenKeyup(".patientFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup(".patientTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup(".patientInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup(".patientLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listenSubmit("#createPatientForm, #editPatientForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;var e=$(".patientFacebookUrl").val(),t=$(".patientTwitterUrl").val(),a=$(".patientInstagramUrl").val(),n=$(".patientLinkedInUrl").val(),i=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return Lang.setLocale($(".userCurrentLanguage").val()),""==e||e.match(i)?""==t||t.match(r)?""==a||a.match(s)?""==n||n.match(o)?void 0:(displayErrorMessage(Lang.get("messages.common.please_enter_valid_linkedin_url")),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_Instagram_url")),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_twitter_url")),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_facebook_url")),!1)})),$("#createPatientForm, #editPatientForm").find("input:text:visible:first").focus(),listenClick(".remove-patient-image",(function(){defaultImagePreview(".previewImage",1)})),listenClick(".accountant-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#accountantIndexURL").val()+"/"+t,"#accountantsTbl",$("#Accountant").val())})),listenChange(".accountant-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateAccountantStatus(t)})),window.updateAccountantStatus=function(e){$.ajax({url:$("#accountantIndexURL").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listen("change","#accountant_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#accountantResetFilter",(function(){$("#accountant_filter_status").val(0).trigger("change"),hideDropdownManually($("#accountantFilterBtn"),$(".dropdown-menu"))})),document.addEventListener("turbo:load",(function(){$("#accountantBloodGroup, #editAccountantBloodGroup").select2({width:"100%"}),$("#accountantBirthDate, #editAccountantBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),listenSubmit("#createAccountantForm, #editAccountantForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),$("#createAccountantForm, #editAccountantForm").find("input:text:visible:first").focus(),listenClick(".remove-image",(function(){defaultImagePreview("#previewImage",1)}))})),listenClick(".tele-caller-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#teleCallerIndexURL").val()+"/"+t,"#teleCallersTbl",$("#TeleCaller").val())})),listenChange(".tele_caller-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateTeleCallerStatus(t)})),window.updateTeleCallerStatus=function(e){$.ajax({url:$("#teleCallerIndexURL").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},

          listen("change","#TeleCaller_filter_status",(function()
          {
            window.livewire.emit("changeFilter","statusFilter",$(this).val())
          })),

          listenClick("#TeleCallerResetFilter",(function()
          {
            $("#TeleCaller_filter_status").val(2).trigger("change"),
            hideDropdownManually($("#TeleCallerFilterBtn"),$(".dropdown-menu"))

          })),

            document.addEventListener("turbo:load",(function(){$("#accountantBloodGroup, #editTeleCallerBloodGroup").select2({width:"100%"}),$("#accountantBirthDate, #editTeleCallerBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),listenSubmit("#createTeleCallerForm, #editTeleCallerForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),$("#createTeleCallerForm, #editTeleCallerForm").find("input:text:visible:first").focus(),listenClick(".remove-image",(function(){defaultImagePreview("#previewImage",1)}))})),(()=>{"use strict";window.setPrice=function(e,t){if(""!=t||t>0){"number"!=typeof t&&(t=t.replace(/,/g,""));var a=addCommas(t);$(e).val(a)}},window.addCommas=function(e){for(var t=(e+="").split("."),a=t[0],n=t.length>1?"."+t[1]:"",i=/(\d+)(\d{3})/;i.test(a);)a=a.replace(i,"$1,$2");return a+n},window.getFormattedPrice=function(e){if(""!=e||e>0)return"number"!=typeof e&&(e=e.replace(/,/g,"")),addCommas(e)},window.priceFormatSelector=function(e){listen("input keyup keydown keypress",e,(function(e){var t=$(this).val();if(""===t)$(this).val("");else{if(/^[0-9]+(,[0-9]+)*$/.test(t))return $(this).val(getFormattedPrice(t)),!0;$(this).val(t.replace(/\D/g,""))}}))},window.removeCommas=function(e){return e.replace(/,/g,"")},priceFormatSelector(".price-input"),listenKeyup(".decimal-number",(function(){var e=$(this);e.val(e.val().replace(/[^\d.]/g,"")),e.val().includes(".")&&$(this).val().substring($(this).val().indexOf("."),$(this).val().indexOf(".").length).length>3&&e.val(e.val().slice(0,-1))}))})(),(()=>{"use strict";listenClick(".bill-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#indexBillUrl").val()+"/"+t,"",$("#billLang").val())})),listenChange(".make-bill-payment",(function(e){var t=this;e.preventDefault(),swal({title:Lang.get("messages.lunch_break.are_u_sure"),text:Lang.get("messages.lunch_break.u_want_to_complete_this_payment"),icon:"warning",buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()+", "+$(".cancelVariable").val()}}).then((function(e){if(e){var a=$(t).attr("data-id"),n=$(t).val();$.ajax({url:route("bill.payment",a),method:"post",cache:!1,data:{amount:$(".bill-amount").val(),id:a,paymentType:n},success:function(e){if(null==e.data)displaySuccessMessage(e.message),window.livewire.emit("refresh");else if(1==e.data.payment_type){var t=Stripe(e.data.stripe_key),a=e.data[0].sessionId;t.redirectToCheckout({sessionId:a}).then((function(e){return manageAjaxErrors(e)}))}},error:function(e){displayErrorMessage(e.responseJSON.message)}})}else Livewire.emit("refresh")}))})),listenChange(".bill-payment-approve",(function(){var e=$(this).attr("data-id"),t=$(this).val();$.ajax({url:route("change-bill-payment-status",e),type:"GET",data:{id:e,status:t},success:function(e){displaySuccessMessage(e.message),window.livewire.emit("refresh")},error:function(e){displayErrorMessage(e.responseJSON.message)}})}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#billForm").length)return!1;var t=$("#female"),a=$("#male"),n=$("#patient_id"),i=$("#patientAdmissionId"),r=$("#bill_date"),s=$("#editBillDate");$('input:text:not([readonly="readonly"])').first().blur(),t.length&&$("#female").attr("disabled",!0);a.length&&$("#male").attr("disabled",!0);n.length&&$("#patient_id").select2({width:"100%"});i.length&&$("#patientAdmissionId").select2({width:"100%"});r.length&&


      // ($("#bill_date").flatpickr(
      //   {enableTime:!0,
      //     defaultDate:new Date,
      //     dateFormat:"Y-m-d H:i",
      //     locale:$(".userCurrentLanguage").val()
      //   }),


      //   $("#due_date").flatpickr({
      //     enableTime: true,
      //     defaultDate: $("#bill_date").val(),
      //     dateFormat: "Y-m-d H:i",
      //     locale: $(".userCurrentLanguage").val(),
      //     minDate: $("#bill_date").val(),

      // })


      ($("#bill_date").flatpickr({
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        locale: $(".userCurrentLanguage").val(),
        defaultDate:new Date,
        onChange: function(selectedDates, dateStr, instance) {
            $("#due_date").flatpickr({
                enableTime: true,
                dateFormat: "Y-m-d H:i",
                locale: $(".userCurrentLanguage").val(),
                defaultDate: dateStr || "today",
                minDate: dateStr || "today",
            })
        }
      }),

      $("#due_date").flatpickr({
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        locale: $(".userCurrentLanguage").val(),
        defaultDate: $("#bill_date").val() || "today",
        minDate: $("#bill_date").val() || "today",
      })

    );s.length&&($("#editBillDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$("#editDueDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}));e(".accountId")}));var e=function(e){$(e).select2({placeholder:Lang.get("messages.medicine_bills.select_medicine"),width:"100%"})};listenClick("#addBillItem",(function(){var a=$(".uniqueId").val(),n={medicines:JSON.parse($(".associateMedicines").val()),uniqueId:a},i=prepareTemplateRender("#billItemTemplate",n);$(".bill-item-container").append(i),e(".medicineId"),a++,t()}));var t=function(){var e=1;$(".bill-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0&&$("#billTbl tbody").append('<tr><td class="text-center item-number">1</td><td class="table__item-desc"><input class="form-control itemName" required name="item_name[]" type="text"></td><td class="table__qty"><input class="form-control qty quantity" required name="qty[]" type="text"></td><td><input class="form-control price-input price" required name="price[]" type="text"></td><td class="amount text-right itemTotal"></td><td class="text-center"><i class="fa fa-trash text-danger delete-bill-bulk-item pointer"></i></td></tr>')};listenClick(".delete-bill-bulk-item",(function(){$(this).parents("tr").remove(),t(),i()}));var a=function(e){return e.replace(/,/g,"")};listenKeyup(".qty",(function(){var e=parseInt($(this).val()),t=$(this).parent().siblings().find(".price").val();t=parseInt(a(t));var r=n(e,t);$(this).parent().siblings(".amount").text(addCommas(r.toString())),i()})),listenKeyup(".price",(function(){var e=$(this).val();e=parseInt(a(e));var t=parseInt($(this).parent().siblings().find(".qty").val()),r=n(t,e);$(this).parent().siblings(".amount").text(addCommas(r.toString())),i()}));var n=function(e,t){return e>0&&t>0?e*t:0},i=function(){var e=0;$(".bill-item-container>tr").each((function(){var t=$(this).find(".itemTotal").text();t=a(t),t=isEmpty($.trim(t))?0:parseInt(t),e+=t})),e=parseFloat(e),$("#totalPrice").text(addCommas(e.toFixed(2))),$("#totalAmount").val(e)};listenSubmit("#billForm",(function(e){e.preventDefault(),$("#billSave").attr("disabled",!0),jQuery(this).find("#saveInvoiceBtn").button("loading");var t=new FormData($(this)[0]);$.ajax({url:$(".billSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".billUrl").val()+"/"+e.data.id},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#billSave").attr("disabled",!1)}})})),listenChange("#patientAdmissionId",(function(){var e;$("#patientAdmissionId").attr("disabled",!0),""!=$(this).val()&&null!=$(this).val()?($("#patientAdmissionId").attr("disabled",!1),e=$(".isEdit").val()?{editBillId:$(".billId").val(),patient_admission_id:$(this).val()}:{patient_admission_id:$(this).val()},$.ajax({url:$(".patientAdmissionDetailUrl").val(),type:"GET",data:e,success:function(e){if(e.success){var t=e.data;if($("#pAdmissionId").val($("#patientAdmissionId").find(":selected").val()),$("#female,#male").attr("disabled",!0),$("#billsPatientId").val(t.patientDetails.owner_id),$("#name").val(t.patientDetails.full_name),$("#userEmail").val(t.patientDetails.email),$("#userPhone").val(null!=t.patientDetails.phone?t.patientDetails.phone:"N/A"),1==t.patientDetails.gender?$("#female").prop("checked",!0):$("#male").prop("checked",!0),$("#dob").val(null!=t.patientDetails.dob?t.patientDetails.dob:"N/A"),$("#billDoctorId").val(t.doctorName),$("#admissionDate").val(t.admissionDetails.admission_date),$("#dischargeDate").val(null!=t.admissionDetails.discharge_date?t.admissionDetails.discharge_date:"N/A"),""!=t.package?$("#packageId").val(null!=t.package.name?t.package.name:"N/A"):$("#packageId").val("N/A"),null!=t.admissionDetails.insurance?$("#insuranceId").val(t.admissionDetails.insurance.name):$("#insuranceId").val("N/A"),$("#totalDays").val(t.admissionDetails.totalDays),$("#policyNo").val(""!=t.admissionDetails.policy_no?t.admissionDetails.policy_no:"N/A"),(""!=t.package||""==t.package||!t.hasOwnProperty("billItems")||t.hasOwnProperty("billItems")||t.billItems.length<=0||t.billItems.length>=0)&&($(".bill-item-container tr").each((function(){$(this).closest("tr").remove()})),$("#totalPrice").text("0"),$("#billTbl tbody").append('<tr><td class="text-center item-number">1</td><td class="table__item-desc"><input class="form-control itemName" required name="item_name[]" type="text"></td><td class="table__qty"><input class="form-control qty quantity" required name="qty[]" type="text"></td><td><input class="form-control price-input price" required name="price[]" type="text"></td><td class="amount text-right itemTotal"></td><td class="text-center"><i class="fa fa-trash text-danger delete-bill-bulk-item pointer"></i></td></tr>')),""!=t.package&&t.hasOwnProperty("billItems")&&t.billItems.length>0){var a=t.billItems.length-1;$("#totalAmount").val(0);for(var n=0,i=1;i<=a;i++)$("#addBillItem").trigger("click");$(".bill-item-container tr").each((function(e){var a=$(this);a.find(".itemName").val(t.billItems[e].item_name),a.find(".quantity").val(t.billItems[e].qty),a.find(".price").val(t.billItems[e].price),a.find(".amount").text(t.billItems[e].amount),n+=parseInt(a.find(".itemTotal").text()),$("#totalPrice").text(n)})),$("#totalAmount").val($("#total").text()),setTimeout((function(){$(".price").trigger("keyup")}),500)}else if(""!=t.package){if(t.package.package_services_items.length>0){var r=t.package.package_services_items.length-1;$("#totalAmount").val(0);for(var s=0,o=1;o<=r;o++)$("#addBillItem").trigger("click");$(".bill-item-container tr").each((function(e){var a=$(this);a.find(".itemName").val(t.package.package_services_items[e].service.name),a.find(".quantity").val(t.package.package_services_items[e].quantity),a.find(".price").val(t.package.package_services_items[e].rate),a.find(".amount").text(t.package.package_services_items[e].amount),s+=parseInt(a.find(".itemTotal").text()),$("#totalPrice").text(s)})),$("#totalAmount").val($("#total").text())}}else if(t.hasOwnProperty("billItems")&&t.billItems.length>0){var d=t.billItems.length-1;$("#totalAmount").val(0);for(var l=0,c=1;c<=d;c++)$("#addBillItem").trigger("click");$(".bill-item-container tr").each((function(e){var a=$(this);a.find(".itemName").val(t.billItems[e].item_name),a.find(".quantity").val(t.billItems[e].qty),a.find(".price").val(t.billItems[e].price),a.find(".amount").text(t.billItems[e].amount),l+=parseInt(a.find(".itemTotal").text()),$("#totalPrice").text(l)})),$("#totalAmount").val($("#total").text())}}},error:function(e){manageAjaxErrors(e),$("#patientAdmissionId").attr("disabled",!1)}})):$("#patientAdmissionId").attr("disabled",!1)}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){setTimeout((function(){$("#patientAdmissionId").val($("#editBillPatientAdmissionId").val()),$("#patientAdmissionId").trigger("change")}),500);var e={};

    $("#appointmentsPatientId").select2({width:"100%",templateResult:function(t){if(t.loading)return t.text;var a=e.term||"";return function(e,t){var a=e.toUpperCase().indexOf(t.toUpperCase()),n=$("<span></span>");if(a<0)return n.text(e);n.text(e.substring(0,a));var i=$('<span style="text-decoration: underline;"></span>');return i.text(e.substring(a,a+t.length)),n.append(i),n.append(e.substring(a+t.length)),n}(t.text,a)},language:{searching:function(t){return e=t,"Searching"}},ajax:{delay:250,url:$(".searchPatient").val(),dataType:"json",minimumInputLength:3}})}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#bloodGroup").select2({width:"100%",dropdownParent:$("#bloodDonorsAddModal")}),$("#editBloodGroup").select2({width:"100%",dropdownParent:$("#bloodDonorsEditModal")});$("#lastDonationDate").flatpickr({format:"YYYY-MM-DD HH:mm:ss",dateFormat:"Y-m-d H:i",sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),$("#editLastDonationDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,locale:$(".userCurrentLanguage").val()})})),listenSubmit("#bloodDonorsAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonorsBtnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$("#bloodDonorCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonorsAddModal").modal("hide"),window.livewire.emit("refresh"),$(t).attr("disabled",!1))},error:function(e){printErrorMessage("#bloodDonorsValidationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#bloodDonorsEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonorEditBtnSave");t.button("loading"),$(t).attr("disabled",!0);var a=$("#bloodDonorId").val();$.ajax({url:$("#bloodDonorUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonorsEditModal").modal("hide"),window.livewire.emit("refresh"),$(t).attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#bloodDonorsAddModal",(function(){resetModalForm("#bloodDonorsAddNewForm","#bloodDonorsValidationErrorsBox"),$("#bloodDonorsBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#bloodDonorsEditModal",(function(){resetModalForm("#bloodDonorsEditForm","#bloodDonorsEditValidationErrorsBox"),$("#bloodDonorEditBtnSave").attr("disabled",!1)})),listenClick(".blood-donors-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodDonorUrl").val()+"/"+t,"#bloodDonorsTable",$("#bloodDonorLang").val())})),listenClick(".blood-donors-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodDonorUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodDonorId").val(t.id),$("#editName").val(t.name),$("#editAge").val(t.age),$("#male,#female").prop("checked",!1),0==t.gender?$("#female").prop("checked",!0):$("#male").prop("checked",!0),$("#editBloodGroup").val(t.blood_group),$("#editBloodGroup").trigger("change"),$("#editLastDonationDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,locale:$(".userCurrentLanguage").val()}).setDate(t.last_donate_date+1),$("#bloodDonorsEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}}))})(),(()=>{"use strict";listenSubmit("#bloodBanksAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodBanksBtnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$("#bloodBankCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(window.livewire.emit("refresh"),displaySuccessMessage(e.message),$("#bloodBanksAddModal").modal("hide"),$(t).attr("disabled",!1))},error:function(e){printErrorMessage("#bloodBanksValidationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#bloodBanksEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodBanksEditBtnSave");t.button("loading"),$(t).attr("disabled",!0);var a=$("#bloodBankId").val();$.ajax({url:$("#bloodBankUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(window.livewire.emit("refresh"),displaySuccessMessage(e.message),$("#bloodBanksEditModal").modal("hide"),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#bloodBanksAddModal",(function(){$("#bloodBanksBtnSave").attr("disabled",!1),resetModalForm("#bloodBanksAddNewForm","#bloodBanksValidationErrorsBox")})),listenHiddenBsModal("#bloodBanksEditModal",(function(){$("#bloodBanksEditBtnSave").attr("disabled",!1),resetModalForm("#bloodBanksEditForm","#bloodBanksEditValidationErrorsBox")})),listenClick(".blood-banks-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodBankUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodBankId").val(t.id),$("#editBloodGroupBank").val(t.blood_group),$("#editRemainedBags").val(t.remained_bags),$("#bloodBanksEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".blood-banks-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodBankUrl").val()+"/"+t,"#bloodBankTable",$("#bloodBankLang").val())}))})(),document.addEventListener("turbo:load",(function(){})),listenClick(".bed-type-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderBedTypeData(t)}})),listenClick(".bed-type-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bedTypeIndexUrl").val()+"/"+t,"#bedTypesTbl",$("#bedTypeLang").val())})),window.renderBedTypeData=function(e){$.ajax({url:$("#bedTypeIndexUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bedTypeId").val(t.id),$("#editTitle").val(t.title),$("#editDescription").val(t.description),$("#editBedTypeModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#addNewBedTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$("#bedTypesCreateURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$(t).attr("disabled",!1),$("#addBedTypeModal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editBedTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditSave");t.button("loading"),$(t).attr("disabled",!0);var a=$("#bedTypeId").val();$.ajax({url:$("#bedTypeIndexUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editBedTypeModal").modal("hide"),livewire.emit("refresh"),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addBedTypeModal",(function(){resetModalForm("#addNewBedTypeForm","#validationErrorsBox"),$("#btnSave").attr("disabled",!1)})),listenHiddenBsModal("#editBedTypeModal",(function(){resetModalForm("#editBedTypeForm","#editValidationErrorsBox"),$("#btnEditSave").attr("disabled",!1)})),(()=>{"use strict";listenClick(".bed-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($(".bedUrl").val()+"/"+t,"#bedsTbl",$("#bedLang").val())})),listenChange(".bed-status",(function(e){var t,a=$(e.currentTarget).data("id");t=a,$.ajax({url:$(".bedUrl").val()+"/"+t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&livewire.emit("refresh")}})})),listenChange("#bed_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#bedResetFilter",(function(){$("#bed_filter_status").val(0).trigger("change"),hideDropdownManually($("#bedAssignFilterBtn"),$(".dropdown-menu"))}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#purchaseUniqueId").length)return;$(".purchaseMedicineExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"}),$("#paymentMode").select2({width:"100%"})}));var e="";listenClick(".add-medicine-btn-purchase",(function(){e=$("#purchaseUniqueId").val();var a={medicines:JSON.parse($(".associatePurchaseMedicines").val()),uniqueId:e},n=prepareTemplateRender("#purchaseMedicineTemplate",a);$(".prescription-medicine-container").append(n),t(".purchaseMedicineId"),$(".purchaseMedicineExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"}),e++,$("#purchaseUniqueId").val(e)}));var t=function(e){$(e).select2({placeholder:Lang.get("messages.medicine_bills.select_medicine"),width:"100%"})};listenChange(".purchaseMedicineId",(function(){var e=$(this).val(),t=$(this).attr("data-id"),a="#sale_price"+t,n="#purchase_price"+t;if(""==e)return $(a).val("0.00"),$(n).val("0.00"),!1;$.ajax({type:"get",url:route("get-medicine",e),success:function(e){$(a).val(e.data.selling_price.toFixed(2)),$(n).val(e.data.buying_price.toFixed(2))}})})),listenKeyup(".purchase-quantity,.purchase-price,purchase-quantity,.purchase-tax,.purchase-discount",(function(){var e=$(this).val();$(this).val(e.replace(/[^0-9\.]/g,""));var t=$(this).closest("tr"),a=t.find(".purchase-quantity").val(),n=t.find(".purchase-price").val(),i=parseFloat(n*a);t.find(".purchase-amount").val(i.toFixed(2));for(var r=$(".purchase-tax"),s=$(".purchase-amount"),o=0,d=0,l=0,c=0,u=0;u<s.length;u++)if(o+=parseFloat(s[u].value),c=$(".purchase-discount").val(),0!=r[u].value&&""!=r[u].value){if(r[u].value>99){var m=r[u].value.slice(0,-1);return t.find(".purchase-tax").val(m),displayErrorMessage(Lang.get("messages.new_change.tax_less_100")),$("#discountAmount").val(c),!1}d+=s[u].value*r[u].value/100}else parseFloat(s[u].value);if(c=""==c?0:c,l=parseFloat(o)+parseFloat(d),l=parseFloat(l)-parseFloat(c),c>o&&$(this).hasClass("purchase-discount"))return c=c.slice(0,-1),displayErrorMessage(Lang.get("messages.new_change.discount_less_than_amount")),$("#discountAmount").val(c),!1;c>o&&(l=0),$("#total").val(o.toFixed(2)),$("#purchaseTaxId").val(d.toFixed(2)),$("#netAmount").val(l.toFixed(2))})),listenClick(".delete-purchase-medicine-item",(function(){var e=$(this).closest("tr"),t=e.find(".purchase-amount").val(),a=e.find(".purchase-tax").val(),n=parseFloat(t)*parseFloat(a/100),i=parseFloat($("#purchaseTaxId").val())-parseFloat(n);$("#purchaseTaxId").val(i.toFixed(2));var r=parseFloat($("#total").val())-parseFloat(t);$("#total").val(r.toFixed(2));var s=parseFloat(n)+parseFloat(t),o=parseFloat($("#netAmount").val())-parseFloat(s);$("#netAmount").val(o.toFixed(2)),$(this).parents("tr").remove()})),listenSubmit("#purchaseMedicineFormId",(function(e){e.preventDefault();for(var t=$("#purchaseUniqueId").val()-1,a=1,n=1;n<=t;n++){var i="#medicineChooseId"+n,r="tax"+n;if(void 0!==$(r).val()&&(null!=$(r).val()&&""!=$(r).val()||(a=0)),void 0!==$(i).val()&&(null==$(i).val()||""==$(i).val()))return displayErrorMessage(Lang.get("messages.medicine_bills.select_medicine")),!1;var s="#lot_no"+n;if(void 0!==$(s).val()&&(null==$(s).val()||""==$(s).val()))return displayErrorMessage(Lang.get("messages.new_change.enter_lot_no")),!1;var o="#sale_price"+n;if(void 0!==$(o).val()&&(null==$(o).val()||""==$(o).val()))return displayErrorMessage(Lang.get("messages.new_change.enter_sale_price")),!1;var d="#purchase_price"+n;if(void 0!==$(d).val()){if(null==$(d).val()||""==$(d).val())return displayErrorMessage(Lang.get("messages.new_change.enter_purchase_price")),!1;if(0==$(d).val())return displayErrorMessage(Lang.get("messages.new_change.quantity_greater_than_0")),!1}var l="#quantity"+n;if(void 0!==$(l).val()){if(null==$(l).val()||""==$(l).val())return displayErrorMessage(Lang.get("messages.new_change.enter_quantity")),!1;if(0==$(l).val())return displayErrorMessage(Lang.get("messages.new_change.quantity_greater_than_0")),!1}}var c="#netAmount";return null==$(c).val()||""==$(c).val()?(displayErrorMessage(Lang.get("messages.medicine_bills.net_amount_not_empty")),!1):0==$(c).val()?(displayErrorMessage(Lang.get("messages.medicine_bills.net_amount_not_zero")),!1):0!=a||null!=$("#purchaseTaxId").val()&&""!=$("#purchaseTaxId").val()?void $(this)[0].submit():(displayErrorMessage(Lang.get("messages.new_change.tax_not_empty")),!1)})),listenClick(".purchaseMedicineDelete",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("medicine-purchase.destroy",t),"",Lang.get("messages.purchase_medicine.purchase_medicine"))}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#medicineUniqueId").length)return;$(".medicine_bill_date").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i"}),$(".edit_medicine_bill_date").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i"}),$(".medicineBillExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"}),$(".medicine-payment-mode").select2({width:"100%"}),$(".medicineBillCategoriesId").select2({width:"100%"})}));var e="";Lang.setLocale(UserCurrentLang),listenChange(".medicineBillCategoriesId",(function(){var e=$(this).val(),t=$(this).attr("data-id"),a=$(this).closest("tr"),n=a.find(".purchaseMedicineId");if(""==e)return $(n).find("option").remove(),$(n).append($("<option></option>").attr("placeholder","").text(Lang.get("messages.medicine_bills.select_medicine"))),$("#medicine_sale_price"+t).val("0.00"),a.find("#medicineAvailableQuantity"+t).text("0"),!1;$.ajax({type:"get",url:route("get-medicine-category",e),success:function(e){0==e.data.medicine.length&&a.find("#medicineAvailableQuantity"+t).text("0");var i=e.data.medicine;$(n).find("option").remove(),$(n).attr("required",!0),$("#medicine_sale_price"+t).val("0.00"),a.find("#medicineAvailableQuantity"+t).text("0"),$(n).append($('<option value="">'+Lang.get("messages.medicine_bills.select_medicine")+"</option>")),$.each(i,(function(e,t){$(n).append($("<option></option>").attr("value",e).text(t))}))}})})),listenChange(".medicinePurchaseId",(function(){var e=$(this).closest("tr"),t=$(this).val(),a=$(this).attr("data-id"),n="#medicine_sale_price"+a,i="#medicineAvailableQuantity"+a;if(""==t||t==Lang.get("messages.medicine_bills.select_medicine"))return $(n).val("0.00"),$(i).text("0"),!1;$.ajax({type:"get",url:route("get-medicine",t),success:function(t){$(i).text(t.data.available_quantity),$(n).val(t.data.selling_price.toFixed(2));var a=e.find(".medicineBill-quantity").val(),r=e.find(".medicineBill-sale-price").val(),s=parseFloat(r*a);e.find(".medicine-bill-amount").val(s.toFixed(2));for(var o=$(".medicineBill-tax"),d=$(".medicine-bill-amount"),l=0,c=0,u=0,m=0,p=0;p<d.length;p++)l+=parseFloat(d[p].value),m=$(".medicineBill-discount").val(),0!=o[p].value&&""!=o[p].value?c+=d[p].value*o[p].value/100:parseFloat(d[p].value);if(m=""==m?0:m,u=parseFloat(l)+parseFloat(c),u=parseFloat(u)-parseFloat(m),m>l&&$(this).hasClass("medicineBill-discount"))return m=m.slice(0,-1),displayErrorMessage(Lang.get("messages.new_change.discount_less_than_amount")),$("#discountAmount").val(m),!1;m>l&&(u=0),$("#total").val(l.toFixed(2)),$("#medicineTotalTaxId").val(c.toFixed(2)),$("#netAmount").val(u.toFixed(2))}})})),listenClick(".add-medicine-btn-medicine-bill",(function(){e=$("#medicineUniqueId").val();var i={medicinesCategories:JSON.parse($("#showMedicineCategoriesMedicineBill").val()),medicines:JSON.parse($(".associatePurchaseMedicines").val()),uniqueId:e},r=prepareTemplateRender("#medicineBillTemplate",i);$(".medicine-bill-container").append(r),t(".medicinePurchaseId"),a(".medicinebillCategories"),n(".medicinebillCategories"),$(".purchaseMedicineExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"}),e++,$("#medicineUniqueId").val(e)}));var t=function(e){$(e).select2({placeholder:Lang.get("messages.medicine_bills.select_medicine"),width:"100%"})},a=function(e){$(e).select2({placeholder:Lang.get("messages.medicine.select_category"),width:"100%"})},n=function(e){$(".medicineBillExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"})};listenKeyup(".medicineBill-quantity,.medicineBill-price,.medicineBill-tax,.medicineBill-discount,.medicineBill-sale-price",(function(){var e=$(this).val();$(this).val(e.replace(/[^0-9\.]/g,""));var t=$(this).closest("tr"),a=t.find(".medicineBill-quantity").val(),n=t.find(".medicineBill-sale-price").val(),i=parseFloat(n*a);t.find(".medicine-bill-amount").val(i.toFixed(2));for(var r=$(".medicineBill-tax"),s=$(".medicine-bill-amount"),o=0,d=0,l=0,c=0,u=$(".medicineBill-quantity"),m=$(".previous-quantity"),p=0;p<s.length;p++){if(o+=parseFloat(s[p].value),c=$(".medicineBill-discount").val(),1==$("#medicineBillStatus").val()&&parseInt(u[p].value)>parseInt(m[p].value)){var g=u[p].value.slice(0,-1);return t.find(".medicineBill-quantity").val(g),a=t.find(".medicineBill-quantity").val(),n=t.find(".medicineBill-sale-price").val(),i=parseFloat(n*a),t.find(".medicine-bill-amount").val(i.toFixed(2)),displayErrorMessage(Lang.get("messages.medicine_bills.update_quantity")),!1}if(0!=r[p].value&&""!=r[p].value){if(r[p].value>99){var h=r[p].value.slice(0,-1);return t.find(".medicineBill-tax").val(h),displayErrorMessage(Lang.get("messages.new_change.tax_less_100")),$("#discountAmount").val(c),!1}d+=s[p].value*r[p].value/100}else parseFloat(s[p].value)}if(c=""==c?0:c,l=parseFloat(o)+parseFloat(d),l=parseFloat(l)-parseFloat(c),c>o&&$(this).hasClass("medicineBill-discount"))return c=c.slice(0,-1),displayErrorMessage(Lang.get("messages.new_change.discount_less_than_amount")),$("#discountAmount").val(c),!1;c>o&&(l=0),$("#total").val(o.toFixed(2)),$("#medicineTotalTaxId").val(d.toFixed(2)),$("#netAmount").val(l.toFixed(2))})),listenSubmit("#CreateMedicineBillForm",(function(e){e.preventDefault();var t="#netAmount";return $("#total").val()<$("#discountAmount").val()?(displayErrorMessage(Lang.get("messages.new_change.discount_less_than_amount")),!1):null==$(t).val()||""==$(t).val()?(displayErrorMessage(Lang.get("messages.medicine_bills.net_amount_not_empty")),!1):0==$(t).val()?(displayErrorMessage(Lang.get("messages.medicine_bills.net_amount_not_zero")),!1):0==$(".medicineBill-quantity").val()||null==$(".medicineBill-quantity").val()||""==$(".medicineBill-quantity").val()?(displayErrorMessage(Lang.get("messages.new_change.quantity_not_empty")),!1):void $(this)[0].submit()})),listenClick(".add-patient-modal",(function(){$("#addPatientModal").appendTo("body").modal("show")})),listenSubmit("#addPatientForm",(function(e){e.preventDefault(),processingBtn("#addPatientForm","#patientBtnSave","loading"),$("#patientBtnSave").attr("disabled",!0),$.ajax({url:route("store.patient"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&($("#prescriptionPatientId").find("option").remove(),$("#prescriptionPatientId").append($("<option></option>").attr("placeholder","").text(Lang.get("messages.document.select_patient"))),$.each(e.data,(function(e,t){$("#prescriptionPatientId").append($("<option></option>").attr("value",e).text(t))})),displaySuccessMessage(e.message),$("#addPatientModal").modal("hide"))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){$("#patientBtnSave").attr("disabled",!1),processingBtn("#addPatientForm","#patientBtnSave")}})})),listenHiddenBsModal("#addPatientModal",(function(){resetModalForm("#addPatientForm","#patientErrorsBox")})),listenClick(".medicine-bill-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("medicine-bills.destroy",t),"",Lang.get("messages.medicine_bills.medicine_bill"))})),listenSubmit("#MedicinebillForm",(function(e){e.preventDefault();var t="#netAmount";return parseFloat($("#total").val())<parseFloat($("#discountAmount").val())?(displayErrorMessage(Lang.get("messages.new_change.discount_less_than_amount")),!1):null==$(t).val()||""==$(t).val()?(displayErrorMessage(Lang.get("messages.medicine_bills.net_amount_not_empty")),!1):0==$(t).val()?(displayErrorMessage(Lang.get("messages.medicine_bills.net_amount_not_zero")),!1):0==$(".medicineBill-quantity").val()||null==$(".medicineBill-quantity").val()||""==$(".medicineBill-quantity").val()?(displayErrorMessage(Lang.get("messages.new_change.quantity_not_empty")),!1):($medicineBillId=$("#medicineBillId").val(),void $.ajax({url:route("medicine-bills.update",$medicineBillId),type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),setTimeout((function(){Turbo.visit(route("medicine-bills.index"))}),2e3))},error:function(e){displayErrorMessage(e.responseJSON.message)}}))})),listenClick(".delete-medicine-bill-item",(function(){var e=$(this).closest("tr"),t=e.find(".medicine-bill-amount").val(),a=e.find(".medicineBill-tax").val(),n=parseFloat(t)*parseFloat(a/100),i=parseFloat($("#medicineTotalTaxId").val())-parseFloat(n);$("#medicineTotalTaxId").val(i.toFixed(2));var r=parseFloat($("#total").val())-parseFloat(t);$("#total").val(r.toFixed(2));var s=parseFloat(n)+parseFloat(t),o=parseFloat($("#netAmount").val())-parseFloat(s);$("#netAmount").val(o.toFixed(2)),$(this).parents("tr").remove()}))})(),(()=>{"use strict";function e(e){$(e).select2({placeholder:Lang.get("messages.bed.select_bed_type"),width:"100%"})}function t(){var t=1;if($(".bulk-beds-item-container>tr").each((function(){$(this).find(".item-number").text(t),t++})),t-1==0){var a=$("#uniqueId").val(),n={services:JSON.parse($("#bedTypes").val()),uniqueId:a},i=prepareTemplateRender("#bulkBedActionTemplate",n);$(".bulk-beds-item-container").append(i),e(".bedType"),a++}}document.addEventListener("turbo:load",(function(){if(!$("#bulkBedsForm").length)return!1;e(".bedType")})),listenClick("#addNewBedItem",(function(){var a=$("#uniqueId").val(),n={bedTypes:JSON.parse($("#bedTypes").val()),uniqueId:a},i=prepareTemplateRender("#bulkBedActionTemplate",n);$(".bulk-beds-item-container").append(i),e(".bedType"),a++,$("#uniqueId").val(a),t()})),listenClick(".delete-invoice-item",(function(){$(this).parents("tr").remove(),t()})),listenSubmit("#bulkBedsForm",(function(e){e.preventDefault(),$(".bulk-button").prop("disabled",!0);var t=new FormData($(this)[0]);$.ajax({url:$("#bulkBedSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),$(".bulk-button").prop("disabled",!1),window.location.href=$("#bulkBedUrl").val()},error:function(e){printErrorMessage("#validationErrorsBox",e),$(".bulk-button").prop("disabled",!1)}})}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#addNewBedsForm").length&&!$("#EditBedsForm").length)return!1;$("#editBedType").length&&$("#editBedType").select2({width:"100%",dropdownParent:$("#edit_beds_modal")})})),listenSubmit("#addNewBedsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#BedSaveBtn");t.button("loading"),$.ajax({url:$("#bedCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_beds_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".bed-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).data("id");t=a,$.ajax({url:$(".bedUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#bedId").val(e.data.id),$("#editBedName").val(e.data.name),$("#editBedType").val(e.data.bed_type).trigger("change.select2"),$("#editBedDescription").val(e.data.description),$("#editBedCharge").val(e.data.charge),$(".price-input").trigger("input"),$("#edit_beds_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#EditBedsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditSave");t.button("loading");var a=$("#bedId").val();$.ajax({url:$(".bedUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_beds_modal").modal("hide"),$("#bedDetailShowUrl").length?window.location.href=$("#bedDetailShowUrl").val():livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_beds_modal",(function(){resetModalForm("#addNewBedsForm","#validationErrorsBox"),$("#bedType").trigger("change.select2")})),listenHiddenBsModal("#edit_beds_modal",(function(){resetModalForm("#EditBedsForm","#editValidationErrorsBox")})),listenShownBsModal("#add_beds_modal",(function(){$("#bedType").select2({width:"100%",dropdownParent:$("#add_beds_modal")})}))})(),(()=>{function loadMedicineCreateEditData(){$("#categoryId, #brandId").select2({width:"100%"})}function renderMedicineData(e){$.ajax({url:$("#medicinesShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#showMedicineName").text(e.data.name),$("#showMedicineBrand").text(e.data.brand.name),$("#showMedicineCategory").text(e.data.category.name),$("#showMedicineSaltComposition").text(e.data.salt_composition),$("#showMedicineSellingPrice").text($(".currentCurrency").val()+" "+addCommas(e.data.selling_price)),$("#showMedicineBuyingPrice").text($(".currentCurrency").val()+" "+addCommas(e.data.buying_price)),$("#showMedicineQuanity").text(addCommas(e.data.quantity)),$("#showMedicineAvailableQuanity").text(addCommas(e.data.available_quantity)),$("#showMedicineSideEffects").text(e.data.side_effects),$("#showMedicineCreatedOn").text(moment(e.data.created_at).fromNow()),$("#showMedicineUpdatedOn").text(moment(e.data.updated_at).fromNow()),$("#showMedicineDescription").text(e.data.description),setValueOfEmptySpan(),$("#showMedicine").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}function deleteMedicineAjax(url){var tableId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,header=arguments.length>2?arguments[2]:void 0,callFunction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({url,type:"DELETE",dataType:"json",success:function success(obj){obj.success&&obj.data&&swal({title:obj.message,text:$(".confirmVariable").val()+header+"?",icon:sweetAlertIcon,timer:3e3,buttons:{confirm:$(".yesVariable").val()+","+$(".deleteVariable").val(),cancel:$(".noVariable").val()+","+$(".cancelVariable").val()}}).then((function(e){e&&$.ajax({url,type:"DELETE",dataType:"json",data:{canDeleteCheck:"yes"},success:function(e){},error:function(e){swal({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})})),obj.success&&!obj.data&&(Livewire.emit("resetPage"),swal({icon:"success",title:$(".deletedVariable").val(),confirmButtonColor:"#f62947",text:header+" "+$(".hasBeenDeletedVariable").val(),timer:2e3,buttons:{confirm:$(".okVariable").val()}}),callFunction&&eval(callFunction))},error:function(e){swal({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}document.addEventListener("turbo:load",loadMedicineCreateEditData),listenClick(".deleteMedicineBtn",(function(e){var t=$(e.currentTarget).attr("data-id");medicineDeleteItem(route("check.use.medicine",t),"#tblMedicines",$("#medicineLang").val())})),listenClick(".showMedicineBtn",(function(e){e.preventDefault(),renderMedicineData($(e.currentTarget).attr("data-id"))})),window.medicineDeleteItem=function(e){var t=arguments.length>2?arguments[2]:void 0;$.ajax({url:e,type:"GET",success:function(e){if(e.success){var a=1==e.data.result?Lang.get("messages.new_change.medicine_bill_already_use"):$(".confirmVariable").val()+t+"?";swal({title:$(".deleteVariable").val()+"!",text:a,icon:sweetAlertIcon,buttons:{confirm:$(".yesVariable").val()+","+$(".deleteVariable").val(),cancel:$(".noVariable").val()+","+$(".cancelVariable").val()}}).then((function(a){a&&deleteMedicineAjax($("#indexMedicineUrl").val()+"/"+e.data.id,null,t,null)}))}},error:function(e){displayErrorMessage(e.responseJSON.message)}})}})(),(()=>{"use strict";$(document).ready((function(){var e=$("#qty");e.blur((function(){e.val()<0&&e.val(0)})),$("#brandId,#categoryId").select2({width:"100%"}),$("#medicineNameId").focus(),$("#createMedicine, #editMedicine").on("submit",(function(){$("#saveBtn").attr("disabled",!0)}))}))})(),listenSubmit("#addDocTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#docTypeSave");t.button("loading");var a={formSelector:$(this),url:$("#indexDocTypeCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_document_types_modal")})),listenClick(".editDocTypBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexDocTypeUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#docTypeId").val(e.data.id),$("#editDocTypeName").val(e.data.name),$("#edit_document_types_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editDocTypForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDocTypeSave");t.button("loading");var a=$("#docTypeId").val(),n=$(".docTypeUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"PUT"};editRecordWithForm(i,t,"#edit_document_types_modal")})),listenClick(".deleteDocTypeBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexDocTypeUrl").val()+"/"+t,"#tblDocTypes",$("#documentTypeLang").val())})),listenHiddenBsModal("#add_document_types_modal",(function(){resetModalForm("#addDocTypeForm","#docTypeErrorsBox")})),(()=>{"use strict";function e(e,t,a){var n=$(e).val().split(".").pop().toLowerCase();return a.files[0].size>1e7?($(e).val(""),$(t).html("The document must be less than 10 mb").show(),setTimeout((function(){$(t).slideUp(500)}),5e3),!1):(Lang.setLocale($(".userCurrentLanguage").val()),-1==$.inArray(n,["png","jpg","jpeg","pdf","doc","docx","mp3","mp4"])&&($(t).html(Lang.get("messages.document.document_file_size")).show(),setTimeout((function(){$(t).slideUp(500)}),5e3)),n)}document.addEventListener("turbo:load",(function(){if(!$("#addDocumentForm").length&&!$("#editDocumentForm").length)return!1;var e=$("#documentPatientId"),t=$("#documentTypeId"),a=$("#editDocumentPatientId"),n=$("#editDocumentTypeId");e.length&&$("#documentPatientId").select2({width:"100%",dropdownParent:$("#add_documents_modal")});t.length&&$("#documentTypeId").select2({width:"100%",dropdownParent:$("#add_documents_modal")});a.length&&$("#editDocumentPatientId").select2({width:"100%",dropdownParent:$("#edit_documents_modal")});n.length&&$("#editDocumentTypeId").select2({width:"100%",dropdownParent:$("#edit_documents_modal")})})),listenClick(".document-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexDocumentsUrl").val()+"/"+t,"",$("#documentLang").val())})),listenChange("#documentImage,#editDocumentImage",(function(){$(this).val()})),listenSubmit("#addDocumentForm",(function(e){if(e.preventDefault(),""!==$("#documentErrorsBox").text())return $("#documentImage").focus(),!1;var t=jQuery(this).find("#documentSave");t.button("loading");var a={formSelector:$(this),url:$("#indexDocumentsCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_documents_modal")})),listenClick(".document-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexDocumentsUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editDocumentPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editDocumentPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):$("#editDocumentPreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#editDocumentTypeId").val(e.data.document_type_id).trigger("change.select2"),$("#editDocumentPatientId").val(e.data.patient_id).trigger("change.select2"),$("#editDocumentTitle").val(e.data.title),isEmpty(e.data.document_url)?$("#editDocumentUrl").hide():$("#editDocumentUrl").attr("href",e.data.document_url),$("#documentId").val(e.data.id),$("#editDocumentNotes").val(e.data.notes),$("#edit_documents_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editDocumentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDocumentSave");t.button("loading");var a=$("#documentId").val(),n=$("#indexDocumentsUrl").val()+"/"+a+"/update",i={formSelector:$(this),url:n,type:"POST"};editRecord(i,t,"#edit_documents_modal")})),listenHiddenBsModal("#add_documents_modal",(function(){$("#documentTypeId").val(null).trigger("change"),$("#documentPatientId").val(null).trigger("change"),$("#documentPreviewImage").css("background-image","url("+$("#indexDefaultDocumentImageUrl").val()+")"),null,resetModalForm("#addDocumentForm","#documentErrorsBox")})),listenHiddenBsModal("#edit_documents_modal",(function(){resetModalForm("#editDocumentForm","#editDocumentErrorsBox")})),listenShownBsModal("#add_documents_modal,#edit_documents_modal",(function(){$("#documentTypeId,#documentPatientId").select2({width:"100%",dropdownParent:$("#add_documents_modal")}),$("#editDocumentTypeId,#editDocumentPatientId").select2({width:"100%",dropdownParent:$("#edit_documents_modal")})})),listenChange("#documentImages",(function(){var t=e($(this),"#documentErrorsBox",this);isEmpty(t)||0==t||($("#documentErrorsBox").html("").hide(),displayDocument(this,"#documentPreviewImage",t))})),listenChange("#editDocumentImages",(function(){var t=e($(this),"#editDocumentErrorsBox",this);isEmpty(t)||0==t||($("#editDocumentErrorsBox").html("").hide(),displayDocument(this,"#editPreviewImage",t))}))})(),listen("click",".notice-board-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".indexNoticeBoardUrl").val()+"/"+t,"",$("#noticeBoardLang").val())})),(()=>{"use strict";listenSubmit("#addNoticeBoardForm",(function(e){e.preventDefault(),$("#noticeBoardSave").attr("disabled",!0),$.ajax({url:$("#indexNoticeBoardCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_notice_boards_modal").modal("hide"),livewire.emit("refresh"),$("#noticeBoardSave").attr("disabled",!1))},error:function(e){printErrorMessage("#noticeBoardErrorsBox",e),$("#noticeBoardSave").attr("disabled",!1)}})})),listen("click",".notice-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$(".indexNoticeBoardUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#noticeBoardId").val(e.data.id),$("#editNoticeBoardTitle").val(e.data.title),$("#editNoticeBoardDescription").val(e.data.description),$("#edit_notice_boards_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".notice-view-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=e.currentTarget.dataset.id;$.ajax({url:$(".indexNoticeBoardUrl").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showNoticeBoardTitle").html(""),$("#showNoticeBoardDescription").html(""),$("#showNoticeBoardTitle").append(e.data.title),$("#showNoticeBoardDescription").append(e.data.description),$("#show_notice_boards_modal").appendTo("body").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editNoticeBoardsForm",(function(e){e.preventDefault(),$("#noticeBoardSave").attr("disabled",!0);var t=$("#noticeBoardId").val();$.ajax({url:$(".indexNoticeBoardUrl").val()+"/"+t,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_notice_boards_modal").modal("hide"),livewire.emit("refresh"),$("#noticeBoardSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#noticeBoardSave").attr("disabled",!1)}})})),listenHiddenBsModal("#add_notice_boards_modal",(function(){resetModalForm("#addNoticeBoardForm","#noticeBoardErrorsBox"),$("#noticeBoardSave").attr("disabled",!1)})),listenHiddenBsModal("#edit_notice_boards_modal",(function(){resetModalForm("#editNoticeBoardsForm","#editNoticeBoardErrorsBox")}))})(),(()=>{"use strict";listenClick(".bed-assign-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bedAssignUrl").val()+"/"+t,"#bedAssignsTbl",$("#bedAssignLang").val())})),listenChange(".bed-assign-status",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bedAssignUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.emit("refresh"))}})})),listen("click","#bedAssignResetFilter",(function(){$("#bed_assign_filter_status").val(0).trigger("change"),hideDropdownManually($("#bedAssignFilterBtn"),$(".dropdown-menu"))})),listenChange("#bed_assign_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val()),hideDropdownManually($("#bedAssignFilterBtn"),$("#bedAssignFilterDiv"))}))})(),document.addEventListener("turbo:load",(function(){var e;if(!$("#createBedAssign").length&&!$("#editBedAssign").length)return!1;var t=$("#caseId"),a=$("#BedAssignBedId"),n=$("#ipdPatientId");t.length&&($("#caseId").select2({width:"100%"}),$("#caseId").first().focus()),a.length&&$("#BedAssignBedId").select2({width:"100%"}),n.length&&$("#ipdPatientId").select2({placeholder:Lang.get("messages.new_change.select_ipd_patient"),width:"100%"}),$("#BedAssignDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",minDate:new Date,locale:$(".userCurrentLanguage").val(),onChange:function(e,t,a){var n=moment($("#assignDate").val()).add(1,"days").format();void 0!==o&&o.set("minDate",n)}});var i=(null===(e=$("#editBedAssignDate").val())||void 0===e?void 0:e.split(" ")[0])||[];if($("#editBedAssignDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",defaultDate:$(this).val(),enable:[{from:i,to:new Date}],locale:$(".userCurrentLanguage").val(),onChange:function(e,t,a){var n=moment($("#assignDate").val()).add(1,"days").format();void 0!==o&&o.set("minDate",n)}}),$("#editBedAssign").length){setTimeout((function(){$("#caseId").trigger("change"),$("#BedAssignDate").trigger("dp.change")}),300);var r=$("#BedAssignDischargeDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),s=moment($("#BedAssignDate").val()).add(1,"days").format();r.set("minDate",s)}var o=void 0})),listenSubmit("#createBedAssign, #editBedAssign",(function(){$("#saveBtn").attr("disabled",!0),""!==$("#validationErrorsBox").text()&&$("#BedAssignSaveBtn").attr("disabled",!1)})),listenChange("#caseId",(function(){""!==$(this).val()&&$.ajax({url:$("#ipdPatientListUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#ipdPatientId").empty(),$("#ipdPatientId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#ipdPatientId").append($("<option></option>").attr("value",e).text(t))}))):$("#ipdPatientId").prop("disabled",!0)}}),$("#ipdPatientId").empty(),$("#ipdPatientId").append("<option>"+Lang.get("messages.new_change.no_ipd_patient_found")+"</option>"),$("#ipdPatientId").prop("disabled",!0)})),(()=>{"use strict";listenClick(".delete-death-report-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".deathReportUrl").val()+"/"+t,"#deathReportsTbl",$("#deathReportLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#deathCaseId, #deathDoctorId").select2({width:"100%",dropdownParent:$("#addDeathReportModal")}),$("#editDeathCaseId, #editDeathDoctorId").select2({width:"100%",dropdownParent:$("#editDeathReportModal")}),$("#deathDate, #editDeathDate").flatpickr({dateFormat:"Y-m-d h:i K",useCurrent:!0,enableTime:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()})})),listenSubmit("#addDeathReportNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnDRSave");t.button("loading"),$("#btnDRSave").attr("disabled",!0),$.ajax({url:route("death-reports.store"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addDeathReportModal").modal("hide"),window.livewire.emit("refresh"),$("#btnDRSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#btnDRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".edit-death-report-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderDeathReportData(t)}})),window.renderDeathReportData=function(e){$.ajax({url:$(".deathReportUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#deathReportId").val(e.data.id),$("#editDeathCaseId").val(e.data.case_id).trigger("change.select2"),$("#editDeathDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editDescription").val(e.data.description),document.querySelector("#editDeathDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editDeathReportModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editDeathReportForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditDRSave");t.button("loading"),$("#btnEditDRSave").attr("disabled",!0);var a=$("#deathReportId").val();$.ajax({url:$(".deathReportUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editDeathReportModal").modal("hide"),window.livewire.emit("refresh"),$("#btnEditDRSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#btnEditDRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addDeathReportModal",(function(){resetModalForm("#addDeathReportNewForm","#drValidationErrorsBox"),$("#btnDRSave").attr("disabled",!1),$("#deathCaseId, #deathDoctorId").val("").trigger("change.select2")})),listenHiddenBsModal("#editDeathReportModal",(function(){$("#btnEditDRSave").attr("disabled",!1),resetModalForm("#editDeathReportForm","#editDRValidationErrorsBox")}))})(),document.addEventListener("turbo:load",(function(){if($("#language").select2({width:"100%",dropdownParent:$("#changeLanguageModal")}),!$("#phoneNum").length)return!1})),window.renderProfileData=function(){$.ajax({url:$(".profileUrl").val(),type:"GET",success:function(e){if(e.success){var t=e.data;$("#editUserId").val(t.id),$("#firstName").val(t.first_name),$("#lastName").val(t.last_name),$("#email").val(t.email),$("#phoneNum").val(t.phone?t.region_code+t.phone:""),$("#editPhoto").css("background-image",'url("'+t.image_url+'")'),$("#editProfileModal").modal("show"),Lang.setLocale($(".userCurrentLanguage").val());var a=document.querySelector("#phoneNum"),n=document.querySelector("#errorMsg"),i=document.querySelector("#validMsg"),r=[Lang.get("messages.common.invalid_number"),Lang.get("messages.common.invalid_country_code"),Lang.get("messages.common.too_short"),Lang.get("messages.common.too_long"),Lang.get("messages.common.invalid_number")];$(".isEdit").val()?$(".country-iso").val():defaultCountryCodeValue;var s=window.intlTelInput(a,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var a=t&&t.country?t.country:"";e(a)}))},utilsScript:$(".utilsScript").val()}),o=function(){a.classList.remove("error"),n.innerHTML="",n.classList.add("d-none"),i.classList.add("d-none")};a.addEventListener("blur",(function(){if(o(),a.value.trim())if(s.isValidNumber())i.classList.remove("d-none");else{a.classList.add("error");var e=s.getValidationError();n.innerHTML=r[e],n.classList.remove("d-none")}})),a.addEventListener("change",o),a.addEventListener("keyup",o);var d=$(".phoneNo").val();if(void 0!==d&&""!==d&&setTimeout((function(){$("#phoneNum").trigger("change")}),500),listen("blur keyup change countrychange",(function(){void 0!==d&&""!==d&&(s.setNumber("+"+d),d="");var e=s.selectedCountryData.dialCode;$(".prefix-code").val(e)})),$(".isEdit").val()){var l=s.selectedCountryData.dialCode,c=s.selectedCountryData.iso2;$(".prefix-code").val(l),$(".country-iso").val(c)}$("#phoneNum").focus(),$("#phoneNum").blur();var u=$("#phoneNum").val().replace(/\s/g,"");$("#phoneNum").val(u)}}})},window.displayProfilePhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(n.readAsDataURL(e.files[0]),$(t).show())}},listenSubmit("#changePasswordForm",(function(e){if(e.preventDefault(),t=$("#pfCurrentPassword").val().trim(),a=$("#pfNewPassword").val().trim(),n=$("#pfNewConfirmPassword").val().trim(),!(""!=t&&""!=a&&""!=n||($("#editPasswordValidationErrorsBox").show().html(Lang.get("messages.new_change.all_required_fields")),0)))return!1;var t,a,n,i=jQuery(this).find("#btnPrPasswordEditSave");i.button("loading"),$.ajax({url:$(".changePasswordUrl").val(),type:"post",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(e){e.success&&($("#changePasswordModal").modal("hide"),displaySuccessMessage(e.message))},error:function(e){manageAjaxErrors(e)},complete:function(){i.button("reset")}})})),listenSubmit("#editProfileForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnPrEditSave");t.button("loading"),$.ajax({url:$(".profileUpdateUrl").val(),type:"post",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),$("#editProfileModal").modal("hide"),setTimeout((function(){location.reload()}),2e3)},error:function(e){manageAjaxErrors(e,"editProfileValidationErrorsBox")},complete:function(){t.button("reset")}})})),listenSubmit("#changeLanguageForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnLanguageChange");t.button("loading"),$.ajax({url:$(".updateLanguageURL").val(),type:"post",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),2e3)},error:function(e){manageAjaxErrors(e,"editProfileValidationErrorsBox")},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#editProfileModal",(function(){resetModalForm("#editProfileForm","#editProfileValidationErrorsBox"),$("#change-btn").show()})),listenClick(".editProfile",(function(e){$(e.currentTarget).attr("data-id"),renderProfileData()})),listenChange("#profileImage",(function(){var e=$(this).val().split(".").pop().toLowerCase();-1==$.inArray(e,["gif","png","jpg","jpeg"])?($(this).val(""),$("#editProfileValidationErrorsBox").html(Lang.get("messages.new_change.image_must_be")).show()):displayProfilePhoto(this,"#editPhoto"),$("#change-btn").hide()})),listenClick(".changeType",(function(e){var t=$(this).parent().siblings();"password"==t.attr("type")?($(this).children().addClass("icon-eye"),$(this).children().removeClass("icon-ban"),t.attr("type","text")):($(this).children().removeClass("icon-eye"),$(this).children().addClass("icon-ban"),t.attr("type","password"))})),listenHiddenBsModal("#changePasswordModal",(function(){resetModalForm("#changePasswordForm","#editPasswordValidationErrorsBox")})),listenHiddenBsModal("#changeLanguageModal",(function(){$("#language").val($(".userCurrentLanguage").val()).trigger("change.select2")})),listenClick(".remove-profile-image",(function(){defaultImagePreview("#editPhoto",1)})),(()=>{"use strict";listenClick(".delete-birth-report-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".birthReportUrl").val()+"/"+t,"#birthReportsTbl",$("#birthReportLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#caseBrId, #birthDoctorId").select2({width:"100%",dropdownParent:$("#addBirthReportModal")}),$("#editBRCaseId, #editBirthDoctorId").select2({width:"100%",dropdownParent:$("#editBirthReportModal")}),$("#birthReportDate, #editBirthReportDate").flatpickr({dateFormat:"Y-m-d h:i K",useCurrent:!0,sideBySide:!0,enableTime:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#addBirthReportModal, #editBirthReportModal").on("shown.bs.modal",(function(){$("#caseBrId, #editCaseId:first").focus()}))})),listenSubmit("#addBirthReportNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnBRSave");t.button("loading"),$("#btnBRSave").attr("disabled",!0),$.ajax({url:$(".birthReportUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addBirthReportModal").modal("hide"),window.livewire.emit("refresh"),$("#btnBRSave").attr("disabled",!1))},error:function(e){printErrorMessage("#brValidationErrorsBox",e),$("#btnBRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".edit-birth-report-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderBirthReportData(t)}})),window.renderBirthReportData=function(e){$.ajax({url:$(".birthReportUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#birthReportId").val(e.data.id),$("#editBRCaseId").val(e.data.case_id).trigger("change.select2"),$("#editBirthDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editDescription").val(e.data.description),document.querySelector("#editBirthReportDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editBirthReportModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editBirthReportForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditBRSave");t.button("loading"),$("#btnEditBRSave").attr("disabled",!0);var a=$("#birthReportId").val();$.ajax({url:$(".birthReportUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editBirthReportModal").modal("hide"),window.livewire.emit("refresh"),$("#btnEditBRSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#btnEditBRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addBirthReportModal",(function(){resetModalForm("#addBirthReportNewForm","#brValidationErrorsBox"),$("#caseBrId, #birthDoctorId").val("").trigger("change.select2"),$("#btnBRSave").attr("disabled",!1)})),listenHiddenBsModal("#editBirthReportModal",(function(){resetModalForm("#editBirthReportForm","#editBRValidationErrorsBox"),$("#btnEditBRSave").attr("disabled",!1)}))})(),listenClick(".delete-operation-reports-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#operationReportUrl").val()+"/"+t,"#operationReportsTable",$("#operationReportLang").val())})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#operationDoctorId, #operationCaseId").select2({width:"100%",dropdownParent:$("#addOperationsReportsModal")}),$("#editOperationDoctorId, #editOperationCaseId").select2({width:"100%",dropdownParent:$("#editOperationsReportsModal")}),$("#operationDate, #editOperationDate").flatpickr({dateFormat:"Y-m-d h:i K",useCurrent:!0,sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),listenHiddenBsModal("#addOperationsReportsModal, #editOperationsReportsModal",(function(){$("#operationCaseId, #editOperationCaseId:first").focus()}))})),listenSubmit("#addOperationReportForm",(function(e){e.preventDefault();var t=jQuery(this).find("#operationReportSave");t.button("loading"),$("#operationReportSave").attr("disabled",!0),$.ajax({url:$("#operationReportCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addOperationsReportsModal").modal("hide"),window.livewire.emit("refresh"),$("#operationReportSave").attr("disabled",!1))},error:function(e){printErrorMessage("#orValidationErrorsBox",e),$("#operationReportSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".edit-operation-reports-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderOperationReportData(t)}})),window.renderOperationReportData=function(e){$.ajax({url:$("#operationReportUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#operationReportId").val(e.data.id),$("#editOperationCaseId").val(e.data.case_id).trigger("change.select2"),$("#editOperationDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editOperationDescription").val(e.data.description),document.querySelector("#editOperationDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editOperationsReportsModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editOperationReportsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editOperationSave");t.button("loading"),$("#editOperationSave").attr("disabled",!0);var a=$("#operationReportId").val();$.ajax({url:$("#operationReportUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editOperationsReportsModal").modal("hide"),window.livewire.emit("refresh"),$("#editOperationSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editOperationSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addOperationsReportsModal",(function(){resetModalForm("#addOperationReportForm","#orValidationErrorsBox"),$("#operationReportSave").attr("disabled",!1),$("#operationCaseId, #operationDoctorId").val("").trigger("change.select2")})),listenHiddenBsModal("#editOperationsReportsModal",(function(){resetModalForm("#editOperationReportsForm","#editOperationErrorsBox"),$("#editOperationSave").attr("disabled",!1)}))})(),document.addEventListener("turbo:load",(function(){listenClick("#employeePayrollResetFilter",(function(){$("#employee_payroll_filter_status").val(0).trigger("change"),hideDropdownManually($("#employeePayroll"),$(".dropdown-menu"))}))})),listenChange("#employee_payroll_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick(".employee-payroll-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#employeePayrollURL").val()+"/"+t,"#employeePayrollsTable",$("#employeePayrollLang").val())})),listenClick(".employee-payroll-show-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderEmployeePayrollsData(t)})),window.renderEmployeePayrollsData=function(e){$.ajax({url:$("#employeePayrollShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#employee_payroll_sr_no").text(e.data.sr_no),$("#payroll_id").text(e.data.payroll_id),$("#payroll_role").text(e.data.type_string),$("#employee_full_name").text(e.data.full_name),$("#payroll_month").text(e.data.month),$("#payroll_year").text(e.data.year),$("#employee_payroll_salary").text(addCommas(e.data.basic_salary)),$("#employee_payroll_allowance").text(addCommas(e.data.allowance)),$("#employee_payroll_deductions").text(addCommas(e.data.deductions)),$("#employee_payroll_net_salary").text(addCommas(e.data.net_salary)),$("#employee_payroll_status").empty(),1==e.data.status?$("#employee_payroll_status").append('<span class="badge bg-light-success">'+Lang.get("messages.invoice.paid")+"</span>"):$("#employee_payroll_status").append('<span class="badge bg-light-danger">'+Lang.get("messages.employee_payroll.unpaid")+"</span>"),$("#employee_payroll_created_on").text(moment(e.data.created_at).fromNow()),$("#employee_payroll_updated_on").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showEmployeePayrolls").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){$(".employeePayrollType,.EmployeePayrollOwnerType,.EmployeePayrollMonth,.EmployeePayrollStatus").select2({width:"100%"}),$(".price-input").trigger("input"),$("#employeePayrollType").focus()})),listenChange(".EmployeePayrollBasicSalary,.EmployeePayrollAllowance,.EmployeePayrollDeductions",(function(){var e=parseFloat(removeCommas($(".EmployeePayrollBasicSalary").val())),t=parseFloat(removeCommas($(".EmployeePayrollAllowance").val())),a=parseFloat(removeCommas($(".EmployeePayrollDeductions").val())),n=e+t-a;a>n&&($("#validationErrorsBox").removeClass("d-none"),$("#validationErrorsBox").text(Lang.get("messages.new_change.deduction_not_greater_than_salary")).show(),$(".EmployeePayrollDeductions").val(null),a=0,setTimeout((function(){$("#validationErrorsBox").addClass("d-none"),$("#validationErrorsBox").text("")}),7e3)),isNaN(n)?$(".employeePayrollNetSalary").val(0):$(".employeePayrollNetSalary").val(n).trigger("input")})),listenChange(".employeePayrollType",(function(){""!==$(this).val()&&$.ajax({url:$(".employeeURL").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!=e.data.length?($(".EmployeePayrollOwnerType").empty(),$(".EmployeePayrollOwnerType").removeAttr("disabled"),$.each(e.data,(function(e,t){$(".EmployeePayrollOwnerType").append($("<option></option>").attr("value",e).text(t))}))):$(".EmployeePayrollOwnerType").trigger("change"),$(".isEdit").val()&&($(".EmployeePayrollOwnerType").val($("#employeeOwnerId").val()).trigger("change"),$(".isEdit").val(!1))}}),$(".EmployeePayrollOwnerType").empty(),$(".EmployeePayrollOwnerType").prepend('<option value="0">'+Lang.get("messages.employee_payroll.select_employee")+"</option>"),$(".EmployeePayrollOwnerType").prop("disabled",!0)})),listenSubmit("#createEmployeePayroll, #editEmployeePayroll",(function(){$(".btnSave").attr("disabled",!0)})),document.addEventListener("turbo:load",(function(){setTimeout((function(){$("#editEmployeePayrollType").trigger("change")}),1e3)})),listenClick(".delete-patient-case-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPatientCaseUrl").val()+"/"+t,"#casesTbl",$("#patientCaseLang").val())})),listenChange("#caseHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#caseResetFilter",(function(){$("#caseHead").val(0).trigger("change"),hideDropdownManually($("#caseFilterBtn"),$(".dropdown-menu"))})),listenChange(".patientCaseStatus",(function(e){var t=$(e.currentTarget).attr("data-id");caseActiveDeActiveStatus(t)})),window.caseActiveDeActiveStatus=function(e){$.ajax({url:$("#indexPatientCaseUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenClick(".show-patient-case-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderPatientCaseData(t)})),window.renderPatientCaseData=function(e){$.ajax({url:$("#patientCaseShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#case_id").text(e.data.case_id),$("#patient_name").text(e.data.patient.patient_user.full_name),$("#patient_phone").text(e.data.phone),$("#patient_doctor").text(e.data.doctor.doctor_user.full_name),$("#case_date").text(moment(e.data.date).format("Do MMM, Y h:mm A")),$("#case_fee").text($("#currentCurrency").val()+" "+addCommas(e.data.fee)),$("#description").text(e.data.description),$("#patientStatus").empty(),1==e.data.status?$("#patientStatus").append('<span class="badge bg-light-success">'.concat(Lang.get("messages.filter.active"),"</span>")):$("#patientStatus").append('<span class="badge bg-light-danger">'.concat(Lang.get("messages.filter.deactive"),"</span>")),$("#created_on").text(moment(e.data.created_at).fromNow()),$("#updated_on").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPatientCase").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},(()=>{function e(e,t){var a=t.reduce((function(t,a){return t+function(e,t){var a=JSON.parse($(".associateServices").val()).reduce((function(e,a){return selected=a.key==t.service_id?"selected":"",e+'<option value="'.concat(a.key,'" ').concat(selected,">").concat(a.value,"</option>")}),"");return'\n    <tr>\n        <td class="table__item-desc">\n            <select class="form-select serviceId form-select-solid" name="session['.concat(e,'][service_id][]" placeholder="<?php echo __(\'messages.package.select_service\'); ?>" id="enquiry-medicine-id_{{:uniqueId}}" data-id="{{:uniqueId}}" required>\n                <option value="0">Select Service</option>\n                 ').concat(a,'\n            </select>\n        </td>\n        <td class="table__qty">\n           <input class="form-control price-input packages-price" required="" value="').concat(t.rate,'" name="session[').concat(e,'][rate][]" type="text">\n</td>\n        <td>\n          <input class="form-control packages-qty" required="" value="').concat(t.quantity,'" name="session[').concat(e,'][quantity][]" type="number">\n    </td>\n        <td class="amount text-right item-total">\n        ').concat(t.amount,'\n        </td>\n        <td class="text-center">\n            <a href="#" title="Delete" class="delete-btn delete-service-package-item pointer btn px-2 text-danger fs-3 ps-0">\n                <i class="fa-solid fa-trash"></i>\n            </a>\n        </td>\n    </tr>')}(e,a)}),"");return'<div class="accordion-item session-'.concat(e,'">\n    <h2 class="accordion-header" id="heading-').concat(e,'">\n        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-').concat(e,'" aria-expanded="true" aria-controls="collapse-').concat(e,'">\n            Session\n        </button>\n    </h2>\n    <div id="collapse-').concat(e,'" class="accordion-collapse collapse" aria-labelledby="heading-').concat(e,'" data-bs-parent="#accordionSession">\n   <div class="accordion-body">\n   <div class="row mb-3">\n                <div class="col-md-6">\n                    <div class="form-group col-6">\n                        <label>\n                            Session Date\n                        </label>\n                        <input class="form-control session-time" name="session[').concat(e,'][session_date]">\n                    </div>\n                </div>\n                <div class="col-md-6 d-flex justify-content-end align-items-center">\n                    <button type="button" data-id="').concat(e,'" class="btn btn-danger btn-sm  me-2 remove-session">\n                        <i class="fa-solid fa-trash"></i> Remove Session\n                    </button>\n                    <button type="button" class="btn btn-sm btn-primary session-add-package" data-id="').concat(e,'">Add</button>\n                </div>\n\n            </div>\n            <div class="table-responsive-sm">\n                <table class="table table-striped">\n                <thead class="thead-dark">\n                       <tr class="fw-bold fs-6 text-muted">\n                          <th class="form-label fw-bolder text-gray-700 mb-3"><span class="required">Service</span></th>\n                            <th class="form-label fw-bolder text-gray-700 mb-3"><span class="required">Rate</span></th>\n    <th class="form-label fw-bolder text-gray-700 mb-3"><span class="required">QTY</span></th>\n <th class="text-right form-label fw-bolder text-gray-700 mb-3">Amount</th>\n   <th class="table__add-btn-heading text-center form-label fw-bolder text-gray-700 mb-3"></th>\n                        </tr>\n                    </thead>\n                    <tbody class="package-service-item-container-').concat(e,'">\n                        ').concat(a,"\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>")}document.addEventListener("turbo:load",(function(){if(!$("#createPatientCaseForm").length&&!$("#editPatientCaseForm").length)return;var t={},a=-1;function n(){var e=0,t=parseFloat(""!==$(".package-discount").val()?$(".package-discount").val():0);$(".item-total").each((function(t,a){var n=$(a).text();n=removeCommas(n),n=isEmpty(n.trim())?0:parseInt(n),e+=n})),e=parseFloat(e),e-=e*t/100,$("#packagesTotal").text(addCommas(e.toFixed(2))),$("[name=fee]").val(e)}$("#casePatientId").select2({width:"100%",templateResult:function(e){if(e.loading)return e.text;var a=t.term||"";return function(e,t){var a=e.toUpperCase().indexOf(t.toUpperCase()),n=$("<span></span>");if(a<0)return n.text(e);n.text(e.substring(0,a));var i=$('<span style="text-decoration: underline;"></span>');return i.text(e.substring(a,a+t.length)),n.append(i),n.append(e.substring(a+t.length)),n}(e.text,a)},language:{searching:function(e){return t=e,"Searching"}},ajax:{delay:250,url:$(".searchPatient").val(),dataType:"json",minimumInputLength:3}}),$("#caseDoctorId").select2({width:"100%"}),

      // Changes are made from here ---->>


      $("#caseDate").flatpickr({
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        minDate: "today",
        locale: $(".userCurrentLanguage").val()
    });


      $("#caseStartDate").flatpickr({
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        minDate: new Date(),
        locale: $(".userCurrentLanguage").val()
      });


      $('.session-duration').on('change',function(){
        const selectedDuration= parseInt($(this).val());
        const selectedDate = $('#caseStartDate').val();

          $('.session-time').prop("readonly", false);
          var selectedSingleDate = new Date(selectedDate);

          $('.session-time').each(function(index) {
            var dateForSession = moment(selectedSingleDate).add(index * selectedDuration, 'days').format('YYYY-MM-DD HH:MM');

            $(this).val(dateForSession);
          });
      });

      //<------ Changes are made till here


      $("#casePatientId").focus(),$(".price-input").trigger("input"),listenChange("#packageId",(function(){var t=$(this).val();t?$.get("".concat($(".packageSession").val(),"/").concat(t,"/session"),(function(t){$(".session").show();var i=t.data;a=i.session.length;$(".session-length").val(a);var r=i.session.reduce((function(t,a,n){return t+e(n,a)}),"");$("#accordionSession").html(r),$(".session-time").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",minDate:new Date,locale:$(".userCurrentLanguage").val()}),n()})):$("#accordionSession").html("")})),listenChange(".package-discount",(function(){n()})),

      listenClick("#addCaseSession",(function()
      {
        var t=e(a,[{amount:0,quantity:0,rate:0,service_id:0}]);
        a++,

      $("#accordionSession").append(t),

      $(".session-time").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()})

      if($(".session-time").length>1)
        {

          const selectedDuration= parseInt($('.session-duration').val());
          const selectedDate = $('#caseStartDate').val();

            $('.session-time').prop("readonly", false);
            var selectedSingleDate = new Date(selectedDate);

            $('.session-time').each(function(index) {
              var dateForSession = moment(selectedSingleDate).add(index * selectedDuration, 'days').format('YYYY-MM-DD HH:MM');

              $(this).val(dateForSession);
            });
        }
        else
        {
          $(".session-time").val($('#caseStartDate').val())
        }

    }))})),

      listenSubmit("#createPatientCaseForm, #editPatientCaseForm",(function(){if($("#saveCaseBtn").attr("disabled",!0),""!==$(".error-msg").text())return $(".phoneNumber").focus(),$("#saveCaseBtn").attr("disabled",!1),!1}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#currencyType").select2({width:"100%"}),listenChange("#appLogo , #favicon",(function(){$("#generalValidationErrorsBox").addClass("d-none"),isValidLogo($(this),"#generalValidationErrorsBox")&&displayLogo(this,"#logoPreviewImage")})),listenKeyup("#generalFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#generalTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#generalInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#generalLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listen("change","#sidebarFilterStatus",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),window.isValidLogo=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html(Lang.get("messages.new_change.image_must_be")).show().delay(5e3).slideUp(300),!1):($(t).hide(),!0)},window.displayLogo=function(e,t){var a=!0;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){if(60!=n.height&&90!=n.width)return $(t).val(""),$("#generalValidationErrorsBox").removeClass("d-none"),$("#generalValidationErrorsBox").html($(".settingImageValidation").val()).show(),!1;$(t).attr("src",e.target.result),a=!0}},a&&(n.readAsDataURL(e.files[0]),$(t).show())}},listenClick("#resetSidebarFilter",(function(){$("#sidebarFilterStatus").val(0).trigger("change"),hideDropdownManually($("#sidebarDropdownbtn"),$(".dropdown-menu"))}))})),listen("change",".sidebar-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateSidebarSettingStatus(t)})),window.updateSidebarSettingStatus=function(e){$.ajax({url:$("#moduleURL").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(setTimeout((function(){window.location.reload()}),5e3),displaySuccessMessage(e.message),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenSubmit("#createHospitalSetting",(function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),!1;var e=$("#generalFacebookUrl").val(),t=$("#generalTwitterUrl").val(),a=$("#generalInstagramUrl").val(),n=$("#generalLinkedInUrl").val(),i=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return""!=e&&!e.match(i)?(displayErrorMessage(Lang.get("messages.common.please_enter_valid_facebook_url")),!1):""!=t&&!t.match(r)?(displayErrorMessage(Lang.get("messages.common.please_enter_valid_twitter_url")),!1):""!=a&&!a.match(s)?(displayErrorMessage(Lang.get("messages.common.please_enter_valid_Instagram_url")),!1):""==n||!!n.match(o)?void 0:(displayErrorMessage(Lang.get("messages.common.please_enter_valid_Instagram_url")),!1)}))})(),document.addEventListener("turbo:load",(function(){$("#stripeEnable").is(":checked")?$(".stripe-div").removeClass("d-none"):$(".stripe-div").addClass("d-none"),$("#paypalEnable").is(":checked")?$(".paypal-div").removeClass("d-none"):$(".paypal-div").addClass("d-none"),$("#razorpayEnable").is(":checked")?$(".razorpay-div").removeClass("d-none"):$(".razorpay-div").addClass("d-none"),$("#paytmEnable").is(":checked")?$(".paytm-div").removeClass("d-none"):$(".paytm-div").addClass("d-none"),$("#paystackEnable").is(":checked")?$(".paystack-div").removeClass("d-none"):$(".paystack-div").addClass("d-none")})),listen("change","#stripeEnable",(function(){$("#stripeEnable").is(":checked")?$(".stripe-div").removeClass("d-none"):$(".stripe-div").addClass("d-none")})),listen("change","#paypalEnable",(function(){$("#paypalEnable").is(":checked")?$(".paypal-div").removeClass("d-none"):$(".paypal-div").addClass("d-none")})),listen("change","#razorpayEnable",(function(){$("#razorpayEnable").is(":checked")?$(".razorpay-div").removeClass("d-none"):$(".razorpay-div").addClass("d-none")})),listen("change","#paytmEnable",(function(){$("#paytmEnable").is(":checked")?$(".paytm-div").removeClass("d-none"):$(".paytm-div").addClass("d-none")})),listen("change","#paystackEnable",(function(){$("#paystackEnable").is(":checked")?$(".paystack-div").removeClass("d-none"):$(".paystack-div").addClass("d-none")})),listenSubmit("#UserCredentialsSettings",(function(e){e.preventDefault();var t=$("#stripeEnable").is(":checked"),a=$("#paypalEnable").is(":checked"),n=$("#razorpayEnable").is(":checked"),i=$("#paytmEnable").is(":checked"),r=$("#paystackEnable").is(":checked");return t&&""==$("#stripeKey").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.stripe_key")),!1):t&&""==$("#stripeSecret").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.stripe_secret")),!1):a&&""==$("#paypalKey").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paypal_client_id")),!1):a&&""==$("#paypalSecret").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paypal_secret")),!1):a&&""==$("#paypalMode").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paypal_mode")),!1):n&&""==$("#razorpayKey").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.razorpay_key")),!1):n&&""==$("#razorpaySecret").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.razor_pay_secret")),!1):i&&""==$("#paytmMerchantId").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paytm_id")),!1):i&&""==$("#paytmMerchantKey").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paytm_key")),!1):r&&""==$("#paystackPublicKey").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paystack_key")),!1):r&&""==$("#paystackSecretKey").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paystack_secret")),!1):void $("#UserCredentialsSettings")[0].submit()})),document.addEventListener("turbo:load",(function(){if($("#captchaEnableAdmin").is(":checked")?$(".captcha-div").removeClass("d-none"):$(".captcha-div").addClass("d-none"),void 0!==$("#footerSettingPhoneNumber").val()&&""!==$("#footerSettingPhoneNumber").val()&&$(".phoneNumber").trigger("blur"),$("#defaultCountryCode").length){var e=document.querySelector("#defaultCountryData"),t=window.intlTelInput(e,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var a=t&&t.country?t.country:"";e(a)}))},utilsScript:"../../public/assets/js/inttel/js/utils.min.js"}),a=t.selectedCountryData.name+"+"+t.selectedCountryData.dialCode;$("#defaultCountryData").val(a)}$("#defaultLanguage").select2({width:"100%"}),$("#footerSettingPhoneNumber").length})),listenChange("#appLogo",(function(){$("#validationErrorsBox").addClass("d-none"),isValidLogo($(this),"#validationErrorsBox")&&displayLogo(this,"#previewImage")})),listenSubmit("#createSetting",(function(e){e.preventDefault();var t=$("#captchaEnableAdmin").is(":checked");return t&&""==$("#captchaKey").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.captcha_key")),!1):t&&""==$("#captchaSecret").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.captcha_secret")),!1):($("#createSetting")[0].submit(),!0)})),listenSubmit("#adminPaymentForm",(function(e){return e.preventDefault(),""!=$("#StripeAdminKey").val().trim()&&""==$("#StripeAdminSecret").val().trim()||""==$("#StripeAdminKey").val().trim()&&""!=$("#StripeAdminSecret").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.stripe_secret")),!1):""==$("#paypalKeyAdmin").val().trim()&&""!=$("#paypalSecretAdmin").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paypal_client_id")),!1):""!=$("#paypalSecretAdmin").val().trim()&&""==$("#paypalSecretAdmin").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paypal_secret")),!1):""==$("#paypalModeAdmin").val().trim()&&""!=$("#paypalSecretAdmin").val().trim()&&""!=$("#paypalSecretAdmin").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.paypal_mode")),!1):""!=$("#razorpayKeyAdmin").val().trim()&&""==$("#razorpaySecretAdmin").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.razor_pay_secret")),!1):""!=$("#razorpaySecretAdmin").val().trim()&&""==$("#razorpayKeyAdmin").val().trim()?(displayErrorMessage(Lang.get("messages.new_change.razorpay_key")),!1):($("#adminPaymentForm")[0].submit(),!0)})),window.isValidLogo=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html(Lang.get("messages.new_change.image_must_be")).show(),!1):($(t).hide(),!0)},window.displayLogo=function(e,t){var a=!0;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(n.readAsDataURL(e.files[0]),$(t).show())}},listenClick(".iti__standard",(function(){$("#defaultCountryData").val($(this).text()),$(this).attr("data-country-code"),$("#defaultCountryCode").val($(this).attr("data-country-code"))})),listenClick("#resetFilter",(function(){$("#filter_status").val("2").trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")})),listenSubmit("#superAdminFooterSettingForm",(function(e){if(e.preventDefault(),""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;var t=$("#facebookUrl").val(),a=$("#twitterUrl").val(),n=$("#instagramUrl").val(),i=$("#linkedInUrl").val(),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),d=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return""==t||t.match(r)?""==a||a.match(s)?""!=n&&!n.match(o)||""!=i&&!i.match(d)?(displayErrorMessage(Lang.get("messages.common.please_enter_valid_Instagram_url")),!1):($("#superAdminFooterSettingForm")[0].submit(),!0):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_twitter_url")),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_facebook_url")),!1)})),listenClick(".iti__standard,.iti__preferred",(function(){$("#defaultCountryData").val($(this).text()),$("#defaultCountryCode").val($(this).attr("data-country-code"))})),listen("change","#captchaEnableAdmin",(function(){$("#captchaEnableAdmin").is(":checked")?$(".captcha-div").removeClass("d-none"):$(".captcha-div").addClass("d-none")})),(()=>{"use strict";listenClick(".doctor-department-delete-btn",(function(e){var t=e.currentTarget.dataset.id;deleteItem($("#indexDoctorDepartmentUrl").val()+"/"+t,"#doctorsDepartmentsTable",$("#doctorDepartmentLang").val())})),listenSubmit("#addDoctorDepartmentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#doctorDepartmentSave");t.button("loading"),$.ajax({url:$("#indexDoctorDepartmentCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_doctor_departments_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#doctorDepartmentErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".doctor-department-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=e.currentTarget.dataset.id;t=a,$.ajax({url:$("#indexDoctorDepartmentUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#doctorDepartmentId").val(e.data.id),$("#editDoctorDepartmentTitle").val(e.data.title),$("#editDoctorDepartmentDescription").val(e.data.description),$("#edit_doctor_departments_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editDoctorDepartmentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDoctorDepartmentSave");t.button("loading");var a=$("#doctorDepartmentId").val();$.ajax({url:$("#indexDoctorDepartmentUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_doctor_departments_modal").modal("hide"),$("#showDoctorDepartmentUrl").length?window.location.href=$("#showDoctorDepartmentUrl").val():livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_doctor_departments_modal",(function(){resetModalForm("#addDoctorDepartmentForm","#doctorDepartmentErrorsBox")})),listenHiddenBsModal("#edit_doctor_departments_modal",(function(){resetModalForm("#editDoctorDepartmentForm","#editDoctorDepartmentErrorsBox")}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){listenClick("#resetInReportFilter",(function(){$("#filterInReportStatus").val(2).trigger("change"),hideDropdownManually($("#investigationReportMenuButton"),$(".dropdown-menu"))})),listenChange("#filterInReportStatus",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick(".delete-in-report-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexInvestigationReportUrl").val()+"/"+t,"#investigationReportTable",$("#investigationReportLang").val())}))}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#date").flatpickr({format:"YYYY-MM-DD HH:mm:ss",useCurrent:!0,sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),$(".patient-in-report-id,.doctor-in-report-id,.status-in-report").select2({width:"100%"}),$("#createInvestigationForm, #editInvestigationForm").find("input:text:visible:first").focus()})),listenChange("#investigationAttachment",(function(){var e=isValidAttachmentDocument($(this),"#validationErrorsBox");isEmpty(e)||0==e||($("#validationErrorsBox").html("").hide(),"pdf"===e?$("#previewImage").css("background-image","url("+$("#pdfDocumentImageUrl").val()+")"):"doc"===e&&$("#previewImage").css("background-image","url("+$("#docxDocumentImageUrl").val()+")"))})),window.isValidAttachmentDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("messages.new_change.document_must_be_file_type")).show(),a},listenClick(".remove-image",(function(){defaultImagePreview("#previewImage")}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#addAccountForm").length&&!$("#editAccountForm").length)return!1})),listenChange(".account-status",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$(".indexAccountUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))}})})),listenSubmit("#addAccountForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnAccountSave");t.button("loading");var a={formSelector:$(this),url:$("#indexAccountCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_accounts_modal")})),listenSubmit("#editAccountForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editAccountSave");t.button("loading");var a=$("#accountId").val(),n=$("#indexAccountUrl").val()+"/"+ +a,i={formSelector:$(this),url:n,type:"PUT"};$("#accountShowUrl").length?(editRecordWithForm(i,t,"#edit_accounts_modal"),window.location.href=$("#accountShowUrl").val()):editRecordWithForm(i,t,"#edit_accounts_modal")})),listen("click",".account-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexAccountUrl").val()+"/"+ +t+"/edit",type:"GET",success:function(e){e.success&&($("#accountId").val(e.data.id),$("#editName").val(e.data.name),$("#editDescription").val(e.data.description),e.data.status&&$("#editIsActive").val(1).prop("checked",!0),1==e.data.type?$("#editDebit").prop("checked",!0):$("#editCredit").prop("checked",!0),$("#edit_accounts_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".account-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexAccountUrl").val()+"/"+ +t,"",$("#account").val())})),listenChange("#account_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange("#account_filter_type",(function(){window.livewire.emit("changeTypeFilter","account_filter_type",$(this).val())})),listen("click","#accountResetFilter",(function(){$("#account_filter_status, #account_filter_type").val(0).trigger("change"),hideDropdownManually($("#accountFilterBtn"),$(".dropdown-menu"))})),listenHiddenBsModal("#add_accounts_modal",(function(){resetModalForm("#addAccountForm","#validationErrorsBox")})),listenHiddenBsModal("#edit_accounts_modal",(function(){resetModalForm("#editAccountForm","#editValidationErrorsBox")}))})(),listenClick(".insurances-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexInsuranceUrl").val()+"/"+t,"#insurancesTbl",$("#insuranceLang").val())})),listenChange(".insuranceStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateInsuranceStatus(t)})),listenClick("#insuranceResetFilter",(function(){$("#filter_status").val(2).trigger("change")})),window.updateInsuranceStatus=function(e){$.ajax({url:$("#indexInsuranceUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenChange("#insurancesFilterStatus",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#insuranceResetFilter",(function(){$("#insurancesFilterStatus").val(0).trigger("change"),hideDropdownManually($("#insuranceFilterBtn"),$(".dropdown-menu"))})),(()=>{document.addEventListener("turbo:load",(function(){$(".price-input").trigger("input"),$(".insuranceDiscount").val()<0&&$(".discount").val(0);$(".addInsuranceItem").val()<0&&$(".discount").val(0);$("#insuranceDiscountId").blur((function(){0==$("#insuranceDiscountId").val().length&&$("#insuranceDiscountId").val(0)})),$(".insuranceForm").find("input:text:visible:first").focus(),window.isInsuranceNumberKey=function(e,t){var a=e.which?e.which:event.keyCode;return!((46!==a||-1!==$(t).val().indexOf("."))&&(a<48||a>57))},listenChange(".service-tax, .discount, .hospital-rate, .disease-charge",(function(){calculateAndSetInsuranceAmount()})),window.calculateAndSetInsuranceAmount=function(){var e=0,t=parseInt(""!==$(".service-tax").val()?removeCommas($(".service-tax").val()):0),a=parseInt(""!==$(".hospital-rate").val()?removeCommas($(".hospital-rate").val()):0),n=parseFloat($(".discount").val());e=t+a,$(".disease-item-container>tr").each((function(){var t=parseInt(""!=$(this).find(".disease-charge").val()?removeCommas($(this).find(".disease-charge").val()):0);e+=t})),e-=e*n/100,$("#insuranceTotal").text(addCommas(e.toFixed(2))),$("#insuranceTotal_amount").val(e)}})),listenSubmit("#insuranceForm",(function(e){e.preventDefault(),$("#insuranceSaveBtn").attr("disabled",!0),jQuery(this).find("#insuranceSaveBtn").button("loading");var t=new FormData($(this)[0]);$.ajax({url:$(".insuranceSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".insuranceUrl").val(),$("#insuranceSaveBtn").attr("disabled",!1)},error:function(e){printErrorMessage("#insuranceValidationErrorsBox",e),$("#insuranceSaveBtn").attr("disabled",!1)}})}));var e=$(".insuranceUniqueId").val();function t(){var e=1;$(".disease-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0&&($("#insuranceTotal").text("0"),$("#insuranceBillTbl tbody").append('<tr><td class="text-center item-number">1</td><td><input class="form-control disease-name" required name="disease_name[]" type="text"></td><td><input class="form-control disease-charge price-input" required name="disease_charge[]" type="text"></td><td class="text-center"><a href="javascript:void(0)" title="{{__(\'messages.common.delete\')}}"  class="delete-disease btn px-1 text-danger fs-3 pe-0">\n                    <i class="fa-solid fa-trash"></i>\n                            </a></td></tr>'))}listenClick("#addInsuranceItem",(function(){var a=prepareTemplateRender("#insuranceDiseaseTemplate",{uniqueId:e});$(".disease-item-container").append(a),e++,t()})),listenClick(".delete-disease",(function(){$(this).parents("tr").remove(),t(),calculateAndSetInsuranceAmount()}))})(),listenClick(".payment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#paymentURL").val()+"/"+t,"#paymentsTbl",$("#paymentLang").val())})),listenClick(".payment-show-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderPaymentData(t)})),window.renderPaymentData=function(e){$.ajax({url:$("#paymentShowURL").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#payment_account").text(e.data.account.name),$("#payment_date").text(moment(e.data.payment_date).format("Mo MMM, YYYY")),$("#payment_pay_to").text(e.data.pay_to),$("#payment_amount").text(e.data.amount),$("#payment_created_on").text(moment(e.data.created_at).fromNow()),$("#payment_updated_on").text(moment(e.data.updated_at).fromNow()),$("#payment_description").text(e.data.description),$("#payment_description").css("overflow-wrap","break-word"),setValueOfEmptySpan(),$("#showPayment").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){$("#filterPaymentAccount").select2({width:"100%"})})),listenChange("#filterPaymentAccount",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#resetPaymentReportFilter",(function(){$("#filterPaymentAccount").val(0).trigger("change"),hideDropdownManually($("#paymentReportFilter"),$(".dropdown-menu"))})),document.addEventListener("turbo:load",(function(){$("#paymentDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("select").focus(),$(".price-input").trigger("input")})),(()=>{"use strict";function e(e){$.ajax({url:$(".hospitalScheduleRoute").val(),type:"POST",data:e,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),1500))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})}listenSubmit("#saveForm",(function(t){t.preventDefault();var a=new FormData($(this)[0]);$.ajax({url:$(".checkRecords").val(),type:"POST",data:$(this).serialize(),cache:!1,success:function(t){e(a)},error:function(t){swal({title:Lang.get("messages.new_change.warning"),text:t.responseJSON.message,icon:"warning",buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(t){t&&e(a)}))}})})),listen("change",'select[name^="startTimes"]',(function(e){var t=$(this)[0].selectedIndex,a=$(this).closest(".weekly-row").find('select[name^="endTimes"] option');a.eq(t+1).prop("selected",!0).trigger("change"),a.each((function(e){e<=t?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))}))})(),document.addEventListener("turbo:load",(function(){listen("click","#resetEmployeeInvoiceFilter",(function(){$("#invoice_status_filter").val(2).trigger("change"),hideDropdownManually($("#invoiceFilterBtn"),$(".dropdown-menu"))}))})),listen("click",".deleteInvoicesBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexInvoiceUrl").val()+"/"+t,"",$("#invoiceLang").val())})),listenChange("#invoice_status_filter",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listen("click",".sendInvoiceBtn",(function(e){e.preventDefault();var t=$(this);t.text(Lang.get("messages.new_change.sending")),t.attr("disabled",!0),$.ajax({url:$("#sendInvoiceRouteId").val(),type:"GET",success:function(e){e.success&&(t.text(Lang.get("messages.invoice.send_mail")),displaySuccessMessage(e.message),setTimeout((function(){t.attr("disabled",!1)}),6e3))},error:function(e){t.attr("disabled",!1),manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),(()=>{document.addEventListener("turbo:load",(function(){if(!$(".invoiceSaveUrl"))return;$('input:text:not([readonly="readonly"])').first().blur(),$("#invoicePatientId").focus(),t(".accountId"),$("#invoice_date").flatpickr({defaultDate:new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#editInvoiceDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),window.isNumberKey=function(e,t){var a=e.which?e.which:event.keyCode;return!((46!==a||-1!==$(t).val().indexOf("."))&&(a<48||a>57))},listenClick(".deleteInvoiceItem",(function(){$(this).parents("tr").remove(),e(),n()})),listenKeyup(".qty",(function(){var e=parseInt($(this).val()),t=$(this).parent().siblings().find(".price").val();t=parseInt(removeCommas(t));var i=a(e,t);$(this).parent().siblings(".amount").text(addCommas(i.toString())),n()})),listenKeyup(".price",(function(){var e=$(this).val();e=parseInt(removeCommas(e));var t=parseInt($(this).parent().siblings().find(".qty").val()),i=a(t,e);$(this).parent().siblings(".amount").text(addCommas(i.toString())),n()}));var a=function(e,t){return e>0&&t>0?e*t:0},n=function(){var e=0;$(".invoice-item-container>tr").each((function(){var t=$(this).find(".item-total").text();t=removeCommas(t),t=isEmpty($.trim(t))?0:parseInt(t),e+=t})),e=parseFloat(e),$("#total").text(addCommas(e.toFixed(2))),$("#total_amount").val(e),i()},i=function(){var e=$("#discount").val(),t=removeCommas($("#total").text());(isEmpty(e)||isEmpty(t))&&(e=0);var a=t*e/100,n=t-a;$("#finalAmount").text(addCommas(n.toFixed(2))),$("#total_amount").val(n.toFixed(2)),$("#discountAmount").text(addCommas(a.toFixed(2)))};listenKeyup("#discount",(function(e){i()}))})),listenSubmit(".invoiceForm",(function(e){e.preventDefault();var t=new FormData($(this)[0]);$.ajax({url:$(".invoiceSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".invoiceUrl").val()+"/"+e.data.id},error:function(e){printErrorMessage("#validationErrorsBox",e)}})})),listenClick("#addInvoiceItem",(function(){var a=$(".uniqueId").val(),n={accounts:JSON.parse($(".invoiceAccounts").val()),uniqueId:a},i=prepareTemplateRender("#invoiceItemTemplate",n);$(".invoice-item-container").append(i),t(".accountId"),a++,e()}));var e=function(){var e=1;if($(".invoice-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0){var a=$(".uniqueId").val(),n={accounts:JSON.parse($(".invoiceAccounts").val()),uniqueId:a},i=prepareTemplateRender("#invoiceItemTemplate",n);$(".invoice-item-container").append(i),t(".accountId"),a++}};function t(e){$(e).select2({placeholder:Lang.get("messages.document.select_account"),width:"100%"})}})(),listenClick(".delete-schedule-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexScheduleUrl").val()+"/"+t,"#schedulesTbl",$("#scheduleLang").val())})),document.addEventListener("turbo:load",(function(){if($(".scheduleForm").length){$("#doctorId, #serialVisibilityId").select2({width:"100%"}),$(".perPatientTime").flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,locale:$(".userCurrentLanguage").val()}),$("#doctorId").first().focus();var e=[],t=[];$.each(JSON.parse($(".hospitalSchedule").val()),(function(a,n){e[a]=parseInt(n.day_of_week),t[n.day_of_week]=[n.start_time,n.end_time]}));var a=0;for($(".perPatientTime").val();a<=7;a++)-1!==$.inArray(a,e)?(e.sort(),$(".cpy-btn"+(e[0]-1)).hide(),$(".hospitalScheduleFrom-"+a).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,minTime:t[a][0],locale:$(".userCurrentLanguage").val()}),hospitalToSchedule=$(".hospitalScheduleTo-"+a).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,locale:$(".userCurrentLanguage").val(),minTime:t[a][0].split(":")[0]+":"+parseInt(t[a][0].split(":")[1])+5,maxTime:t[a][1]})):$(".hospitalScheduleFrom-"+a).parent().parent().hide();listenClick(".copy-btn",(function(e){e.preventDefault();var t,a,i=n($(this).parent().parent()),r=$(e.currentTarget).attr("data-id"),s=r-1,o=$("#availableFrom-".concat(s)).val(),d=$("#availableTo-".concat(s)).val();o=i.find("td .availableFrom").val(),d=i.find("td .availableTo").val(),t=o,$("#availableFrom-".concat(r)).val(o),a=d,$("#availableTo-".concat(r)).val(d);var l=r+1;$(".hospitalScheduleFrom-"+l).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,minTime:t,locale:$(".userCurrentLanguage").val()}),$(".hospitalScheduleTo-"+l).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,maxTime:a,locale:$(".userCurrentLanguage").val()})})),listenSubmit(".editScheduleForm",(function(e){if(e.preventDefault(),"00:00:00"==$(".perPatientTime").val())return $("#scheduleErrorsBox").html("Please select per patient time").show(),$(".perPatientTime").focus(),!1;for(var a=0,n=!0;a<=6;a++)if("00:00:00"!=$("#availableFrom-"+a).val()&&(n=!1,"undefined"!==t[a+1]&&$("#availableFrom-"+a).val()<t[a+1][0]))return $("#availableFrom-"+a).focus(),$("#scheduleErrorsBox").show().html("Available From time must be greater than hospital schedule time").show(),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1;if(n)return $("#scheduleErrorsBox").show().html("Available From time must be greater than Zero"),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1;for(var i=0,r=!0;i<=6;i++)if("00:00:00"!=$("#availableTo-"+i).val()&&(r=!1,"undefined"!==t[i+1]&&$("#availableTo-"+i).val()>t[i+1][1]+":00"))return $("#availableTo-"+i).focus(),$("#scheduleErrorsBox").show().html("Available To time must be less than hospital schedule time").show(),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1;return r?($("#scheduleErrorsBox").show().html("Available To time must be greater than Zero"),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1):void 0}))}function n(e){if(e.prev().length>0)return"none"==e.prev().css("display")?n(e.prev()):e.prev()}})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){listenChange("#servicesFilterStatus",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#servicesResetFilter",(function(){$("#servicesFilterStatus").val(0).trigger("change"),hideDropdownManually($("#servicesFilterBtn"),$(".dropdown-menu"))}))})),listenClick(".services-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showServiceReportUrl").val()+"/"+t,"#servicesReportTable",$("#serviceLang").val())})),listenChange(".service-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateServiceStatus(t)})),window.updateServiceStatus=function(e){$.ajax({url:$("#showServiceReportUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#status").select2({width:"100%"}),$(".price-input").trigger("input"),$(window).on("beforeunload",(function(){$("input[type=submit]").prop("disabled","disabled")})),$("#createServiceForm, #editServiceForm").find("input:text:visible:first").focus(),listenSubmit("#createServiceForm",(function(){$("#servicesBtnSave").attr("disabled",!0)})),listenSubmit("#editServiceForm",(function(){$("#editServicesBtnSave").attr("disabled",!0)}))}))})(),(()=>{"use strict";listenClick(".packages-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".packageReportUrl").val()+"/"+t,"#packagesReportTable",$("#packageLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){var a=function(e){$(e).select2({placeholder:Lang.get("messages.package.select_service"),width:"100%"})};$("#packageForm").find("input:text:visible:first").focus(),a(".serviceId"),listenClick(".delete-service-package-item",(function(e){e.preventDefault(),$(this).parents("tr").remove(),t(),r()})),listenClick("#addSession",(function(e){var t=prepareTemplateRender("#packageSessionTemplate",{id:session});session++,$("#accordionSession").append(t)})),listenClick(".remove-session",(function(e){$(".session-".concat($(this).data("id"))).remove(),r()})),listenClick(".session-add-package",(function(t){var n=$(this).data("id"),i={services:JSON.parse($(".associateServices").val()),uniqueId:e,id:n},r=prepareTemplateRender("#packageServiceTemplate",i);$(".package-service-item-container-".concat(n)).append(r),a(".serviceId")}));var n=function(e){return e.replace(/,/g,"")};window.isNumberKey=function(e,t){var a=e.which?e.which:event.keyCode;return!((46!==a||-1!==$(t).val().indexOf("."))&&(a<48||a>57))},listenKeyup(".packages-qty",(function(){var e=parseInt($(this).val()),t=$(this).parent().siblings().find(".packages-price").val();t=parseInt(n(t));var a=i(e,t);$(this).parent().siblings(".amount").text(addCommas(a.toString())),r()})),listenKeyup(".packages-price",(function(){var e=$(this).val();e=parseInt(n(e));var t=parseInt($(this).parent().siblings().find(".packages-qty").val()),a=i(t,e);$(this).parent().siblings(".amount").text(addCommas(a.toString())),r()})),listenKeyup(".package-discount",(function(){r()}));var i=function(e,t){return e>0&&t>0?e*t:0},r=function(){var e=0,t=parseFloat(""!==$(".package-discount").val()?$(".package-discount").val():0);$(".item-total").each((function(t,a){var i=$(a).text();i=n(i),i=isEmpty(i.trim())?0:parseInt(i),e+=i})),e=parseFloat(e),e-=e*t/100,$("#packagesTotal").text(addCommas(e.toFixed(2))),$("#packagesTotalAmount").val(e)}}));var e=$(".packageUniqueId").val();listenSubmit(".packageForm",(function(e){e.preventDefault(),screenLock(),$("#packagesSaveBtn").attr("disabled",!0);var t=jQuery(this).find("#packagesSaveBtn");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$(".packageSaveUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".packageUrl").val()},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#packagesSaveBtn").attr("disabled",!1)},complete:function(){screenUnLock(),t.button("reset")}})}));var t=function(){var t=1;if($(".package-service-item-container>tr").each((function(){$(this).find(".item-number").text(t),t++})),t-1==0){var a={services:JSON.parse($(".associateServices").val()),uniqueId:e},n=prepareTemplateRender("#packageServiceTemplate",a);$(".package-service-item-container").append(n),$(".serviceId").select2({placeholder:Lang.get("messages.package.select_service"),width:"100%"}),e++}}})(),listenClick(".case-handler-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#indexCaseHandlerUrl").val()+"/"+t,"#caseHandlersTbl",$("#caseHandlerLang").val())})),listenChange("#caseHandlerHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val()),hideDropdownManually($("#caseHandlerFilterBtn"),$("#caseHandlerFilter"))})),listenChange(".case-handler-status",(function(e){var t=$(e.currentTarget).data("id");updateCaseHandlerStatus(t)})),listenClick("#caseHandlerResetFilter",(function(){$("#caseHandlerHead").val(2).trigger("change"),hideDropdownManually($("#caseHandlerFilterBtn"),$(".dropdown-menu"))})),window.updateCaseHandlerStatus=function(e){$.ajax({url:$("#indexCaseHandlerUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#createCaseHandlerForm").length&&!$("#editCaseHandlerForm").length)return!1;var e=$("#caseHandlerBirthDate"),t=$("#editCaseHandlerBirthDate"),a=$("#createCaseHandlerForm"),n=$("#editCaseHandlerForm");e.length&&$("#caseHandlerBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),t.length&&$("#editCaseHandlerBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),a.length&&$("#createCaseHandlerForm").find("input:text:visible:first").focus(),n.length&&$("#editCaseHandlerForm").find("input:text:visible:first").focus()})),listenSubmit("#createCaseHandlerForm, #editCaseHandlerForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenClick(".case-andler-remove-image",(function(){defaultImagePreview(".previewImage",1)}))})(),document.addEventListener("turbo:load",(function(){})),listenClick(".advanced-payment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".advancedPaymentURL").val()+"/"+t,"#advancedPaymentsTable",$("#advancePaymentLang").val())})),document.addEventListener("turbo:load",(function(){$("#advancedPaymentDate").flatpickr({defaultDate:new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#editAdvancedPaymentDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#advancedPaymentPatientId").select2({dropdownParent:$("#addNewAdvancedPaymentForm")}),$("#editAdvancedPaymentPatientId").select2({dropdownParent:$("#editAdvancedPaymentsForm")})})),listenShownBsModal("#addAdvancedPaymentModal, #editAdvancedPaymentModal",(function(){$("#advancedPaymentPatientId, #editAdvancedPaymentPatientId:first").focus();var e=Math.random().toString(36).substr(2,8).toUpperCase();$(".advancedPaymentReceiptNo").val(e)})),listenSubmit("#addNewAdvancedPaymentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#advancedPaymentBtnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$(".advancePaymentCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$(t).attr("disabled",!1),$("#addAdvancedPaymentModal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".advanced-payment-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderAdvancePaymentsData(t)}})),window.renderAdvancePaymentsData=function(e){$.ajax({url:$(".advancedPaymentURL").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#advancePaymentId").val(e.data.id),$("#editAdvancedPaymentPatientId").val(e.data.patient_id).trigger("change.select2"),$("#editAdvancedPaymentReceiptNo").val(e.data.receipt_no),$("#editAdvancedPaymentAmount").val(e.data.amount),$(".price-input").trigger("input"),$("#editAdvancedPaymentDate").val(format(e.data.date,"YYYY-MM-DD")),$("#editAdvancedPaymentsModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editAdvancedPaymentsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnAdvancedPaymentEditSave");t.button("loading");var a=$("#advancePaymentId").val();$(t).attr("disabled",!0),$.ajax({url:$(".advancedPaymentURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$(t).attr("disabled",!1),$("#editAdvancedPaymentsModal").modal("hide"),livewire.emit("refresh"))},error:function(e){manageAjaxErrors(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addNewAdvancedPaymentForm",(function(){resetModalForm("#addNewAdvancedPaymentForm","#validationAdvancePaymentErrorsBox"),$("#advancedPaymentPatientId").val("").trigger("change.select2"),$("#date").val(moment(new Date).format("YYYY-MM-DD")),$("#advancedPaymentBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#editAdvancedPaymentsModal",(function(){resetModalForm("#editAdvancedPaymentsForm","#editPaymentValidationErrorsBox"),$("#btnAdvancedPaymentEditSave").attr("disabled",!1)})),listenClick(".delete-patient-admission-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPatientAdmissionsUrl").val()+"/"+t,"",$("#patientAdmissionLang").val())})),listenChange("#patient_admission_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange(".patientAdmissionStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updatePatientAdmissionStatus(t)})),listenClick(".show-patient-admission-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderPatientAdmissionData(t)})),window.renderPatientAdmissionData=function(e){$.ajax({url:$("#patientAdmissionsShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#showAdmissionPatient_name").text(e.data.patient.patient_user.full_name),$("#showAdmissionDoctor_name").text(e.data.doctor.doctor_user.full_name),$("#showAdmission_id").text(e.data.patient_admission_id),$("#showAdmission_date").text(e.data.admission_date),$("#showAdmissionDischarge_date").text(e.data.discharge_date),$("#showAdmissionPackage").text(e.data.package?e.data.package.name:"N/A"),$("#showAdmissionInsurance").text(e.data.insurance?e.data.insurance.name:"N/A"),$("#showAdmission_bed").text(e.data.bed?e.data.bed.name:"N/A"),$("#showAdmissionPolicy_no").text(e.data.policy_no),$("#showAdmissionAgent_name").text(e.data.agent_name),$("#showAdmissionGuardian_name").text(e.data.guardian_name),$("#showAdmissionGuardian_relation").text(e.data.guardian_relation),$("#showAdmissionGuardian_contact").text(e.data.guardian_contact),$("#showAdmissionGuardian_address").text(e.data.guardian_address),$("#showAdmissionPatient_status").empty(),1==e.data.status?$("#showAdmissionPatient_status").append('<span class="badge bg-light-success">'.concat(Lang.get("messages.filter.active"),"</span>")):$("#showAdmissionPatient_status").append('<span class="badge bg-light-danger">'.concat(Lang.get("messages.filter.deactive"),"</span>")),$("#showAdmissionCreated_on").text(moment(e.data.created_at).fromNow()),$("#showAdmissionUpdated_on").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPatientAdmission").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenClick("#patientAdmissionResetFilter",(function(){$("#patient_admission_filter_status").val(0).trigger("change"),hideDropdownManually($("#patientAdmissionFilterBtn"),$(".dropdown-menu"))})),window.updatePatientAdmissionStatus=function(e){$.ajax({url:$("#indexPatientAdmissionsUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},(()=>{document.addEventListener("turbo:load",(function(){if(!$("#createPatientAdmission").length&&!$("#editPatientAdmission").length)return;if($("#admissionPatientId, #admissionDoctorId, #admissionPackageId, #admissionInsuranceId, #admissionBedId").select2({width:"100%"}),e=$("#admissionDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),$("#admissionPatientId").focus(),$(".isEdit").val()){setTimeout((function(){$("#admissionDate").trigger("dp.change")}),300);var t=void 0,a=$("#admissionPatientBirthDate").val();$("#admissionDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,enableTime:!0,minDate:a,locale:$(".userCurrentLanguage").val(),onChange:function(e,a,n){var i=moment($("#admissionDate").val()).add(1,"days").format();void 0!==t&&t.set("minDate",i)}}),t=$("#admissionDischargeDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,minDate:n,useCurrent:!1,enableTime:!0,locale:$(".userCurrentLanguage").val()});var n=moment($("#admissionDate").val()).add(1,"days").format();t.set("minDate",n)}}));var e=void 0;listenSubmit("#createPatientAdmission, #editPatientAdmission",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenChange("#admissionPatientId",(function(e){var t=$(this).val();getPatientAdmissionDate(t)})),window.getPatientAdmissionDate=function(t){$.ajax({url:$("#admissionPatientBirthUrl").val()+"/"+t,method:"get",cache:!1,success:function(t){e.set("minDate",t.user.dob)}})}})(),(()=>{"use strict";function e(e){var t=new Date;return t.setHours(e.substring(11,13)),t.setMinutes(e.substring(14,16)),t}var t,a;document.addEventListener("turbo:load",(function(){if(!$("#calendar").length)return!1;var e=$("#patientIdAppointment"),t=$("#doctorIdAppointment");e.length&&$("#patientIdAppointment").select2({width:"100%",dropdownParent:$("#addAppointmentModal")});t.length&&$("#doctorIdAppointment").select2({width:"100%",dropdownParent:$("#addAppointmentModal")});var a=document.getElementById("calendar");$("#calendar").length&&(screenLock(),$.ajax({url:"calendar-list",type:"GET",dataType:"json",success:function(e){screenUnLock(),new FullCalendar.Calendar(a,{themeSystem:"bootstrap5",height:750,locale:$(".getLanguage").val(),headerToolbar:{left:"title",center:"prev,next today",right:"dayGridMonth,timeGridWeek,timeGridDay"},buttonText:{today:$("#todayText").val(),month:$("#monthText").val(),week:$("#weekText").val(),day:$("#dayText").val()},initialDate:new Date,initialView:"dayGridMonth",editable:!1,selectable:!0,selectMirror:!0,timeZone:"UTC",dayMaxEvents:!0,select:function(e){$("#opdDateAppointment").val(moment(e.startStr).format("YYYY-MM-DD"));var t=moment().format("YYYY-MM-DD");e.startStr>=t&&1!=$("#isDoctor").val()&&$("#addAppointmentModal").modal("show")},eventDidMount:function(e,t){$(t).tooltip({title:e.title,container:"body"})},events:e.data,eventTimeFormat:{hour12:!0,hour:"2-digit",minute:"2-digit"},loading:function(e){e||setTimeout((function(){$("#calendar button.fc-today-button").removeClass("disabled").prop("disabled",!1)}),100)},eventClick:function(e){var t;t=e.event.id,$.ajax({url:"appointment-detail/"+t,type:"GET",beforeSend:function(){screenLock()},success:function(e){$("#showPatientName").text(e.data.patient),$("#showDepartmentName").text(e.data.department),$("#showDoctorName").text(e.data.doctor),$("#showOpdDate").text(e.data.opdDate),$("#showStatus").text(e.data.status),$("#showIsCompleted").text(e.data.is_completed),$("#showProblem").text(function(e,t){var a="";if(null!=e){for(;e.length>0;)a+=e.substring(0,t)+"\n",e=e.substring(t);return a}return"N/A"}(e.data.problem,30)),$(".tooltip ").tooltip("hide"),$("#appointmentDetailModal").modal("show")},complete:function(){screenUnLock()}})}}).render()}}))})),listenShownBsModal("#addAppointmentModal",(function(){$("#patientIdAppointment:first").focus()})),listenClick(".time-interval",(function(e){var a=$(e.currentTarget).attr("data-id");$(this).data("id")==a&&$(this).parent().hasClass("booked")&&$(".time-slot-book").css("background-color","#ffa0a0"),t=$(this).text(),$(".time-slot").removeClass("time-slot-book"),$(this).parent().addClass("time-slot-book")})),listenSubmit("#calenderAppointmentForm",(function(e){if(null==t||""==t)return $("#calenderAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("messages.new_change.select_time_slot")),$(".alert-danger").delay(5e3).slideUp(300,(function(){$(".alert-danger").attr("style","display:none")})),!1;e.preventDefault(),screenLock();var a=$(this).serialize()+"&time="+t;$.ajax({url:$("#calenderAppointmentSaveUrl").val(),type:"POST",dataType:"json",data:a,success:function(e){displaySuccessMessage(e.message),window.location.href=$("#calenderIndexPage").val()},error:function(e){printErrorMessage("#calenderAppointmentErrorsBox",e),screenUnLock()}})}));var n,i,r=!1;listenChange("#doctorIdAppointment",(function(){if(r&&($(".error-message").css("display","none"),r=!0),$(".error-message").css("display","none"),a=$(this).val(),r=!0,""!==$("#opdDateAppointment").val()){if($(".doctor-schedule").css("display","none"),$(".error-message").css("display","none"),$(".available-slot-heading").css("display","none"),$(".color-information").css("display","none"),$(".time-slot").remove(),""==$("#doctorIdAppointment").val())return $("#calenderAppointmentErrorsBox").show().html(Lang.get("messages.appointment.please_select_doctor")),$("#calenderAppointmentErrorsBox").delay(5e3).fadeOut(),$("#opdDateAppointment").val(""),$("#opdDateAppointment").data("DateTimePicker").clear(),!1;var t=[Lang.get("messages.new_change.sunday"),Lang.get("messages.new_change.monday"),Lang.get("messages.new_change.tuesday"),Lang.get("messages.new_change.wednesday"),Lang.get("messages.new_change.thursday"),Lang.get("messages.new_change.friday"),Lang.get("messages.new_change.saturday")];r=$("#opdDateAppointment").val();var s=t[new Date(r).getDay()];if(null==s||""==s)return!1;if($.ajax({type:"GET",url:$("#doctorScheduleList").val(),data:{day_name:s,doctor_id:a},success:function(t){if(t.success&&""!=t.data)if(0!=t.data.scheduleDay.length){var a=r+" "+t.data.scheduleDay[0].available_from,i=r+" "+t.data.scheduleDay[0].available_to,s=t.data.perPatientTime[0].per_patient_time.split(":"),o=60*+s[0]+ +s[1],d=e(a),l=e(i);if((n=function(e,t,a){for(var n=[];e<t;)n.push(e.toTimeString().substring(0,5)),e.setMinutes(e.getMinutes()+a);return n}(d,l,o)).length>0){var c;$(".available-slot-heading").css("display","block"),$(".color-information").css("display","block");var u="";for(c=0;c<n.length;++c){var m=[{index:c,timeSlot:n[c]}];u+=prepareTemplateRender("#appointmentSlotTemplate",m)}$(".available-slot").append(u)}"00:00:00"!=t.data.scheduleDay[0].available_from&&"00:00:00"!=t.data.scheduleDay[0].available_to&&a!=i?($(".doctor-schedule").css("display","block"),$(".color-information").css("display","block"),$(".day-name").html(t.data.scheduleDay[0].available_on),$(".schedule-time").html("["+t.data.scheduleDay[0].available_from+" - "+t.data.scheduleDay[0].available_to+"]")):($(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("messages.appointment.doctor_schedule_not_available_on_this_date")))}else $(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("messages.appointment.doctor_schedule_not_available_on_this_date"))}}),$(".isCreate").val()){setTimeout((function(){var e=null;$(".isCreate").val()&&(e={editSelectedDate:r,doctor_id:a}),$.ajax({url:$("#getBookingSlot").val(),type:"GET",data:e,success:function(e){i=e.data.bookingSlotArr,e.data.hasOwnProperty("onlyTime")?(e.data.bookingSlotArr.length>0&&(editTimeSlot=e.data.onlyTime.toString(),$.each(e.data.bookingSlotArr,(function(e,t){$.each(n,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&$(this).html()!=editTimeSlot&&($(this).parent().css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))),$(".time-interval").each((function(){$(this).html()==editTimeSlot&&e.data.bookingSlotArr.length>0&&($(this).parent().addClass("time-slot-book"),$(this).parent().removeClass("booked"),$(this).parent().children().prop("disabled",!1),$(this).click())}))):i.length>0&&$.each(i,(function(e,t){$.each(n,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&($(this).parent().addClass("time-slot-book"),$(".time-slot-book").css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))}})}),200)}}})),listenHiddenBsModal("#addAppointmentModal",(function(){resetModalForm("#calenderAppointmentForm","#calenderAppointmentErrorsBox"),$(".day-name").html(""),$(".schedule-time").html(""),$(".doctor-schedule").css("display","none"),$(".error-message").css("display","none"),$(".available-slot-heading").css("display","none"),$(".available-slot").html(""),$(".color-information").css("display","none"),t=null,$("#patientIdAppointment, #doctorIdAppointment").val("").trigger("change.select2")}))})(),listenChange(".enquiryStatus",(function(){var e,t=$(this).attr("data-id");e=t,$.ajax({url:$("#indexEnquiryUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.emit("refresh"))}})})),listenClick("#resetEnquiryFilter",(function(){$("#enquiriesHead").val(2).trigger("change"),hideDropdownManually($("#enquiriesFilterBtn"),$(".dropdown-menu"))})),listenChange("#enquiriesHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){listenClick(".ambulances-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("ambulances.destroy",t),"#ambulancesTbl",$("#ambulanceLang").val())})),listenChange("#ambulancesFilterStatus",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#ambulancesResetFilter",(function(){$("#ambulancesFilterStatus").val(0).trigger("change"),hideDropdownManually($("#ambulancesFilterBtn"),$(".dropdown-menu"))}))})),listenChange(".ambulances-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateIsAvailable(t)})),window.updateIsAvailable=function(e){$.ajax({url:route("ambulances.isAvailableAmbulance",e),method:"post",cache:!1,success:function(e){e.success&&displaySuccessMessage(e.message)}})}})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#ambulancesVehicleType").select2({width:"100%"}),listenSubmit("#createAmbulanceForm, #editAmbulanceForm",(function(){if($("#ambulancesBtnSave").attr("disabled",!0),""!==$("#error-msg").text())return $("#phoneNumber").focus(),$("#ambulancesBtnSave").attr("disabled",!1),!1})),$("#createAmbulanceForm, #editAmbulanceForm").find("input:text:visible:first").focus()}))})(),(()=>{"use strict";listenClick(".ambulance-call-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showAmbulanceCallUrl").val()+"/"+t,"#ambulanceCallsTbl",$("#ambulanceCallLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#createAmbulanceCall").length&&!$("#editAmbulanceCall").length)return!1;var e=$("#callAmbulanceId"),t=$("#ambulanceCallPatientId"),a=$("#ambulanceCallDate");e.length&&$("#callAmbulanceId").select2({width:"100%"}),t.length&&($("#ambulanceCallPatientId").select2({width:"100%"}),$("#ambulanceCallPatientId").focus()),a.length&&$("#ambulanceCallDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()}),$(".price-input").trigger("input")})),listenChange("#callAmbulanceId",(function(){$("#ambulanceCallDriverName").val(""),isEmpty($(this).val())||$.ajax({url:$(".getDriverNameUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){$("#ambulanceCallDriverName").val(e.data)},error:function(e){printErrorMessage("#ambulanceCallValidationErrorsBox",e)}})})),listenSubmit("#createAmbulanceCall, #editAmbulanceCall",(function(){$("#ambulanceCallSaveBtn").attr("disabled",!0)}))})(),listenClick(".delete-prescription-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPrescriptionUrl").val()+"/"+t,"#prescriptionsTable",$("#prescriptionLang").val())})),listenChange(".prescriptionStatus",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexPrescriptionUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),hideDropdownManually($("#prescriptionFilterBtn"),$("#prescriptionFilter")))}})})),listenClick("#prescriptionResetFilter",(function(){$("#prescriptionHead").val("2").trigger("change"),hideDropdownManually($("#prescriptionFilterBtn"),$(".dropdown-menu"))})),listenClick(".show-prescription-btn",(function(e){e.preventDefault();var t,a=e.currentTarget.dataset.id;t=a,$.ajax({url:$("#prescriptionShowModal").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showPrescriptionPatientName").text(e.data.patient.patient_user.full_name),$("#showPrescriptionDoctorName").text(e.data.doctor.doctor_user.full_name),$("#showPrescriptionFoodAllergies").text(e.data.food_allergies),$("#showPrescriptionTendencyBleed").text(e.data.tendency_bleed),$("#showPrescriptionHeartDisease").text(e.data.heart_disease),$("#showPrescriptionHighBloodPressure").text(e.data.high_blood_pressure),$("#showPrescriptionDiabetic").text(e.data.diabetic),$("#showPrescriptionSurgery").text(e.data.surgery),$("#showPrescriptionAccident").text(e.data.accident),$("#showPrescriptionOthers").text(e.data.others),$("#showPrescriptionMedicalHistory").text(e.data.medical_history),$("#showPrescriptionCurrentMedication").text(e.data.current_medication),$("#showPrescriptionFemalePregnancy").text(e.data.female_pregnancy),$("#showPrescriptionBreastFeeding").text(e.data.breast_feeding),$("#showPrescriptionHealthInsurance").text(e.data.health_insurance),$("#showPrescriptionLowIncome").text(e.data.low_income),$("#showPrescriptionReference").text(e.data.reference),$("#showPrescriptionStatus").empty(),1==e.data.status?$("#showPrescriptionStatus").append('<span class="badge bg-light-success">'+Lang.get("messages.common.active")+"</span>"):$("#showPrescriptionStatus").append('<span class="badge bg-light-danger">'+Lang.get("messages.filter.deactive")+"</span>"),$("#showPrescriptionCreatedOn").text(moment(e.data.created_at).fromNow()),$("#showPrescriptionUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPrescription").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenChange("#prescriptionHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange(".prescriptionMedicineId",(function(){var e=$(this).val(),t=$(this).attr("data-id");$.ajax({url:route("get-medicine-quantity",e),method:"get",cache:!1,success:function(e){if(null==e.data)return $(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),!1;e.success&&(e.data.available_quantity<=10?($("#availableQuantity"+t).text(Lang.get("messages.item.available_quantity")+" : "+e.data.available_quantity).addClass("text-danger").removeClass("text-success"),$(".available-qty-div").css({"margin-top":"22px"})):($("#availableQuantity"+t).text(Lang.get("messages.item.available_quantity")+" : "+e.data.available_quantity).addClass("text-success").removeClass("text-danger"),$(".available-qty-div").css({"margin-top":"22px"})))}})})),listenChange("#patients_prescription_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#patientPrescriptionResetFilter",(function(){$("#patients_prescription_filter_status").val(2).trigger("change"),hideDropdownManually($("#dropdownMenuPrescription"),$(".dropdown-menu"))})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#patient_id,#filter_status").select2({width:"100%"})}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#prescriptionPatientId").length&&!$("#editPrescriptionPatientId").length)return;var e=$("#prescriptionAddedAt"),t=$("#editPrescriptionAddedAt"),a={};$("#prescriptionPatientId,#editPrescriptionPatientId").select2({width:"100%",templateResult:function(e){if(e.loading)return e.text;var t=a.term||"";return function(e,t){var a=e.toUpperCase().indexOf(t.toUpperCase()),n=$("<span></span>");if(a<0)return n.text(e);n.text(e.substring(0,a));var i=$('<span style="text-decoration: underline;"></span>');return i.text(e.substring(a,a+t.length)),n.append(i),n.append(e.substring(a+t.length)),n}(e.text,t)},language:{searching:function(e){return a=e,"Searching"}},ajax:{delay:250,url:$(".searchPatient").val(),dataType:"json",minimumInputLength:3}}),$("#filter_status,#prescriptionDoctorId,#editPrescriptionDoctorId,#prescriptionTime,#prescriptionMedicineCategoryId,#prescriptionMedicineBrandId,.prescriptionMedicineId,.prescriptionMedicineMealId,#editPrescriptionTime").select2({width:"100%"}),$("#prescriptionMedicineBrandId, #prescriptionMedicineBrandId").select2({width:"100%",dropdownParent:$("#add_new_medicine")}),$("#prescriptionPatientId,#editPrescriptionPatientId").first().focus(),e.length&&$("#prescriptionAddedAt").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()});t.length&&$("#editPrescriptionAddedAt").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()})}));$(".prescriptionUniqueId").val();listenSubmit("#createPrescription, #editPrescription",(function(){$(".btnPrescriptionSave").attr("disabled",!0)})),listenSubmit("#createMedicineFromPrescription",(function(e){e.preventDefault(),$.ajax({url:$("#createMedicineFromPrescriptionPost").val(),method:"POST",data:$(this).serialize(),success:function(e){displaySuccessMessage(e.message),$("#add_new_medicine").modal("hide"),$(".medicineTable").load(location.href+" .medicineTable")},error:function(e){printErrorMessage("#medicinePrescriptionErrorBox",e)}})})),listenHiddenBsModal("#add_new_medicine",(function(){resetModalForm("#createMedicineFromPrescription","#medicinePrescriptionErrorBox")}));var e=function(e){$(e).select2({placeholder:Lang.get("messages.medicine_bills.select_medicine"),width:"100%"})},t=function(e){$(e).select2({placeholder:Lang.get("messages.new_change.select_duration"),width:"100%"})},a=function(e){$(e).select2({placeholder:Lang.get("messages.new_change.select_dose_interval"),width:"100%"})};listenClick(".delete-prescription-medicine-item",

        (function(){$(this).parents("tr").remove()})),listenClick(".add-medicine-btn",(function(){var n=$(".prescriptionUniqueId").val(),i={medicines:JSON.parse($(".associatePrescriptionMedicines").val()),meals:JSON.parse($(".associatePrescriptionMeals").val()),doseDuration:JSON.parse($(".DoseDurationId").val()),doseInterVal:JSON.parse($(".DoseInterValId").val()),uniqueId:n},r=prepareTemplateRender("#prescriptionMedicineTemplate",i);$(".prescription-medicine-container").append(r),e(".prescriptionMedicineId"),e(".prescriptionMedicineMealId"),t(".DoseDurationIdTemplate"),a(".DoseInterValIdTemplate"),n++,$(".prescriptionUniqueId").val(n)}))})(),listenClick("#admissionResetFilter",(function(){$("#patient_admission_filter_status").val(2).trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")})),$("#invoice_status_filter").select2({width:"100%"}),$(document).on("click","#invoiceResetFilter",(function(){$("#invoice_status_filter").val(2).trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")})),(()=>{"use strict";listenClick(".charge-category-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#chargeCategoryURLID").val()+"/"+t,"#chargeCategoriesTbl",$("#chargeCategoryLang").val())})),document.addEventListener("success",(function(e){displaySuccessMessage(e.detail)}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#addChargeCategoryForm").length&&!$("#editChargeCategoryForm").length)return!1;var e=$("#chargeCategoryTypeId"),t=$("#editChargeCategoryTypeId");e.length&&$("#chargeCategoryTypeId").select2({width:"100%",dropdownParent:$("#add_charge_categories_modal")});t.length&&$("#editChargeCategoryTypeId").select2({width:"100%",dropdownParent:$("#edit_charge_categories_modal")})})),listenSubmit("#addChargeCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#chargeCategorySave");t.button("loading"),$.ajax({url:$(".chargeCategoryCreateURLID").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_charge_categories_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#chargeCategoryErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".charge-category-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#chargeCategoryURLID").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#chargeCatId").val(e.data.id),$("#editChargeCategoryName").val(e.data.name),$("#editChargeCategoryTypeId").val(e.data.charge_type).trigger("change.select2"),$("#editChargeCategoryDescription").val(e.data.description),$("#edit_charge_categories_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editChargeCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editChargeCategorySave");t.button("loading");var a=$("#chargeCatId").val();$.ajax({url:$("#chargeCategoryURLID").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_charge_categories_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_charge_categories_modal",(function(){resetModalForm("#addChargeCategoryForm","#chargeCategoryErrorsBox"),$("#chargeCategoryTypeId").val("").trigger("change.select2")})),listenHiddenBsModal("#edit_charge_categories_modal",(function(){resetModalForm("#editChargeCategoryForm","#editChargeCategoryErrorsBox"),$("#editChargeCategoryTypeId").val("").trigger("change.select2")}))})(),(()=>{"use strict";listen("click","#chargesResetFilter",(function(){$("#filterChargeType").val(0).trigger("change"),hideDropdownManually($("#ChargeFilterBtn"),$(".dropdown-menu"))})),listen("click",".charge-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".chargesURl").val()+"/"+t,"#chargesTbl",$("#chargeLang").val())})),listenChange("#filterChargeType",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())}))})(),(()=>{"use strict";function e(e,t){$.ajax({url:$(".changeChargeTypeURL").val(),type:"get",dataType:"json",data:{id:t},success:function(t){$(e).empty(),$.each(t.data,(function(t,a){$(e).append($("<option></option>").attr("value",t).text(a))}))}})}document.addEventListener("turbo:load",(function(){if(!$("#addChargesForm").length&&!$("#editChargesForm").length)return!1;var e=$("#chargeTypeId"),t=$("#chargeCategoryId"),a=$("#editChargeTypeId"),n=$("#editChargeCategoryId");e.length&&$("#chargeTypeId").select2({width:"100%",dropdownParent:$("#add_charges_modal"),placeholder:Lang.get("messages.charge_category.select_charge_type")});t.length&&$("#chargeCategoryId").select2({width:"100%",dropdownParent:$("#add_charges_modal"),placeholder:Lang.get("messages.pathology_category.select_charge_category")});a.length&&$("#editChargeTypeId").select2({width:"100%",dropdownParent:$("#edit_charges_modal"),placeholder:Lang.get("messages.charge_category.select_charge_type")});n.length&&$("#editChargeCategoryId").select2({width:"100%",dropdownParent:$("#edit_charges_modal"),placeholder:Lang.get("messages.pathology_category.select_charge_category")})})),listenShownBsModal("#add_charges_modal, #edit_charges_modal",(function(){$("#chargeTypeId, #editChargeTypeId:first").focus()})),listenChange("#chargeTypeId",(function(){e("#chargeCategoryId",$(this).val())})),listenChange("#editChargeTypeId",(function(){e("#editChargeCategoryId",$(this).val())})),listenSubmit("#addChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#chargesSave");t.button("loading"),$.ajax({url:$("#createChargesURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_charges_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#chargesErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".charge-edit-btn",(function(t){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var a,n=$(t.currentTarget).attr("data-id");a=n,$.ajax({url:$(".chargesURl").val()+"/"+a+"/edit",type:"GET",success:function(t){t.success&&($("#chargeId").val(t.data.id),$("#editChargeTypeId").val(t.data.charge_type).trigger("change.select2"),e("#editChargeCategoryId",t.data.charge_type),$("#editCode").val(t.data.code),$("#editChargesDescription").val(t.data.description),$("#editStdCharge").val(addCommas(t.data.standard_charge)),setTimeout((function(){$("#editChargeCategoryId").val(t.data.charge_category_id).trigger("change.select2")}),2e3),$("#edit_charges_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editChargesSave");t.button("loading");var a=$("#chargeId").val();$.ajax({url:$(".chargesURl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_charges_modal").modal("hide"),$("#chargeDetailShowUrl").length?window.location.href=$("#chargeDetailShowUrl").val():livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_charges_modal",(function(){resetModalForm("#addChargesForm","#chargesErrorsBox"),$("#chargeTypeId,#chargeCategoryId").val("").trigger("change.select2")})),listenHiddenBsModal("#edit_charges_modal",(function(){resetModalForm("#editChargesForm","#editChargesErrorsBox"),$("#editChargeTypeId,#editChargeCategoryId").val("").trigger("change.select2")}))})(),(()=>{"use strict";listenSubmit("#addRadiologyCatNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnRdSave");t.button("loading"),$("#btnRdSave").attr("disabled",!0),$.ajax({url:$("#createRadiologyCategoryURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addRadiologyCatModal").modal("hide"),window.livewire.emit("refresh"),$("#btnRdSave").attr("disabled",!1))},error:function(e){printErrorMessage("#rdValidationErrorsBox",e),$("#btnRdSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editRadiologyCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditRdSave");t.button("loading"),$("#btnEditRdSave").attr("disabled",!0);var a=$("#radiologyCategoryId").val();$.ajax({url:$("#radiologyCategoryURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editRadiologyCatModal").modal("hide"),window.livewire.emit("refresh"),$("#btnEditRdSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#btnEditRdSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addRadiologyCatModal",(function(){resetModalForm("#addRadiologyCatNewForm","#rdValidationErrorsBox"),$("#btnRdSave").attr("disabled",!1)})),listenHiddenBsModal("#editRadiologyCatModal",(function(){resetModalForm("#editRadiologyCatForm","#editRdValidationErrorsBox"),$("#btnEditRdSave").attr("disabled",!1)})),window.renderRadiologyCatData=function(e){$.ajax({url:$("#radiologyCategoryURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#radiologyCategoryId").val(t.id),$("#editRadiologyCatName").val(t.name),$("#editRadiologyCatModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-radiology-cat-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderRadiologyCatData(t)}})),listenClick(".delete-radiology-cat-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#radiologyCategoryURL").val()+"/"+t,"#radiologyCategoryTable",$("#radiologyCategoryLang").val())}))})(),(()=>{"use strict";listenSubmit("#addPathologyCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#pathologyCategorySave");t.button("loading"),$("#pathologyCategorySave").attr("disabled",!0),$.ajax({url:$("#createPathologyCategoryURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPathologyCategoriesModal").modal("hide"),window.livewire.emit("refresh"),$("#pathologyCategorySave").attr("disabled",!1))},error:function(e){printErrorMessage("#pCatValidationErrorsBox",e),$("#pathologyCategorySave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editPathologyCategoriesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editPathologyCategorySaveBtn");t.button("loading");var a=$("#pathologyCategoryId").val();$("#editPathologyCategorySaveBtn").attr("disabled",!0),$.ajax({url:$("#pathologyCategoryURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPathologyCategoriesModal").modal("hide"),window.livewire.emit("refresh"),$("#editPathologyCategorySaveBtn").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editPathologyCategorySaveBtn").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addPathologyCategoriesModal",(function(){resetModalForm("#addPathologyCategoryForm","#pCatValidationErrorsBox"),$("#pathologyCategorySave").attr("disabled",!1)})),listenHiddenBsModal("#editPathologyCategoriesModal",(function(){resetModalForm("#editPathologyCategoriesForm","#editPCatValidationErrorsBox"),$("#editPathologyCategorySaveBtn").attr("disabled",!1)})),window.renderPathologyData=function(e){$.ajax({url:$("#pathologyCategoryURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#pathologyCategoryId").val(t.id),$("#editPathologyCategoryName").val(t.name),$("#editPathologyCategoriesModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-pathology-category-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPathologyData(t)}})),listenClick(".delete-pathology-category-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyCategoryURL").val()+"/"+t,"#pathologyCategoryTable",$("#pathologyCategoryLang").val())}))})(),(()=>{"use strict";listenClick(".delete-radiology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#radiologyTestURL").val()+"/"+t,"#radiologyTestsTable",$("#radiologyTestLang").val())})),listenClick(".show-radiology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderRadiologyTestData(t)})),window.renderRadiologyTestData=function(e){$.ajax({url:route("radiology.test.show.modal",e),type:"GET",success:function(e){e.success&&($("#radiologyTestName").text(e.data.test_name),$("#radiologyTestShortName").text(e.data.short_name),$("#radiologyTestType").text(e.data.test_type),$("#radiologyTestCategoryName").text(e.data.radiologycategory.name),$("#radiologyTestSubCategory").text(e.data.subcategory),$("#radiologyTestReportDays").text(e.data.report_days),$("#radiologyTestChargeCategory").text(e.data.chargecategory.name),$("#radiologyTestStandardCharge").text(e.data.standard_charge),$("#radiologyTestCreatedOn").text(moment(e.data.created_at).fromNow()),$("#radiologyTestUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showRadiologyTest").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}})(),document.addEventListener("turbo:load",(function(){$(".price-input").trigger("input"),$("#radiologyCategories,#chargeCategory,#editCategoryName,#editChargeCategory,#chargeCode").select2({width:"100%"})})),$("#createRadiologyTest, #editRadiologyTest").find("input:text:visible:first").focus(),listen("change",".charge-category",(function(e){var t=$(this).val();""!==t?getRadiologyChargeCode(t):$("#chargeCode").empty(),$("#chargeCode").attr("disabled",!0),$("#chargeCode").append($("<option></option>").text(Lang.get("messages.new_change.select_charge"))),$(".rd-test-standard-charge").val("")})),window.getRadiologyChargeCode=function(e){$.ajax({url:$(".radiology-test-url").val()+"/get-charge-code/"+e,method:"get",cache:!1,success:function(e){""!==e.data?($("#chargeCode").empty(),$("#chargeCode").removeAttr("disabled"),$("#chargeCode").append($("<option></option>").text(Lang.get("messages.new_change.select_charge"))),$.each(e.data,(function(e,t){$("#chargeCode").append($("<option></option>").attr("value",e).text(t))}))):$("#chargeCode").append($("<option></option>").text(Lang.get("messages.new_change.select_charge")))}})},listen("change",".charge-code",(function(e){var t=$(this).val();""!==t?getRadiologyStandardCharge(t):$(".rd-test-standard-charge").val("")})),window.getRadiologyStandardCharge=function(e){$.ajax({url:$(".radiology-test-url").val()+"/get-standard-charge/"+e,method:"get",cache:!1,success:function(e){""!==e&&($(".rd-test-standard-charge").val(e.data),$(".price-input").trigger("input"))}})},document.addEventListener("turbo:load",(function(){if(!$("#addDoctorChargesForm").length&&!$("#editDoctorChargesForm").length)return!1;var e=$("#chargesDoctorId"),t=$("#editChargesDoctorId");e.length&&$("#chargesDoctorId").select2({width:"100%",dropdownParent:$("#add_doctor_opd_charges_modal")}),t.length&&$("#editChargesDoctorId").select2({width:"100%",dropdownParent:$("#edit_doctor_opd_charges_modal")})})),listenSubmit("#addDoctorChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#doctorChargesSave");t.button("loading"),$.ajax({url:$("#doctorOPDCreateChargeURLID").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_doctor_opd_charges_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#doctorChargesErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".doctor-opd-charge-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#doctorOPDChargeURLID").val()+"/"+t,null,$("#doctorOpdChargeLang").val())})),listenClick(".doctor-opd-charge-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#doctorOPDChargeURLID").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#doctorOPDChargeId").val(e.data.id),$("#editChargesDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editDoctorStandardCharge").val(e.data.standard_charge),$("#editDoctorNewPatientCharge").val(e.data.new_patient_charge),$(".price-input").trigger("input"),$("#edit_doctor_opd_charges_modal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editDoctorChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDoctorChargesSave");t.button("loading");var a=$("#doctorOPDChargeId").val();$.ajax({url:$("#doctorOPDChargeURLID").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_doctor_opd_charges_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_doctor_opd_charges_modal",(function(){resetModalForm("#addDoctorChargesForm","#doctorChargesErrorsBox"),$("#chargesDoctorId").val("").trigger("change.select2")})),listenHiddenBsModal("#edit_doctor_opd_charges_modal",(function(){resetModalForm("#editDoctorChargesForm","#editDoctorChargesErrorsBox")})),listenShownBsModal("#add_doctor_opd_charges_modal, #edit_doctor_opd_charges_modal",(function(){$("#chargesdoctorId, #editChargesDoctorId:first").focus()})),(()=>{"use strict";listenClick(".delete-pathology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyTestURL").val()+"/"+t,"#pathologyTestsTable",$("#pathologyTestLang").val())})),listenClick(".show-pathology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderShowPathologyData(t)})),window.renderShowPathologyData=function(e){$.ajax({url:route("pathology.test.show.modal",e),type:"GET",success:function(e){e.success&&($("#showPathologyTestName").text(e.data.test_name),$("#showPathologyTestShortName").text(e.data.short_name),$("#showPathologyTestType").text(e.data.test_type),$("#showPathologyCategories").text(e.data.pathologycategory.name),$("#showPathologyTestUnit").text(e.data.unit),$("#showPathologyTestSubcategory").text(e.data.subcategory),$("#showPathologyTestMethod").text(e.data.method),$("#showPathologyTestReportDays").text(e.data.report_days),$("#showPathologyChargeCategories").text(e.data.chargecategory.name),$("#showPTestStandardCharge").text(e.data.standard_charge),$("#showPathologyTestCreatedOn").text(moment(e.data.created_at).fromNow()),$("#showPathologyTestUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPathologyTest").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenChange(".patholory-parameter-data",(function(){var e=$(this).val(),t=$(this).closest("tr"),a=t.find("#rangeId"),n=t.find("#unitId");if(""==e)return $(a).val(""),$(n).val(""),!1;$.ajax({type:"get",url:route("get-pathology-parameter",e),success:function(e){$(a).val(e.data.parameter.reference_range),$(n).val(e.data.parameter.pathology_unit.name)}})})),listenClick(".add-parameter-test",(function(){var t=$("#parameterUniqueId").val(),a={parameters:JSON.parse($(".associateParameters").val()),uniqueId:t},n=prepareTemplateRender("#pathologyParameterTemplate",a);$(".pathology-test-container").append(n),e(".patholory-parameter-data"),t++}));var e=function(e){$(e).select2({placeholder:Lang.get("messages.new_change.select_parameter_name"),width:"100%"})};listenClick(".delete-parameter-test",(function(){$(this).parents("tr").remove()}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$(".price-input").trigger("input"),$(".pathologyCategories,.pChargeCategories").select2({width:"100%"})})),$("#createPathologyTest, #editPathologyTest").find("input:text:visible:first").focus(),listenChange(".pChargeCategories",(function(e){var t=$(this).val();""!==t?getStandardCharge(t):$(".pathologyStandardCharge").val("")})),window.getStandardCharge=function(e){$.ajax({url:$(".pathologyTestActionURL").val()+"/get-standard-charge/"+e,method:"get",cache:!1,success:function(e){""!==e&&($(".pathologyStandardCharge").val(e.data),$(".price-input").trigger("input"))}})}})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#indexExpenseUrl").length)return;$("#expenseDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()});$("#editExpenseDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()});$("#expenseHead").select2({width:"100%"}),$("#expenseId").select2({width:"100%",dropdownParent:$("#add_expenses_modal")}),$("#editExpenseHeadId").select2({width:"100%",dropdownParent:$("#edit_expenses_modal")}),listenShownBsModal("#add_expenses_modal, #edit_expenses_modal",(function(){$("#expenseId, #editExpenseHeadId:first").focus(),$("#expenseId").select2({width:"100%",dropdownParent:$("#add_expenses_modal")}),$("#editExpenseHeadId").select2({width:"100%",dropdownParent:$("#edit_expenses_modal")})}))})),listenClick(".deleteExpenseBtn",(function(t){var a=$(t.currentTarget).attr("data-id");deleteItem($("#indexExpenseUrl").val()+"/"+a,e,$("#expenseLang").val())})),listenClick(".editExpensesBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexExpenseUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editExpensePreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editExpensePreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""==t?$("#editExpensePreviewImage").css("background-image",'url("'+$("#indexExpenseDefaultDocumentImageUrl").val()+'")'):$("#editExpensePreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#editExpenseId").val(e.data.id),$("#editExpenseHeadId").val(e.data.expense_head).trigger("change.select2"),$("#editExpenseName").val(e.data.name),document.querySelector("#editExpenseDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editExpenseInvoiceNumber").val(e.data.invoice_number),$("#editExpenseAmount").val(e.data.amount),$(".price-input").trigger("input"),$("#editExpenseDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#expenseDocumentUrl").hide(),$(".btn-view").hide()):($("#expenseDocumentUrl").show(),$(".btn-view").show(),$("#expenseDocumentUrl").attr("href",e.data.document_url)),$("#edit_expenses_modal").appendTo("body").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#addExpenseForm",(function(t){t.preventDefault(),$("#expenseSave").attr("disabled",!0);var a=jQuery(this).find("#expenseSave");a.button("loading");var n={formSelector:$(this),url:$("#indexExpenseCreateUrl").val(),type:"POST",tableSelector:e};newRecord(n,a,"#add_expenses_modal")}));var e="#expensesTable";function t(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html($("#indexExpenseDocumentError").val()).show(),!1):a}listenSubmit("#editExpensesForm",(function(t){t.preventDefault(),$("#editExpenseSave").attr("disabled",!0);var a=jQuery(this).find("#editExpenseSave");a.button("loading");var n=$("#editExpenseId").val(),i=$("#indexExpenseUrl").val()+"/"+n+"/update",r={formSelector:$(this),url:i,type:"POST",tableSelector:e};Livewire.emit("refresh"),editRecord(r,a,"#edit_expenses_modal")})),listenClick("#ExpenseResetFilter",(function(){$("#expenseHead").val(0).trigger("change"),hideDropdownManually($("#ExpenseFilterBtn"),$(".dropdown-menu"))})),listenHiddenBsModal("#add_expenses_modal",(function(){resetModalForm("#addExpenseForm","#expenseErrorsBox"),$("#expenseSave").attr("disabled",!1),$("#expenseId").val("").trigger("change.select2"),$("#expensePreviewImage").css("background-image","url("+$("#indexExpenseDefaultDocumentImageUrl").val()+")")})),listenHiddenBsModal("#edit_expenses_modal",(function(){$("#editExpenseSave").attr("disabled",!1),resetModalForm("#editExpensesForm","#editExpenseErrorsBox")})),listenChange("#expenseAttachment",(function(){var e=t($(this),"#expenseErrorsBox");isEmpty(e)||0==e||($("#expenseErrorsBox").html("").hide(),displayDocument(this,"#expensePreviewImage",e))})),listenChange("#editExpenseAttachment",(function(){var e=t($(this),"#editExpenseErrorsBox");isEmpty(e)||0==e||($("#editExpenseErrorsBox").html("").hide(),displayDocument(this,"#editExpensePreviewImage",e))})),listenClick(".removeExpenseImage",(function(){defaultImagePreview("#expensePreviewImage")})),listenClick(".removeExpenseImageEdit",(function(){defaultImagePreview("#editExpensePreviewImage")})),listenChange("#expenseHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())}))})(),document.addEventListener("turbo:load",(function(){($("#addIncomeForm").length||$("#editIncomesForm").length)&&(listenShownBsModal("#add_incomes_modal, #edit_incomes_modal",(function(){$("#incomeId, #editIncomeHeadId:first").focus(),$("#incomeId").select2({width:"100%",dropdownParent:$("#add_incomes_modal")}),$("#editIncomeHeadId").select2({width:"100%",dropdownParent:$("#edit_incomes_modal")})})),$("#incomeHead").select2({width:"100%"}),$("#incomeDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!1,locale:$(".userCurrentLanguage").val()}),$("#editIncomeDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!1,locale:$(".userCurrentLanguage").val()}))})),listenSubmit("#addIncomeForm",(function(e){e.preventDefault(),$("#incomeSave").attr("disabled",!0);var t=jQuery(this).find("#incomeSave");t.button("loading"),$.ajax({url:$("#indexIncomeCreateUrl").val(),type:"POST",data:new FormData(this),dataType:"JSON",processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_incomes_modal").modal("hide"),$("#incomeSave").attr("disabled",!1),Livewire.emit("refresh"))},error:function(e){$("#incomeSave").attr("disabled",!1),printErrorMessage("#incomeErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".deleteIncomesBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexIncomeUrl").val()+"/"+t,null,$("#incomeLang").val())})),listenClick("#incomeResetFilter",(function(){$("#incomeHead").val(0).trigger("change"),hideDropdownManually($("#incomeFilterBtn"),$(".dropdown-menu"))})),listenClick(".editIncomesBtn",(function(e){!function(e){$.ajax({url:$("#indexIncomeUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editIncomePreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editIncomePreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""==t?$("#editIncomePreviewImage").css("background-image",'url("'+$("#indexIncomeDefaultDocumentImageUrl").val()+'")'):$("#editIncomePreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#editIncomeId").val(e.data.id),$("#editIncomeHeadId").val(e.data.income_head).trigger("change.select2"),$("#editIncomeName").val(e.data.name),document.querySelector("#editIncomeDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editIncomeInvoiceNumber").val(e.data.invoice_number),$("#editIncomeAmount").val(e.data.amount),$(".price-input").trigger("input"),$("#editIncomeDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#editIncomeDocumentUrl").hide(),$(".btn-view").hide()):($("#editIncomeDocumentUrl").show(),$(".btn-view").show(),$("#editIncomeDocumentUrl").attr("href",e.data.document_url)),$("#edit_incomes_modal").appendTo("body").modal("show")}},error:function(e){manageAjaxErrors(e)}})}(e.currentTarget.dataset.id)})),listenSubmit("#editIncomesForm",(function(e){e.preventDefault(),$("#editIncomeSave").attr("disabled",!0);var t=jQuery(this).find("#editIncomeSave");t.button("loading");var a=$("#editIncomeId").val(),n=$("#indexIncomeUrl").val()+"/"+a+"/update",i={formSelector:$(this),url:n,type:"POST",tableSelector:null};Livewire.emit("refresh"),editRecord(i,t,"#edit_incomes_modal"),$("#avatar_remove").val("")})),listenHiddenBsModal("#add_incomes_modal",(function(){resetModalForm("#addIncomeForm","#incomeErrorsBox"),$("#incomeSave").attr("disabled",!1),$("#incomeId").val("").trigger("change.select2"),$("#incomePreviewImage").css("background-image",'url("'+$("#indexIncomeDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_incomes_modal",(function(){resetModalForm("#editIncomesForm","#editIncomeErrorsBox"),$("#editIncomeSave").attr("disabled",!1)})),listenChange("#incomeAttachment",(function(){var e=isValidIncomeDocument($(this),"#incomeErrorsBox");isEmpty(e)||0==e||($("#incomeErrorsBox").html("").hide(),displayDocument(this,"#incomePreviewImage",e))})),listenChange("#editIncomeAttachment",(function(){var e=isValidIncomeDocument($(this),"#editIncomeErrorsBox");isEmpty(e)||0==e||($("#editIncomeErrorsBox").html("").hide(),displayDocument(this,"#editIncomePreviewImage",e))})),window.isValidIncomeDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html($("#indexIncomeDocumentError").val()).show(),!1):a},listenClick(".removeIncomesImage",(function(){defaultImagePreview("#incomePreviewImage")})),listenClick(".removeIncomesImageEdit",(function(){defaultImagePreview("#editIncomePreviewImage")})),listenChange("#incomeHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),(()=>{"use strict";function e(){$(".myclass").hide(),$(".smsNumber").attr("value",0),$(".role").show(),$(".send").show()}document.addEventListener("turbo:load",(function(){$("#userSMSId, #roleSMSId").select2({width:"100%",dropdownParent:$("#AddSMSModal")}),$(".myclass").hide(),$("#smsPhoneNumber").prop("required",!1),$(document).on("click",".smsNumber",(function(){$(".smsNumber").is(":checked")?($(".myclass").show(),$(".smsNumber").attr("value",1),$(".role").hide(),$("#roleSMSId").prop("required",!1),$(".send").hide(),$("#userSMSId").prop("required",!1),$("#smsPhoneNumber").prop("required",!0)):($("#userSMSId").prop("required",!0),$("#smsPhoneNumber").prop("required",!1),e())}))})),listenClick(".show-sms-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderSmsData(t)})),window.renderSmsData=function(e){$.ajax({url:route("sms.show.modal",e),type:"GET",success:function(e){e.success&&($("#sendTo").text(e.data.user?e.data.user.full_name:"N/A"),$("#userSmsRole").text(e.data.user?e.data.user.roles[0].name:"N/A"),$("#smsPhone").text(e.data.phone_number),$("#sendBy").text(e.data.send_by?e.data.send_by.full_name:"N/A"),$("#high_blood_pressure").text(e.data.high_blood_pressure),$("#smsMessage").text(e.data.message),$("#smsDate").text(moment(e.data.created_at).fromNow()),$("#smsUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showSms").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listen("keypress","#messageId",(function(e){var t=$("#messageId").val(),a=t.length;parseInt(160-a)<=0&&0!==e.which&&0!==e.charCode&&($("#messageId").val(t.substring(0,a-1)),displayErrorMessage(Lang.get("messages.new_change.charchter_160")))})),listenSubmit("#addSMSNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnSMSSave");t.button("loading"),$("#btnSMSSave").attr("disabled",!0),$("#number").is(":checked")&&($("#roleSMSId").remove(),$("#userSMSId").remove()),$.ajax({url:$("#createSmsUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#AddSMSModal").modal("hide"),window.livewire.emit("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#btnSMSSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".delete-sms-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#smsUrl").val()+"/"+t,"",$("#smsLang").val())})),listenHiddenBsModal("#AddSMSModal",(function(){resetModalForm("#addSMSNewForm","#validationErrorsBox"),$("#userSMSId").val("").trigger("change.select2"),$("#roleSMSId").val("").trigger("change.select2"),$("#valid-msg").addClass("hide"),e(),$("#btnSMSSave").attr("disabled",!1)})),listen("change","#roleSMSId",(function(){""!==$(this).val()&&$.ajax({url:$("#getUsersListUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){$("#userSMSId").empty(),$("#userSMSId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#userSMSId").append($("<option></option>").attr("value",e).text(t))}))}}),$("#userSMSId").empty(),$("#userSMSId").prop("disabled",!0)}))})(),document.addEventListener("turbo:load",(function(){listenSubmit("#createBrandForm, #editBrandForm",(function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),!1}))})),document.addEventListener("turbo:load",(function(){$("#emailId").focus(),listen("change","#mailAttachmentImage",(function(){var e=isValidDocument($(this),"#validationErrorsBox");isEmpty(e)||0==e||($("#validationErrorsBox").html("").hide(),displayDocument(this,"#mailPreviewImage",e))})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("messages.new_change.document_must_be_file_type")).show(),!1):a},listenClick(".remove-image",(function(){defaultImagePreview("#mailPreviewImage")}))})),(()=>{function e(){var e=1;$(".diagnosis-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++}))}document.addEventListener("turbo:load",(function(){if(!$("#diagnosisTestPatientId").length&&!$("#editDiagnosisTestPatientId").length)return;$("#diagnosisTestPatientId,#diagnosisTestDoctorId,#diagnosisTestCategoryId").select2(),$("#editDiagnosisTestPatientId,#editDiagnosisTestDoctorId,#editDiagnosisTestCategoryId").select2()})),listenClick("#addDiagnosisTestItem,#addEditDiagnosisTestItem",(function(){var t=$(".uniqueId").val(),a=prepareTemplateRender("#patientDiagnosisTestTemplate",{uniqueId:t});$(".diagnosis-item-container").append(a),t++,e()})),listenClick(".delete-diagnosis",(function(){$(this).parents("tr").remove(),e()})),listenSubmit(".patientDiagnosisTestForm",(function(e){e.preventDefault();var t=jQuery(this).find(".saveBtn");t.attr("disabled",!0);var a=new FormData($(this)[0]);$.ajax({url:$(".patientDiagnosisTestSaveUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".patientDiagnosisTest").val(),t.attr("disabled",!1)},error:function(e){printErrorMessage("#diagnosisTestErrorsBox",e),t.attr("disabled",!1)}})}))})(),listenClick(".patient-diagnosys-test-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#patientDiagnosisTestUrl").val()+"/"+t,"#patientDiagnosisTestTable",$("#patientDiagnosisTestLang").val())})),(()=>{"use strict";listenSubmit("#addDiagnosisCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#diagnosisCatSave");t.button("loading"),$.ajax({url:$("#diagnosisCategoryCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_diagnosis_categories_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#diagnosisCatErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".diagnosis-category-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".diagnosisCategoriesUrl").val()+"/"+t,"#diagnosisCategoryTable",$("#diagnosisCategoryLang").val())})),listenClick(".diagnosis-category-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$(".diagnosisCategoriesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#diagnosisCategoryId").val(e.data.id),$("#editDiagnosisCatName").val(e.data.name),$("#editDiagnosisCatDescription").val(e.data.description),$("#edit_diagnosis_categories_modal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editDiagnosisCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDiagnosisCatSave");t.button("loading");var a=$("#diagnosisCategoryId").val();$.ajax({url:$(".diagnosisCategoriesUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_diagnosis_categories_modal").modal("hide"),$("#diagnosisCategoriesShowUrl").length?window.location.href=$("#diagnosisCategoriesShowUrl").val():livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_diagnosis_categories_modal",(function(){resetModalForm("#addDiagnosisCatForm","#diagnosisCatErrorsBox")})),listenHiddenBsModal("#edit_diagnosis_categories_modal",(function(){resetModalForm("#editDiagnosisCatForm","#editDiagnosisCatErrorsBox")}))})(),(()=>{"use strict";$(document).ready((function(){listenKeyup("#menuSearch",(function(){var e=$(this).val().toLowerCase();$(".nav-item").filter((function(){$(".no-record").addClass("d-none"),$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1),0==$(".nav-item:visible").last().length&&$(".no-record").removeClass("d-none")}))})),listenClick(".sidebar-aside-toggle",(function(){!0===$(this).hasClass("active")?$(".sidebar-search-box").addClass("d-none"):$(".sidebar-search-box").removeClass("d-none")}))}))})(),listenClick(".editItemCategoryBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexItemCategoriesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#itemCategoryId").val(t.id),$("#editItemCategoryName").val(t.name),$("#edit_item_categories_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".deleteItemCategoryBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexItemCategoriesUrl").val()+"/"+t,"#itemCategoriesTbl",$("#itemCategoryLang").val())})),listenSubmit("#addItemCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#itemCategorySave");t.button("loading"),$.ajax({url:$("#indexItemCategoryCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_item_categories_modal").modal("hide"),Livewire.emit("refresh"))},error:function(e){printErrorMessage("#itemCatErrorsBox",e)},complete:function(){t.button("reset")}})})),listenSubmit("#editItemCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editItemCategorySave");t.button("loading");var a=$("#itemCategoryId").val();$.ajax({url:$("#indexItemCategoriesUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_item_categories_modal").modal("hide"),Livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_item_categories_modal",(function(){resetModalForm("#addItemCategoryForm","#itemCatErrorsBox")})),listenHiddenBsModal("#edit_item_categories_modal",(function(){resetModalForm("#editItemCatForm","#editItemCatErrorsBox")})),listenClick(".deleteItemsBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexItemUrl").val()+"/"+t,"",$("#itemLang").val())})),document.addEventListener("turbo:load",(function(){($("#itemCategory").length||$("#editItemCategory").length)&&($("#itemCategory").select2({width:"100%"}),$("#editItemCategory").select2({width:"100%"}))})),listenClick(".deleteStockBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexItemStockUrl").val()+"/"+t,"",$("#itemStockLang").val())})),document.addEventListener("turbo:load",(function(){($("#stockItemCategory").length||$("#editStockItemCategory").length)&&($("#stockItemCategory, #editStockItemCategory").select2({width:"100%"}),Lang.setLocale(UserCurrentLang),$("#stockItems, #editStockItems").select2({width:"100%",placeholder:Lang.get("messages.new_change.select_item")}),$(".isEdit").val()&&($(".price-input").trigger("input"),setTimeout((function(){$("#stockItemCategory, #editStockItemCategory").trigger("change")}),300)))})),listenChange(".stockCategory",(function(){""!==$(this).val()&&$.ajax({url:$(".itemsUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($(".stockItems").empty(),$(".stockItems").removeAttr("disabled"),$.each(e.data,(function(e,t){$(".stockItems").append($("<option></option>").attr("value",e).text(t))})),$(".isEdit").val()&&($(".stockItems").val($("#editStockItemId").val()).trigger("change.select2"),isEdit=!1)):$(".stockItems").prop("disabled",!0)}}),$(".stockItems").empty(),$(".stockItems").prop("disabled",!0)})),listenChange(".stockAttachment",(function(){var e,t,a=(e=$(this),t=$(e).val().split(".").pop().toLowerCase(),-1==$.inArray(t,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),UnprocessableInputError("result"),!1):t);isEmpty(a)||0==a||displayDocument(this,".previewImage",a)})),listenClick(".removeStockImage",(function(){defaultImagePreview(".previewImage")})),listenClick("#issuedItemresetFilter",(function(){$("#issuedItemHead").val(2).trigger("change")})),listenClick(".deleteIssuedItemBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexIssuedItemUrl").val()+"/"+t,"#issuedItemsTable",$("#issuedItemLang").val())})),listenClick(".changes-status-btn",(function(e){var t=$(this).data("id"),a=$(this).data("status");Lang.setLocale($(".userCurrentLanguage").val()),a||swal({title:Lang.get("messages.appointment.change_status")+" !",text:Lang.get("messages.issued_item.are_you_sure_want_to_return_this_item")+" ?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(e){e&&$.ajax({url:$("#indexReturnIssuedItemUrl").val(),type:"get",dataType:"json",data:{id:t},success:function(e){swal({title:Lang.get("messages.issued_item.item_returned")+" !",icon:"success",confirmButtonColor:"#50cd89",timer:2e3,buttons:{confirm:$(".okVariable").val()}}),livewire.emit("refresh")}})}))})),listenChange("#issuedItemHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val()),hideDropdownManually($("#issuedItemFilter"),$("#issuedItemFilter"))})),(()=>{function e(e){toastr.error(e),$("#issuedItemSave").prop("disabled",!0)}document.addEventListener("turbo:load",(function(){Lang.setLocale(UserCurrentLang),$("#issueItemCategory, #issueUserType").select2({width:"100%"}),$("#issueTo").select2({placeholder:Lang.get("messages.message.select_user"),width:"100%"}),$("#issueItems").select2({placeholder:Lang.get("messages.new_change.select_item"),width:"100%"});var e=$("#issueReturnDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!0,locale:$(".userCurrentLanguage").val()});$("#issueDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val(),onChange:function(t,a,n){var i=moment($("#issueDate").val()).add(1,"days").format();e.set("minDate",i)}}),$("#issueDate").on("dp.change",(function(e){var t=moment($("#issueDate").val()).add(1,"days");$("#issueReturnDate").data("DateTimePicker").minDate(t)})),setTimeout((function(){$("#issueItemCategory, #issueUserType").trigger("change")}),300)})),listenChange("#issueItemCategory",(function(){""!==$(this).val()&&$.ajax({url:$("#issuedItemsUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#issueItems").empty(),$("#issueItems").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#issueItems").append($("<option></option>").attr("value",e).text(t))})),$("#issueItems").trigger("change")):($("#issueItems").prop("disabled",!0),$("#itemQuantity").prop("disabled",!0),$("#itemQuantity").val(""),$("#showAvailableQuantity").text("0"),$("#itemAvailableQuantity").val(0))}}),$("#issueItems").empty(),$("#issueItems").prop("disabled",!0)})),listenChange("#issueUserType",(function(){""!==$(this).val()&&$.ajax({url:$("#itemIssuedUsersUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#issueTo").empty(),$("#issueTo").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#issueTo").append($("<option></option>").attr("value",e).text(t))}))):$("#issueTo").prop("disabled",!0)}}),$("#issueTo").empty(),$("#issueTo").append("<option>"+Lang.get("messages.message.select_user")+"</option>"),$("#issueTo").prop("disabled",!0)})),listenChange("#issueItems",(function(){$.ajax({url:$("#issuedItemAvailableQtyUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){$("#itemAvailableQuantity").val(e),$("#showAvailableQuantity").text(e),$("#itemQuantity").attr("max",e),$("#itemQuantity").attr("disabled",!1)}})})),listenChange("#itemQuantity",(function(){var t=parseInt($("#itemAvailableQuantity").val()),a=parseInt($(this).val());Lang.setLocale($(".userCurrentLanguage").val()),a<=t?$("#issuedItemSave").prop("disabled",!1):e(0===a?Lang.get("messages.issued_item.qty_cannot_be_zero"):Lang.get("messages.issued_item.qty_must_be_less_than_available_qty"))})),listenSubmit("#createIssuedItemForm, #editIssuedItemForm",(function(){$("#issuedItemSave").attr("disabled",!0)}))})(),listenChange("#ipd_patients_filter_status",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#ipdResetFilter",(function(){$("#ipd_patients_filter_status").val("0").trigger("change"),hideDropdownManually($("#ipdPatientDepartmentFilterBtn"),$(".dropdown-menu"))})),listen("click",".deleteIpdDepartmentBtn",(function(e){var t=$(e.currentTarget).attr("data-id");console.log($("#ipdPatientLang").val()),deleteItem($("#indexIpdPatientUrl").val()+"/"+t,"",$("#ipdPatientLang").val())})),document.addEventListener("turbo:load",(function(){if($("#ipdAdmissionDate").length||$("#editIpdAdmissionDate").length){$("#ipdPatientId, #ipdDoctorId, #ipdBedTypeId,#editIpdPatientId, #editIpdDoctorId, #editIpdBedTypeId").select2({width:"100%"}),$("#ipdCaseId, #editIpdCaseId ").select2({width:"100%",placeholder:Lang.get("messages.ipd_patient.choose_case")}),$("#ipdBedId, #editIpdBedId").select2({width:"100%",placeholder:Lang.get("messages.bed.choose_bed")});var e=$("#ipdAdmissionDate, #editIpdAdmissionDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()});$(".isEdit").val()?($(".ipdPatientId, .ipdBedTypeId").trigger("change"),e.set("minDate",$(".ipdAdmissionDate").val())):(e.setDate(new Date),e.set("minDate",new Date))}})),listenKeyup(".ipdDepartmentFloatNumber",(function(){if(-1!=$(this).val().indexOf(".")&&$(this).val().split(".")[1].length>2){if(isNaN(parseFloat(this.value)))return;this.value=parseFloat(this.value).toFixed(2)}return this})),listenSubmit("#createIpdPatientForm, #editIpdPatientDepartmentForm",(function(){$("#ipdSave, #btnIpdPatientEdit").attr("disabled",!0)})),listenChange(".ipdPatientId",(function(){""!==$(this).val()&&$.ajax({url:$(".patientCasesUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").empty(),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").append($("<option></option>").attr("value",e).text(t))})),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").val($("#editIpdPatientCaseId").val()).trigger("change.select2")):$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").prop("disabled",!0)}}),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").empty(),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").prop("disabled",!0),$("#ipdDepartmentCaseId, #editIpdDepartmentCaseId ").select2({width:"100%",placeholder:Lang.get("messages.ipd_patient.choose_case")})})),listenChange(".ipdBedTypeId",(function(){var e=null,t=null;if(void 0!==$("#editIpdPatientBedId").val()&&void 0!==$("#editIpdPatientBedTypeId").val()&&(e=$("#editIpdPatientBedId").val(),t=$("#editIpdPatientBedTypeId").val()),""!==$(this).val()){var a=$(this).val();$.ajax({url:$(".patientBedsUrl").val(),type:"get",dataType:"json",data:{id:$(this).val(),isEdit:$(".isEdit").val(),bedId:e,ipdPatientBedTypeId:t},success:function(e){null!==e.data?0!==e.data.length&&($("#ipdBedId,#editIpdBedId").empty(),$("#ipdBedId,#editIpdBedId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#ipdBedId,#editIpdBedId,#editDischargeIpdBedId").append($("<option></option>").attr("value",e).text(t))})),void 0!==$("#editIpdPatientBedId").val()&&void 0!==$("#editIpdPatientBedTypeId").val()&&a===$("#editIpdPatientBedTypeId").val()&&$("#ipdBedId,#editIpdBedId,#editDischargeIpdBedId").val($("#editIpdPatientBedId").val()).trigger("change.select2"),$("#ipdBedId,#editIpdBedId").prop("required",!0)):$("#ipdBedId,#editIpdBedId").prop("disabled",!0)}})}$("#ipdBedId,#editIpdBedId").empty(),$("#ipdBedId,#editIpdBedId").prop("disabled",!0),$("#ipdBedId, #editIpdBedId,#editDischargeIpdBedId").select2({width:"100%",placeholder:Lang.get("messages.bed.choose_bed")})})),(()=>{function e(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("messages.new_change.document_must_be_file_type")).show(),a}document.addEventListener("turbo:load",(function(){if(!$("#ipdDiagnosisReportDate").length&&!$("#editIpdDiagnosisReportDate").length)return;$("#ipdDiagnosisReportDate, #editIpdDiagnosisReportDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",minDate:$("#showIpdPatientCaseDate").val(),widgetPositioning:{horizontal:"left",vertical:"bottom"},locale:$(".userCurrentLanguage").val()})})),listen("click",".ipdDignosis-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdDiagnosisUrl").val()+"/"+t,"",$("#ipdDiagnosisLang").val())})),listenSubmit("#addIpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnSave");t.button("loading");var a={formSelector:$(this),url:$("#showIpdDiagnosisCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_ipd_diagnosis_modal")})),listen("click",".ipdDignosis-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#showIpdDiagnosisUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.ipd_diagnosis_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""!=e.data.ipd_diagnosis_document_url&&$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+e.data.ipd_diagnosis_document_url+'")'),$("#ipdDiagnosisId").val(e.data.id),$("#editIpdDiagnosisReportType").val(e.data.report_type),document.querySelector("#editIpdDiagnosisReportDate")._flatpickr.setDate(moment(e.data.report_date).format()),$("#editIpdDiagnosisDescription").val(e.data.description),""!=e.data.ipd_diagnosis_document_url?($("#editIpdDiagnosisDocumentViewUrl").show(),$(".btn-view").show(),$("#editIpdDiagnosisDocumentViewUrl").attr("href",e.data.ipd_diagnosis_document_url)):($("#editIpdDiagnosisDocumentViewUrl").hide(),$(".btn-view").hide()),$("#edit_ipd_diagnosis_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editIpdDiagnosisSave");t.button("loading");var a=$("#ipdDiagnosisId").val(),n=$("#showIpdDiagnosisUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"POST"};editRecord(i,t,"#edit_ipd_diagnosis_modal")})),listenHiddenBsModal("#add_ipd_diagnosis_modal",(function(){resetModalForm("#addIpdDiagnosisForm","#ipdDiagnosisErrorsBox"),$("#ipdDiagnosisPreviewImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#ipdDiagnosisPreviewImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_ipd_diagnosis_modal",(function(){resetModalForm("#editIpdDiagnosisForm","#editIpdDiagnosisErrorsBox"),$("#editIpdDiagnosisPreviewImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenChange("#ipdDiagnosisDocumentImage",(function(){var t=e($(this),"#ipdDiagnosisErrorsBox");isEmpty(t)||0==t||($("#ipdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#ipdDiagnosisPreviewImage",t))})),listenChange("#editIpdDiagnosisDocumentImage",(function(){var t=e($(this),"#editIpdDiagnosisErrorsBox");isEmpty(t)||0==t||($("#editIpdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#editIpdDiagnosisPreviewImage",t))})),listen("click",".removeIpdDiagnosisImage",(function(){defaultImagePreview(".previewImage")})),listen("click",".removeIpdDiagnosisImageEdit",(function(){defaultImagePreview(".previewImage")}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#showIpdConsultantRegisterUrl").length)return;$(".doctorId").select2({width:"100%",dropdownParent:$("#addConsultantInstructionModal")}),$("#editConsultantDoctorId").select2({width:"100%",dropdownParent:$("#editIpdConsultantInstructionModal")}),t()}));var e=function(e){$(e).attr("readonly",!1)};e(".appliedDate"),e(".instructionDate");var t=function(){$(".appliedDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",useCurrent:!1,sideBySide:!0,widgetPositioning:{horizontal:"left",vertical:"bottom"},minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()}),$(".instructionDate").flatpickr({enableTime:!1,format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!0,widgetPositioning:{horizontal:"left",vertical:"bottom"},minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()})},a=function(e){$(e).select2({placeholder:"Select Doctor",width:"100%",dropdownParent:$("#addConsultantInstructionModal")})};listen("click","#addIpdConsultantItem",(function(){var i=$("#showIpdUniqueId").val(),r={doctors:JSON.parse($("#showIpdDoctors").val()),uniqueId:i},s=prepareTemplateRender("#ipdConsultantInstructionItemTemplate",r);$(".ipd-consultant-item-container").append(s),a(".doctorId"),t(),e(".appliedDate"),e(".instructionDate"),i++,n()}));var n=function(){var e=1,n=$("#showIpdUniqueId").val();if($(".ipd-consultant-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0){var i={doctors:JSON.parse($("#showIpdDoctors").val()),uniqueId:n},r=prepareTemplateRender("#ipdConsultantInstructionItemTemplate",i);$(".ipd-consultant-item-container").append(r),a(".doctorId"),t(),n++}};listen("click",".deleteIpdConsultantInstruction",(function(){$(this).parents("tr").remove(),n()})),listen("click",".delete-consultant-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdConsultantRegisterUrl").val()+"/"+t,"",$("#ipdConsultantLang").val())})),listenSubmit("#addIpdConsultantNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnIpdConsultantSave");t.button("loading");var a={formSelector:$(this),url:$("#showIpdConsultantRegisterCreateUrl").val(),type:"POST"};newRecord(a,t,"#addConsultantInstructionModal")})),listen("click",".edit-consultant-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#showIpdConsultantRegisterUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#ipdEditConsultantId").val(e.data.id),document.querySelector("#editConsultantAppliedDate")._flatpickr.setDate(moment(e.data.applied_date).format()),$("#editConsultantDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editConsultantDoctorId").select2({width:"100%",dropdownParent:$("#editIpdConsultantInstructionModal")}),document.querySelector("#editConsultantInstructionDate")._flatpickr.setDate(moment(e.data.instruction_date).format()),$("#editConsultantInstruction").val(e.data.instruction),$("#editIpdConsultantInstructionModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdConsultantNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editConsultantSave");t.button("loading");var a=$("#ipdEditConsultantId").val(),n=$("#showIpdConsultantRegisterUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"POST"};editRecord(i,t,"#editIpdConsultantInstructionModal")})),listenHiddenBsModal("#addConsultantInstructionModal",(function(){resetModalForm("#addIpdConsultantNewForm","#ipdConsultantErrorsBox"),$("#ipdConsultantInstructionTbl").find("tr:gt(1)").remove(),$(".doctorId").val(""),$(".doctorId").trigger("change")}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#editIpdChargesForm").length&&!$("#addIpdChargeNewForm").length)return;$("#btnIpdChargeSave,#btnEditCharges").prop("disabled",!0),$("#ipdChargeDate, #ipdEditChargeDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!0,minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()}),$("#ipdChargeTypeId, #ipdChargeCategoryId, #ipdChargeId").select2({dropdownParent:$("#addIpdChargesModal")}),$("#editIpdChargeTypeId, #editIpdChargeCategoryId, #editIpdChargeId").select2({dropdownParent:$("#editIpdChargesModal")})}));var e=null,t=null,a=null;function n(e){$(e?"#btnEditCharges":"#btnIpdChargeSave").prop("disabled",!0)}listen("click",".edit-charges-btn",(function(n){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var i,r=$(n.currentTarget).attr("data-id");i=r,$.ajax({url:$("#showIpdChargesUrl").val()+"/"+i+"/edit",type:"GET",success:function(n){n.success&&(e=n.data.charge_category_id,t=n.data.charge_id,n.data.standard_charge,a=n.data.applied_charge,$("#ipdChargesId").val(n.data.id),document.querySelector("#ipdEditChargeDate")._flatpickr.setDate(moment(n.data.date).format()),$("#editIpdChargeTypeId").val(n.data.charge_type_id).trigger("change",[{onceOnEditRender:!0}]),$(".price-input").trigger("input"),$("#appliedChargeId").text(a),$("#editIpdChargesModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".ipd-charge-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdChargesUrl").val()+"/"+t,"",$("#ipdChargeLang").val())})),listenChange("#ipdChargeTypeId, #editIpdChargeTypeId",(function(t,a){var i=$(this).data("is-charge-edit");""!==$(this).val()&&$.ajax({url:$("#showIpdChargeCategoryUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},beforeSend:function(){n(i)},success:function(t){0!==t.data.length?($(i?"#editIpdChargeCategoryId":"#ipdChargeCategoryId").empty(),$(i?"#editIpdChargeCategoryId":"#ipdChargeCategoryId").removeAttr("disabled"),$.each(t.data,(function(e,t){$(i?"#editIpdChargeCategoryId":"#ipdChargeCategoryId").append($("<option></option>").attr("value",e).text(t))})),i?void 0===a?$("#editIpdChargeCategoryId").trigger("change"):$("#editIpdChargeCategoryId").val(e).trigger("change",a):$("#ipdChargeCategoryId").trigger("change"),$(i?"#btnEditCharges":"#btnIpdChargeSave").prop("disabled",!1)):($(i?"#editIpdChargeCategoryId, #editIpdChargeId":"#ipdChargeCategoryId, #ipdChargeId").empty(),$(i?"#editIpdStandardCharge, #editIpdAppliedCharge":"#ipdStandardCharge, #ipdAppliedCharge").val(""),$(i?"#editIpdChargeCategoryId, #editIpdChargeId, #btnEditCharges":"#ipdChargeCategoryId, #ipdChargeId, #btnIpdChargeSave").prop("disabled",!0))}}),$(i?"#editIpdChargeCategoryId, #editIpdChargeId":"#ipdChargeCategoryId, #ipdChargeId").empty(),$(i?"#editIpdStandardCharge, #editIpdAppliedCharge":"#ipdStandardCharge, #ipdAppliedCharge").val(""),$(i?"#editIpdChargeCategoryId, #editIpdChargeId":"#ipdChargeCategoryId, #ipdChargeId").prop("disabled",!0),$("#ipdChargeCategoryId ,#ipdChargeId").select2({width:"100%",placeholder:Lang.get("messages.ipd_patient.choose_case"),dropdownParent:$("#addIpdChargesModal")}),$("#editIpdChargeCategoryId, #editIpdChargeId").select2({width:"100%",placeholder:Lang.get("messages.ipd_patient.choose_case"),dropdownParent:$("#editIpdChargesModal")})})),listenHiddenBsModal("#addIpdChargesModal,#editIpdChargesModal",(function(){$("#ipdChargeCategoryId ,#ipdChargeId,#editIpdChargeCategoryId, #editIpdChargeId").attr("disabled",!0)})),listenChange("#ipdChargeCategoryId, #editIpdChargeCategoryId",(function(e,a){var i=$(this).data("is-charge-edit");""!==$(this).val()&&$.ajax({url:$("#showIpdChargeUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},beforeSend:function(){n(i)},success:function(e){0!==e.data.length?($(i?"#editIpdChargeId":"#ipdChargeId").empty(),$(i?"#editIpdChargeId":"#ipdChargeId").removeAttr("disabled"),$.each(e.data,(function(e,t){$(i?"#editIpdChargeId":"#ipdChargeId").append($("<option></option>").attr("value",e).text(t))})),i?void 0===a?$("#editIpdChargeId").trigger("change"):$("#editIpdChargeId").val(t).trigger("change",a):$("#ipdChargeId").trigger("change")):$(i?"#editIpdChargeId":"#ipdChargeId").prop("disabled",!0)}}),$(i?"#editIpdChargeId":"#ipdChargeId").empty(),$(i?"#editIpdChargeId":"#ipdChargeId").prop("disabled",!0)})),listenChange("#ipdChargeId, #editIpdChargeId",(function(e,t){var a=$(this).data("is-charge-edit");$.ajax({url:$("#showIpdChargeStandardRateUrl").val(),type:"get",dataType:"json",data:{id:$(this).val(),isEdit:a,onceOnEditRender:t,ipdChargeId:$("#ipdChargesId").val()},beforeSend:function(){n(a)},success:function(e){a?null!=e.data&&($("#editIpdStandardCharge").val(e.data.standard_charge),$("#editIpdAppliedCharge").val(e.data.applied_charge),$(".price-input").trigger("input"),$("#btnEditCharges").prop("disabled",!1)):($("#ipdStandardCharge, #ipdAppliedCharge").val(e.data),$("#btnIpdChargeSave").prop("disabled",!1))}})})),listenSubmit("#addIpdChargeNewForm",(function(e){e.preventDefault(),$("#btnIpdChargeSave").attr("disabled",!0);var t=new FormData($(this)[0]);$.ajax({url:$("#showIpdChargesCreateUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addIpdChargesModal").modal("hide"),livewire.emit("refresh"),location.reload(),$("#btnIpdChargeSave").attr("disabled",!1))},error:function(e){printErrorMessage("#ipdChargevalidationErrorsBox",e),$("#btnIpdChargeSave").attr("disabled",!1)}})})),listenSubmit("#editIpdChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditCharges");t.button("loading");var a=$("#ipdChargesId").val(),n=$("#showIpdChargesUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"POST"};editRecord(i,t,"#editIpdChargesModal","#btnEditCharges"),location.reload()})),listenHiddenBsModal("#addIpdChargesModal",(function(){$("#addIpdChargeNewForm")[0].reset(),$("#ipdChargeTypeId, #ipdChargeCategoryId, #ipdChargeId, #ipdStandardCharge, #ipdAppliedCharge").val(""),$("#ipdChargeCategoryId, #ipdChargeId").empty(),$("#ipdChargeCategoryId").append($("<option>"+Lang.get("messages.pathology_category.select_charge_category")+"</option>")),$("#ipdChargeId").append($("<option>"+Lang.get("messages.new_change.select_code")+"</option>")),$("#ipdChargeTypeId").trigger("change.select2"),$("#btnIpdChargeSave").prop("disabled",!0),$("#ipdChargeDate").flatpickr().clear()})),listenHiddenBsModal("#editIpdChargesModal",(function(){$("#btnEditCharges").prop("disabled",!0)}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#editIpdPrescriptionForm").length&&!$("#addIpdPrescriptionForm").length)return;$(".ipdDoseDuration,.ipdDoseInterval,.ipdMealList").select2({width:"100%"}),listen("click",".deleteIpdPrescriptionBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdPrescriptionUrl").val()+"/"+t,"",$("#ipdPrescriptionLang").val())})),listenClick(".deleteIpdPrescription, .deleteIpdPrescriptionOnEdit",(function(){$(this).parents("tr").remove(),a(parseInt($(this).data("edit")))})),listenChange(".ipdCategoryId",(function(e,a){var n=$(document).find("[data-medicine-id='"+$(this).data("id")+"']"),i=$(this).attr("data-id");""!==$(this).val()&&$.ajax({url:$("#showMedicinesListUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?(n.empty(),n.removeAttr("disabled"),n.append($("<option></option>").text(Lang.get("messages.medicine_bills.select_medicine"))),$.each(e.data,(function(e,t){n.append($("<option></option>").attr("value",e).text(t))})),$(".available-qty-div"+i).find("small").text("").end().css("margin-top","0px"),$(".modal").hasClass("show")&&t($(".modal.fade.show").attr("id")),void 0!==a&&n.val(a.medicineId).trigger("change.select2")):(n.append($("<option></option>").text(Lang.get("messages.medicine_bills.select_medicine"))),$(".available-qty-div"+i).find("small").text("").end().css("margin-top","0px"))}}),n.empty(),n.prop("disabled",!0)})),listenClick(".editIpdPrescriptionBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=e.currentTarget.dataset.id;t=a,$.ajax({url:$("#showIpdPrescriptionUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.ipdPrescription,a=e.data.ipdPrescriptionItems;$("#ipdEditPrescriptionId").val(t.id),$("#editHeaderNote").val(t.header_note),$("#editFooterNote").val(t.footer_note),$.each(a,(function(e,t){$("#addPrescriptionItemOnEdit").trigger("click");var a=$("#showIpdUniqueId").val()-1,n=$(document).find("[data-avlMedicine-id='"+a+"']"),i=t.medicine.available_quantity,r=Lang.get("messages.issued_item.available_quantity")+": "+i;n.text(r).addClass(i<=10?"text-danger":"text-success"),$(document).find("[data-id='"+a+"']").val(t.category_id).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dose-duration-id='"+a+"']").val(t.day).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dose-interval-id='"+a+"']").val(t.dose_interval).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-meal-id='"+a+"']").val(t.time).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dosage-id='"+a+"']").val(t.dosage),$(document).find("[data-instruction-id='"+a+"']").val(t.instruction)}));var n=1;$(".edit-ipd-prescription-item-container>tr").each((function(){$(this).find(".prescription-item-number").text(n),n++})),$("#editIpdPrescriptionModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdPrescriptionForm",(function(e){if(e.preventDefault(),!0!==n())return!1;var t=jQuery(this).find("#btnEditIpdPrescriptionSave");t.button("loading");var a=$("#ipdEditPrescriptionId").val(),i=$("#showIpdPrescriptionUrl").val()+"/"+a,r={formSelector:$(this),url:i,type:"POST"};editRecord(r,t,"#editIpdPrescriptionModal")})),listenClick(".printIpdPrescription",(function(){var e=document.getElementById("DivIdToPrint"),t=window.open("","Print-Window");t.document.open(),t.document.write('<html><link href="'+$("#showIpdBootstrapUrl").val()+'" rel="stylesheet" type="text/css"/><body onload="window.print()">'+e.innerHTML+"</body></html>"),t.document.close(),setTimeout((function(){t.close()}),10)})),listenHiddenBsModal("#addIpdPrescriptionModal",(function(){$("#avlQtyDiv").find("small").text("").end().css("margin-top","0px"),resetModalForm("#addIpdPrescriptionForm","#validationErrorsBox"),$("#ipdPrescriptionTbl").find("tr:gt(1)").remove(),$(".ipdCategoryId").val(""),$(".ipdCategoryId").trigger("change")})),listenShownBsModal("#addIpdPrescriptionModal",(function(){t(".medicineId"),e("#ipdPrescriptionItemTemplate")})),listenHiddenBsModal("#editIpdPrescriptionModal",(function(){$("#avlQtyDiv").find("small").text("").end().css("margin-top","0px"),$("#editIpdPrescriptionTbl").find("tr:gt(0)").remove(),resetModalForm("#editIpdPrescriptionForm","#editIpdPrescriptionErrorsBox")})),listenClick(".viewIpdPrescription",(function(e){var t=e.currentTarget.dataset.id;$.ajax({url:$("#showIpdPrescriptionUrl").val()+"/"+t,type:"get",beforeSend:function(){screenLock()},success:function(e){$("#ipdPrescriptionViewData").html(e),$("#showIpdPrescriptionModal").modal("show"),ajaxCallCompleted()},complete:function(){screenUnLock()}})}))}));var e=function(e){"#ipdPrescriptionItemTemplate"===e?($(".ipdCategoryId").select2({placeholder:"Select Category",width:"100%",dropdownParent:$("#addIpdPrescriptionModal")}),$(".ipdDoseDuration,.ipdDoseInterval,.ipdMealList").select2({width:"100%"}),$(".medicineId").select2({placeholder:"Select Medicine",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")})):($(".ipdCategoryId").select2({placeholder:"Select Category",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")}),$(".ipdDoseDuration,.ipdDoseInterval,.ipdMealList").select2({width:"100%"}),$(".medicineId").select2({placeholder:"Select Medicine",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")}))};e("#ipdPrescriptionItemTemplate");var t=function(e){"addIpdPrescriptionModal"===e?$(".medicineId").select2({placeholder:"Select Category",width:"100%",dropdownParent:$("#addIpdPrescriptionModal")}):$(".medicineId").select2({placeholder:"Select Medicine",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")})};listenClick("#addPrescriptionItem, #addPrescriptionItemOnEdit",(function(){var t=parseInt($(this).data("edit"))?"#editIpdPrescriptionItemTemplate":"#ipdPrescriptionItemTemplate",n=parseInt($(this).data("edit"))?".edit-ipd-prescription-item-container":".ipd-prescription-item-container",i=$("#showIpdUniqueId").val(),r={medicineCategories:JSON.parse($("#showMedicineCategories").val()),ipdDoseDuration:JSON.parse($(".ipdPrescriptionDurations").val()),ipdDoseInterval:JSON.parse($(".ipdPrescriptionIntervals").val()),ipdMealList:JSON.parse($(".ipdPrescriptionMealList").val()),uniqueId:i},s=prepareTemplateRender(t,r);$(n).append(s),e(t),i++,$("#showIpdUniqueId").val(i),a(parseInt($(this).data("edit")))}));var a=function(t){var a=t?"#editIpdPrescriptionItemTemplate":"#ipdPrescriptionItemTemplate",n=t?".edit-ipd-prescription-item-container":".ipd-prescription-item-container",i=t?".edit-prescription-item-number":".prescription-item-number",r=1;$(n+">tr").each((function(){$(this).find(i).text(r),r++}));var s=$("#showIpdUniqueId").val();if(r-1==0){var o={medicineCategories:JSON.parse($("#showMedicineCategories").val()),ipdDoseDuration:JSON.parse($(".ipdPrescriptionDurations").val()),ipdDoseInterval:JSON.parse($(".ipdPrescriptionIntervals").val()),ipdMealList:JSON.parse($(".ipdPrescriptionMealList").val()),uniqueId:s},d=prepareTemplateRender(a,o);$(n).append(d),e(a),s++}};function n(){var e=!0;return $(".medicineId").each((function(){if("Select Medicine"==$(this).val())return displayErrorMessage(Lang.get("messages.medicine_bills.medicine_required")),e=!1,!1})),e}listenSubmit("#addIpdPrescriptionForm",(function(e){if(e.preventDefault(),!0!==n())return!1;var t=jQuery(this).find("#btnIpdPrescriptionSave");t.button("loading");var a={formSelector:$(this),url:$("#showIpdPrescriptionCreateUrl").val(),type:"POST"};newRecord(a,t,"#addIpdPrescriptionModal")})),listenChange(".ipd-prescription-medicine",(function(){var e=$(this).val(),t=$(this).attr("data-medicine-id");e==Lang.get("messages.medicine_bills.select_medicine")&&$(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),$.ajax({url:route("get-medicine-quantity",e),method:"get",cache:!1,success:function(e){if(null==e.data)return $(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),!1;e.success&&(e.data.available_quantity<=10?($(".ipd-available-quantity"+t).text(Lang.get("messages.item.available_quantity")+" : "+e.data.available_quantity).addClass("text-danger").removeClass("text-success"),$(".available-qty-div"+t).css({"margin-top":"22px"})):($(".ipd-available-quantity"+t).text(Lang.get("messages.item.available_quantity")+" : "+e.data.available_quantity).addClass("text-success").removeClass("text-danger"),$(".available-qty-div"+t).css({"margin-top":"22px"})))}})}))})(),(()=>{function e(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html("The document must be a file of type: jpeg, jpg, png, pdf, doc, docx.").show(),a}function t(e){$.ajax({url:$("#showIpdTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#ipdTimelines").html(e)}})}document.addEventListener("turbo:load",(function(){if(!$("#editIpdTimelineForm").length&&!$("#addIpdTimelineNewForm").length)return;t($("#ipdPatientDepartmentId").val()),$("#ipdTimelineDate, #editIpdTimelineDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()})})),listenSubmit("#addIpdTimelineNewForm",(function(e){e.preventDefault();var a=jQuery(this).find("#btnIpdTimelineSave");a.button("loading");var n={formSelector:$(this),url:$("#showIpdTimelineCreateUrl").val(),type:"POST",tableSelector:"#tbl"};newRecord(n,a,"#addIpdTimelineModal"),setTimeout((function(){t($("#ipdPatientDepartmentId").val())}),500)})),listenClick(".edit-timeline-btn",(function(){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var e,t=$(this).data("timeline-id");e=t,$.ajax({url:$("#showIpdTimelinesUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){if(""!=e.data.ipd_timeline_document_url){var t=e.data.ipd_timeline_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editPreviewIpdTimelineImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editPreviewIpdTimelineImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):$("#editPreviewIpdTimelineImage").css("background-image",'url("'+e.data.ipd_timeline_document_url+'")'),$("#ipdTimeDocumentUrl").show(),$(".btn-view").show()}else $("#ipdTimeDocumentUrl").hide(),$(".btn-view").hide(),$("#editPreviewIpdTimelineImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")');$("#ipdTimelineId").val(e.data.id),$("#editIpdTimelineTitle").val(e.data.title),document.querySelector("#editIpdTimelineDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editIpdTimelineDescription").val(e.data.description),$("#ipdTimeDocumentUrl").attr("href",e.data.ipd_timeline_document_url),1==e.data.visible_to_person?$("#editIpdTimelineVisibleToPerson").prop("checked",!0):$("#editIpdTimelineVisibleToPerson").prop("checked",!1),$("#editIpdTimelineModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdTimelineForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnIpdTimelineEdit");t.button("loading");var a=$("#ipdTimelineId").val(),n=$("#showIpdTimelinesUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"POST",tableSelector:"#tbl"};editRecord(i,t,"#editIpdTimelineModal")})),listenClick(".delete-timeline-btn",(function(){var e=$(this).data("timeline-id");swal({title:"Delete !",text:Lang.get("messages.common.are_you_sure_want_to_delete_this")+" "+Lang.get("messages.lunch_break.ipd_timeline")+" ?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:"Yes",cancel:"No"}}).then((function(a){a&&$.ajax({url:$("#showIpdTimelinesUrl").val()+"/"+e,type:"DELETE",dataType:"json",success:function(e){e.success&&setTimeout((function(){t($("#ipdPatientDepartmentId").val())}),500),swal({title:Lang.get("messages.common.deleted")+"!",text:Lang.get("messages.lunch_break.ipd_timeline")+" "+Lang.get("messages.common.has_been_deleted"),icon:"success",confirmButtonColor:"#50cd89",timer:2e3}),livewire.emit("refresh")}})}))})),listenHiddenBsModal("#addIpdTimelineModal",(function(){resetModalForm("#addIpdTimelineNewForm","#ipdTimelineErrorsBox"),$("#previewIpdTimelineImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#previewIpdTimelineImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#editIpdTimelineModal",(function(){resetModalForm("#editIpdTimelineForm","#editIpdTimelineErrorsBox")})),listenChange("#ipdTimelineDocumentImage",(function(){var t=e($(this),"#ipdTimelineErrorsBox");isEmpty(t)||0==t||($("#ipdTimelineErrorsBox").html("").hide(),displayDocument(this,"#previewIpdTimelineImage",t))})),listenChange("#editIpdTimelineDocumentImage",(function(){var t=e($(this),"#editIpdTimelineErrorsBox");isEmpty(t)||0==t||($("#editIpdTimelineErrorsBox").html("").hide(),displayDocument(this,"#editPreviewIpdTimelineImage",t))})),listenClick(".removeIpdTimeline",(function(){defaultImagePreview("#previewIpdTimelineImage")})),listenClick(".removeIpdTimelineEdit",(function(){defaultImagePreview("#editPreviewIpdTimelineImage")}))})(),(()=>{function loadIpdPaymentData(){($("#addIpdPaymentNewForm").length||$("#editIpdPaymentForm").length)&&($("#ipdPaymentDate,#editIpdPaymentDate").flatpickr({dateFormat:"Y-m-d",enableTime:!1,minDate:$("#showIpdPatientCaseDate").val(),widgetPositioning:{horizontal:"right",vertical:"bottom"},locale:$(".userCurrentLanguage").val()}),$("#ipdPaymentModeId").select2({width:"100%",dropdownParent:$("#addIpdPaymentModal")}),$("#editIpdPaymentModeId").select2({width:"100%",dropdownParent:$("#editIpdPaymentModal")}))}function renderIpdPaymentData(e){$.ajax({url:$("#showIpdPaymentUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.ipd_payment_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editIpdPaymentPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editIpdPaymentPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""!=e.data.ipd_payment_document_url&&$("#editIpdPaymentPreviewImage").css("background-image",'url("'+e.data.ipd_payment_document_url+'")'),$("#ipdPaymentId").val(e.data.id),$("#editIpdPaymentAmount").val(e.data.amount),document.querySelector("#editIpdPaymentDate")._flatpickr.setDate(moment(e.data.date).format("YYYY-MM-DD h:mm A")),$("#editIpdPaymentNote").val(e.data.notes),$("#editIpdPaymentModeId").val(e.data.payment_mode).trigger("change.select2"),$("#editIpdPaymentModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}function isValidIpdPaymentDocument(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("messages.new_change.document_must_be_file_type")).show(),!1):a}function deleteItemPaymentAjax(url,tableId,header){var callFunction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({url,type:"DELETE",dataType:"json",success:function success(obj){obj.success&&Livewire.emit("resetPage"),Swal.fire({icon:"success",title:"Deleted!",confirmButtonColor:"#009ef7",text:header+" "+Lang.get("messages.common.has_been_deleted"),timer:2e3}),callFunction&&eval(callFunction)},error:function(e){Swal.fire({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3})}})}document.addEventListener("turbo:load",loadIpdPaymentData),listen("click",".ipdpayment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdPaymentUrl").val()+"/"+t,null,$("#ipdPaymentLang").val())})),listen("click",".ipdpayment-edit-btn",(function(e){$(".ajaxCallIsRunning").val()||(ajaxCallInProgress(),renderIpdPaymentData($(e.currentTarget).attr("data-id")))})),listenSubmit("#addIpdPaymentNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnIpdPaymentSave");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$("#showIpdPaymentCreateUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addIpdPaymentModal").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#ipdPaymentValidationErrorsBox",e)},complete:function(){t.button("reset")}})})),listenSubmit("#editIpdPaymentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditIpdPaymentSave");t.button("loading");var a=$("#ipdPaymentId").val(),n=$("#showIpdPaymentUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"POST"};editIpdPaymentRecord(i,t,"#editIpdPaymentModal")})),listenHiddenBsModal("#addIpdPaymentModal",(function(){resetModalForm("#addIpdPaymentNewForm","#ipdPaymentValidationErrorsBox"),$("#ipdPaymentPreviewImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#ipdPaymentPreviewImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#editIpdPaymentModal",(function(){resetModalForm("#editIpdPaymentForm","#editIpdPaymentValidationErrorsBox")})),listenChange("#ipdPaymentDocumentImage",(function(){var e=isValidIpdPaymentDocument($(this),"#ipdPaymentValidationErrorsBox");isEmpty(e)||0==e||($("#ipdPaymentValidationErrorsBox").html("").hide(),displayDocument(this,"#ipdPaymentPreviewImage",e))})),listenChange("#editIpdPaymentDocumentImage",(function(){var e=isValidIpdPaymentDocument($(this),"#editIpdPaymentValidationErrorsBox");isEmpty(e)||0==e||($("#editIpdPaymentValidationErrorsBox").html("").hide(),displayDocument(this,"#editIpdPaymentPreviewImage",e))})),window.editIpdPaymentRecord=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#EditModal",n=""===e.formSelector?e.formData:new FormData($(e.formSelector)[0]);$.ajax({url:e.url,type:e.type,data:n,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$(a).modal("hide"),livewire.emit("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})},listen("click","#ipdPaymentDocumentImage",(function(){defaultImagePreview("#ipdPaymentPreviewImage")})),listen("click",".removeIpdPaymentImageEdit",(function(){defaultImagePreview("#editIpdPaymentPreviewImage")}))})(),listenClick(".viewIpdPrescription",(function(){$.ajax({url:$("#showIpdPrescriptionUrl").val()+"/"+$(this).data("id"),type:"get",success:function(e){$("#ipdPrescriptionViewData").html(e),$("#showIpdPrescriptionModal").modal("show"),ajaxCallCompleted()}})})),listenClick(".printIpdPrescription",(function(){var e=document.getElementById("DivIdToPrint"),t=window.open("","Print-Window");t.document.open(),t.document.write('<html><link href="'+$("#showListBootstrapUrl").val()+'" rel="stylesheet" type="text/css"/><body onload="window.print()">'+e.innerHTML+"</body></html>"),t.document.close(),setTimeout((function(){t.close()}),10)})),document.addEventListener("turbo:load",(function(){var e;$("#showListIpdPatientDepartmentId").length&&(e=$("#showListIpdPatientDepartmentId").val(),$.ajax({url:$("#showListIpdTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#ipdTimelines").html(e)}}))})),(()=>{function e(e){$.ajax({type:"POST",url:$(".patientRazorpayPaymentFailed").val(),data:{data:e},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)}})}document.addEventListener("turbo:load",(function(){if($("#showListIpdTimelinesUrl").length){var t={key:$(".patientRazorpayDataKey").val(),amount:0,currency:"INR",name:$(".patientRazorpayDataName").val(),order_id:"",description:"",image:$(".patientRazorpayDataImage").val(),callback_url:$(".patientRazorpayDataCallBackURL").val(),prefill:{email:"",name:"",contact:""},readonly:{name:"true",email:"true",contact:"true"},modal:{ondismiss:function(){displayErrorMessage(Lang.get("messages.flash.your_payment_failed"))}}};listenClick("#ipdPaymentRazorpayBtn",(function(){$.ajax({type:"GET",url:route("patient.razorpay.init"),data:{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()},success:function(a){if(a.url&&(window.location.href=a.url),a.success){var n=a.data,i=n.id,r=n.currency,s=n.amount,o=n.name,d=n.email,l=n.contact;t.currency=r,t.amount=s,t.order_id=i,t.prefill.name=o,t.prefill.email=d,t.prefill.contact=l;var c=new Razorpay(t);c.open(),c.on("payment.failed",e)}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})}))}})),listenClick("#ipdPaymentPaypalBtn",(function(){$.ajax({type:"GET",url:route("patient.paypal.init"),data:{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick("#ipdPaymentPaytmBtn",(function(){window.location.replace(route("patient.paytm.init",{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()}))})),listenClick("#ipdPaymentPayStackBtn",(function(){window.location.replace(route("patient.paystack.init",{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()}))}))})(),(()=>{function e(e){var t=e.replace(/\D/g,"");return parseInt(t)}function t(){var t=$(".currentCurrency").val();totalCharges=$("#totalCharges").data("amount"),totalPayments=$("#totalPayments").data("amount"),grossTotal=$("#grossTotal").data("amount"),bedCharge=$("#bedCharge").data("amount"),discountPercent=e($("#discountPercent").val()),taxPercentage=e($("#taxPercentage").val()),otherCharges=e($("#otherCharges").val()),discountPercent=isNaN(discountPercent)?0:discountPercent,taxPercentage=isNaN(taxPercentage)?0:taxPercentage,otherCharges=isNaN(otherCharges)?0:otherCharges;totalCharges,totalPayments,otherCharges;totalDiscount=a(discountPercent,totalCharges+bedCharge),totalTax=a(taxPercentage,totalCharges+bedCharge),netPayabelAmount=isNaN(totalCharges+otherCharges+totalTax-(totalPayments+totalDiscount))?0:totalCharges+otherCharges+totalTax-(totalPayments+totalDiscount),finalNetPayabelAmount=netPayabelAmount+bedCharge,finalNetPayabelAmount>0?$("#billStatus").html("Unpaid"):(finalNetPayabelAmount=0,$("#billStatus").html("Paid")),$("#netPayabelAmount").text(t+addCommas(Math.round(finalNetPayabelAmount).toFixed(2)))}function a(e,t){return e/100*t}document.addEventListener("turbo:load",(function(){if(!$("#ipdBillForm").length)return!1;1==$("#showIpdBillStatus").val()&&$(" #discountPercent, #taxPercentage,#otherCharges ").prop("disabled",!0);t()})),listenKeyup("#discountPercent, #taxPercentage, #otherCharges",(function(){"discountPercent"!=this.id&&"taxPercentage"!=this.id||parseInt(removeCommas($(this).val()))>100&&$(this).val(100),t()})),listenSubmit("#ipdBillForm",(function(e){e.preventDefault(),$(" #discountPercent, #taxPercentage,#otherCharges").prop("disabled",!1),screenLock(),$("#saveIpdBillbtn").attr("disabled",!0);var a=jQuery(this).find("#saveIpdBillbtn");a.button("loading"),t();var n=new FormData($(this)[0]);n.append("total_charges",totalCharges),n.append("total_payments",totalPayments),n.append("bed_charge",bedCharge),n.append("gross_total",grossTotal),n.append("net_payable_amount",finalNetPayabelAmount),$.ajax({url:$("#showIpdBillSaveUrl").val(),type:"POST",dataType:"json",data:n,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.reload()},error:function(e){UnprocessableInputError(e),$("#saveIpdBillbtn").attr("disabled",!1)},complete:function(){screenUnLock(),a.button("reset")}})}))})(),listen("click",".deleteOpdPatientBtn",(function(e){var t=$(".deleteOpdPatientBtn").attr("data-id");deleteItem($("#indexOpdPatientUrl").val()+"/"+t,null,$("#opdPatientLang").val())})),document.addEventListener("turbo:load",(function(){if($("#createOpdPatientForm").length||$("#editOpdPatientDepartmentForm").length){$("#opdPatientId, #opdDoctorId,#opdPaymentMode,#editOpdPatientId, #editOpdDoctorId,#editOpdPaymentMode").select2({width:"100%"}),$("#opdCaseId ,#editOpdCaseId").select2({width:"100%",placeholder:Lang.get("messages.ipd_patient.choose_case")});var e=$("#opdAppointmentDate,#editOpdAppointmentDate ").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()});$(".lastVisit").val()&&($("#opdPatientId,#editOpdPatientId").val($(".lastVisit").val()).trigger("change"),$("#opdPatientId,#editOpdPatientId").attr("disabled",!0)),$(".isEdit").val()?($("#opdPatientId,#editOpdPatientId").attr("disabled",!0),$("#opdPatientId,#editOpdPatientId").trigger("change"),e.set("minDate",$("#opdAppointmentDate,#editOpdAppointmentDate").val())):(e.setDate(new Date),e.set("minDate",new Date))}})),listenSubmit("#createOpdPatientForm, #editOpdPatientDepartmentForm",(function(){$("#opdPatientId,#editOpdPatientId").attr("disabled",!1),$("#btnOpdSave,#btnEditOpdSave").attr("disabled",!0)})),listenChange("#opdPatientId,#editOpdPatientId",(function(){""!==$(this).val()&&$.ajax({url:$(".opdPatientCasesUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#opdCaseId,#editOpdCaseId").empty(),$("#opdCaseId,#editOpdCaseId").removeAttr("disabled"),$.each(e.data,(function(e,t){$(".patientCaseId").val()==t?$("#editOpdCaseId").append($("<option></option>").attr("value",e).attr("selected",!0).text(t)):$("#opdCaseId,#editOpdCaseId").append($("<option></option>").attr("value",e).text(t))}))):$("#opdCaseId,#editOpdCaseId").prop("disabled",!0)}}),$("#opdCaseId,#editOpdCaseId").empty(),$("#opdCaseId,#editOpdCaseId").prop("disabled",!0),$("#opdCaseId ,#editOpdCaseId").select2({width:"100%",placeholder:Lang.get("messages.ipd_patient.choose_case")})})),listenChange("#opdDoctorId,#editOpdDoctorId",(function(){""!==$(this).val()&&$.ajax({url:$(".doctorOpdChargeUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?$("#opdStandardCharge,#editOpdStandardCharge").val(e.data[0].standard_charge):$("#opdStandardCharge,#editOpdStandardCharge").val(0)}})})),listen("click",".delete-visit-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showOpdPatientUrl").val()+"/"+t,"",$("#opdPatientVisitLang").val())})),document.addEventListener("turbo:load",(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),listenClick("#ipdPaymentStripeBtn",(function(){var e=this,t={amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()},a=$("#stripeConfigKey").val(),n=Stripe(a);$(this).html('<div class="spinner-border spinner-border-sm " role="status">\n                                            <span class="sr-only">Loading...</span>\n                                        </div>').addClass("disabled"),$.post($("#showListIpdStripePaymentUrl").val(),t).done((function(e){var t=e.data.sessionId;n.redirectToCheckout({sessionId:t}).then((function(e){$(this).html("Make Payment").removeClass("disabled"),manageAjaxErrors(e)}))})).catch((function(t){$(e).html("Make Payment").removeClass("disabled"),manageAjaxErrors(t)}))}))})),document.addEventListener("turbo:load",(function(){($("#opdDiagnosisReportDate").length||$("#editOpdDiagnosisReportDate").length)&&$("#opdDiagnosisReportDate, #editOpdDiagnosisReportDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",useCurrent:!0,sideBySide:!0,minDate:moment($("#showOpdAppointmentDate").val()).format("YYYY-MM-DD"),widgetPositioning:{horizontal:"left",vertical:"bottom"},locale:$(".userCurrentLanguage").val()})})),listenClick(".deleteOpdDiagnosisBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showOpdDiagnosisUrl").val()+"/"+t,null,$("#opdDiagnosisLang").val())})),listenSubmit("#addOpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnOpdDiagnosisSave");t.button("loading");var a={formSelector:$(this),url:$("#showOpdDiagnosisCreateUrl").val(),type:"POST",tableSelector:null};newRecord(a,t,"#add_opd_diagnoses_modal")})),listenClick(".editOpdDiagnosisBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderOpdDiagnosisData(t)}})),window.renderOpdDiagnosisData=function(e){$.ajax({url:$("#showOpdDiagnosisUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.opd_diagnosis_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""!=e.data.opd_diagnosis_document_url&&$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+e.data.opd_diagnosis_document_url+'")'),$("#opdDiagnosisId").val(e.data.id),$("#editOpdDiagnosisReportType").val(e.data.report_type),document.querySelector("#editOpdDiagnosisReportDate")._flatpickr.setDate(moment(e.data.report_date).format()),$("#editOpdDiagnosisDescription").val(e.data.description),""!=e.data.opd_diagnosis_document_url?($("#opdDiagnosisDocumentUrl").show(),$(".btn-view").show(),$("#opdDiagnosisDocumentUrl").attr("href",e.data.opd_diagnosis_document_url)):($("#opdDiagnosisDocumentUrl").hide(),$(".btn-view").hide()),$("#edit_opd_diagnoses_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editOpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditOpdDiagnosisSave");t.button("loading");var a=$("#opdDiagnosisId").val(),n=$("#showOpdDiagnosisUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"POST",tableSelector:null};editRecord(i,t,"#edit_opd_diagnoses_modal")})),listenHiddenBsModal("#add_opd_diagnoses_modal",(function(){resetModalForm("#addOpdDiagnosisForm","#opdDiagnosisErrorsBox"),$("#opdDiagnosisPreviewImage").attr("src",$("#showOpdDefaultDocumentImageUrl").val()),$("#opdDiagnosisPreviewImage").css("background-image",'url("'+$("#showOpdDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_opd_diagnoses_modal",(function(){resetModalForm("#editOpdDiagnosisForm","#editOpdDiagnosisErrorsBox"),$("#editOpdDiagnosisPreviewImage").attr("src",$("#showOpdDefaultDocumentImageUrl").val()),$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+$("#showOpdDefaultDocumentImageUrl").val()+'")')})),listenChange("#opdDiagnosisDocumentImage",(function(){var e=isValidDocumentOpdDiagnosis($(this),"#opdDiagnosisErrorsBox");isEmpty(e)||0==e||($("#opdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#opdDiagnosisPreviewImage",e))})),listenChange("#editOpdDiagnosisDocumentImage",(function(){var e=isValidDocumentOpdDiagnosis($(this),"#editOpdDiagnosisErrorsBox");isEmpty(e)||0==e||($("#editOpdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#editOpdDiagnosisPreviewImage",e))})),window.isValidDocumentOpdDiagnosis=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("messages.new_change.document_must_be_file_type")).show(),a},listenClick(".removeOpdDiagnosisImage",(function(){defaultImagePreview("#opdDiagnosisPreviewImage")})),listenClick(".removeOpdDiagnosisImageEdit",(function(){defaultImagePreview("#editOpdDiagnosisPreviewImage")})),listen("change",".report-generate",(function(e){var t=$(this).attr("data-id");updateDiagnosisReportStatus(t)})),window.updateDiagnosisReportStatus=function(e){$.ajax({url:route("patient.diagnosis.report.status",e),method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},(()=>{function e(e){$.ajax({url:$("#showOpdTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#opdTimelines").html(e)}})}document.addEventListener("turbo:load",(function(){if(!$("#opdTimelineDate").length&&!$("#editOpdTimelineDate").length)return;e($("#opdPatientDepartmentId").val()),$("#opdTimelineDate, #editOPdTimelineDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:moment($("#showOpdAppointmentDate").val()).format("YYYY-MM-DD"),locale:$(".userCurrentLanguage").val()})})),listenSubmit("#addOpdTimelineNewForm",(function(t){t.preventDefault();var a=jQuery(this).find("#btnOpdTimelineSave");a.button("loading");var n={formSelector:$(this),url:$("#showOpdTimelineCreateUrl").val(),type:"POST",tableSelector:"#tbl"};newRecord(n,a,"#addOpdTimelineModal"),setTimeout((function(){e($("#opdPatientDepartmentId").val())}),500)})),listenClick(".edit-OpdTimeline-btn",(function(){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var e=$(this).data("timeline-id");renderOpdTimelineData(e)}})),window.renderOpdTimelineData=function(e){$.ajax({url:$("#showOpdTimelinesUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){if(""!=e.data.opd_timeline_document_url){var t=e.data.opd_timeline_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editOpdPreviewTimelineImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editOpdPreviewTimelineImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):$("#editOpdPreviewTimelineImage").css("background-image",'url("'+e.data.opd_timeline_document_url+'")'),$("#editOpdTimeDocumentUrl").show(),$(".btn-view").show()}else $("#editOpdTimeDocumentUrl").hide(),$(".btn-view").hide(),$("#editOpdPreviewTimelineImage").css("background-image",'url("'+$("#showOpdDefaultDocumentImageUrl").val()+'")');$("#opdTimelineId").val(e.data.id),$("#editOPdTimelineTitle").val(e.data.title),document.querySelector("#editOPdTimelineDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editOpdTimelineDescription").val(e.data.description),$("#editOpdTimeDocumentUrl").attr("href",e.data.opd_timeline_document_url),1==e.data.visible_to_person?$("#editOpdTimelineVisibleToPerson").prop("checked",!0):$("#editOpdTimelineVisibleToPerson").prop("checked",!1),$("#editOpdTimelineModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editOpdTimelineForm",(function(t){t.preventDefault();var a=jQuery(this).find("#btnOpdTimelineEdit");a.button("loading");var n=$("#opdTimelineId").val(),i=$("#showOpdTimelinesUrl").val()+"/"+n,r={formSelector:$(this),url:i,type:"POST",tableSelector:"#tbl"};editRecord(r,a,"#editOpdTimelineModal"),setTimeout((function(){e($("#opdPatientDepartmentId").val())}),500)})),listenClick(".delete-OpdTimeline-btn",(function(){var t=$(this).data("timeline-id");swal({title:$(".deleteVariable").val()+"!",text:$(".confirmVariable").val()+$("#opdTimelineLang").val()+"?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:$("#opdTimelineLangYes").val(),cancel:$("#opdTimelineLangNo").val()}}).then((function(a){a&&$.ajax({url:$("#showOpdTimelinesUrl").val()+"/"+t,type:"DELETE",dataType:"json",success:function(t){t.success&&setTimeout((function(){e($("#opdPatientDepartmentId").val())}),500),swal({title:$(".deletedVariable").val(),text:$("#opdTimelineLang").val()+$(".hasBeenDeletedVariable").val(),icon:"success",confirmButtonColor:"#50cd89",timer:2e3,buttons:{confirm:$(".okVariable").val()}}),livewire.emit("refresh")}})}))})),listenHiddenBsModal("#addOpdTimelineModal",(function(){resetModalForm("#addOpdTimelineNewForm","#timeLinevalidationErrorsBox"),$("#previewTimelineImage").attr("src",$(".defaultDocumentImageUrl").val()),$("#previewTimelineImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#editOpdTimelineModal",(function(){resetModalForm("#editOpdTimelineForm","#editTimelineValidationErrorsBox")})),listenChange("#opdTimelineDocumentImage",(function(){var e=isValidOpdTimelineDocument($(this),"#timeLinevalidationErrorsBox");isEmpty(e)||0==e||($("#timeLinevalidationErrorsBox").html("").hide(),displayDocument(this,"#opdPreviewTimelineImage",e))})),listenChange("#editOpdTimelineDocumentImage",(function(){var e=isValidOpdTimelineDocument($(this),"#editTimelineValidationErrorsBox");isEmpty(e)||0==e||($("#editTimelineValidationErrorsBox").html("").hide(),displayDocument(this,"#editOpdPreviewTimelineImage",e))})),window.isValidOpdTimelineDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("messages.new_change.document_must_be_file_type")).show(),a},listenClick(".removeOpdTimelineImage",(function(){defaultImagePreview("#opdPreviewTimelineImage")})),listenClick(".removeOpdTimelineImageEdit",(function(){defaultImagePreview("#editOpdPreviewTimelineImage")}))})(),document.addEventListener("turbo:load",(function(){var e;$("#showOpdListPatientDepartmentId").length&&(e=$("#showOpdListPatientDepartmentId").val(),$.ajax({url:$("#showOpdListTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#opdTimelines").html(e)}}))})),document.addEventListener("turbo:load",(function(){if($("#OPDtab").length){var e=window.location.hash;$('#OPDtab a[href="'+e+'"]').tab("show")}})),listenClick("#OPDtab a",(function(e){e.preventDefault(),$(this).tab("show")})),$("ul.nav-tabs > li > a").on("shown.bs.tab",(function(e){var t=$(e.target).attr("href").substr(1);window.location.hash=t})),(()=>{"use strict";listenClick("#callLogResetFilter",(function(){$("#callType").val(0).trigger("change"),hideDropdownManually($("#callTypeFilterBtn"),$(".dropdown-menu"))})),listenClick(".call-log-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".callLogUrl").val()+"/"+t,"#callLogTbl",$("#callLogLang").val())})),listenChange("#callType",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())}))})(),document.addEventListener("turbo:load",(function(){if(!$("#createCallLogForm").length&&!$("#editCallLogForm").length)return!1;var e=void 0;$("editCallLogId").length?$("#callLogDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:moment(new Date).format("YYYY-MM-DD"),locale:$(".userCurrentLanguage").val(),onChange:function(e,t,a){var n=moment($("#callLogDate").val()).format();"undefined"!=typeof followUpDate&&followUpDate.set("minDate",n)}}):$("#callLogDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:moment(new Date).format("YYYY-MM-DD"),locale:$(".userCurrentLanguage").val(),onChange:function(t,a,n){var i=moment($("#callLogDate").val()).format();void 0!==e&&e.set("minDate",i)}}),e=$("#callLogFollowUpDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()});var t=moment($("#callLogDate").val()).format();e.set("minDate",t)})),listenSubmit("#createCallLogForm, #editCallLogForm",(function(){if($(".btnSave").attr("disabled",!0),""!==$(".error-msg").text())return $(".phoneNumber").focus(),$(".btnSave").attr("disabled",!1),!1})),listen("keyup keypress","#createCallLogForm, #editCallLogForm",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),listen("keyup keypress","#createCallLogForm, #editCallLogForm",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),document.addEventListener("turbo:load",(function(){$("#purposeArr").length&&$("#purposeArr").select2({width:"100%"})})),listenClick(".delete-visitor-btn",(function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-id");deleteItem($(".visitorUrl").val()+"/"+t,"#visitorTbl",$("#visitorLang").val())})),listenClick("#visitorResetFilter",(function(){$("#visitorsHead").val(0).trigger("change"),hideDropdownManually($("#visitorsFilterBtn"),$(".dropdown-menu"))})),listenChange("#visitorsHead",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),document.addEventListener("turbo:load",(function(){$("#visitorDate").length&&$("#visitorDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()}),$("#visitorOutTime").length&&($("#visitorInTime,#visitorOutTime").flatpickr({enableTime:!0,enableSeconds:!0,noCalendar:!0,dateFormat:"H:i:S",locale:$(".userCurrentLanguage").val()}),$("#visitorOutTime").flatpickr({enableTime:!0,enableSeconds:!0,noCalendar:!0,dateFormat:"H:i:S",minTime:moment(new Date).format("HH:mm:ss"),locale:$(".userCurrentLanguage").val()}),$("#visitorPurpose").select2({width:"100%"}))})),listenSubmit("#createVisitorForm, #editVisitorForm",(function(){if(""!==$(".error-msg").text())return $("#visitorPhoneNumber").focus(),!1})),listen("keyup keypress","#createVisitorForm, #editVisitorForm",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),$("#visitorInTime").on("dp.change",(function(e){$("#visitorOutTime").data("flatpickr").minTime(e.time)})),listenChange("#visitorAttachment",(function(){var e=isValidVisitorDocument($(this),"#visitorErrorsBox");isEmpty(e)||0==e||($("#visitorErrorsBox").html("").hide(),displayDocument(this,"#visitorPreviewImage",e),$("#visitorSave").attr("disabled",!1)),$("#visitorSave").attr("disabled",!1)})),window.isValidVisitorDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("messages.new_change.document_must_be_file_type")).removeClass("d-none"),!1):($(t).addClass("d-none"),a)},listenClick(".visitor-remove-image",(function(){defaultImagePreview("#visitorPreviewImage")})),(()=>{document.addEventListener("turbo:load",(function(){if(!$(".editPostalDate").length)return;$(".date, .editPostalDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()}),e=$(".editPostalDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!1,locale:$(".userCurrentLanguage").val()})}));var e;$(".add_modal").val(),$(".edit_modal").val();function t(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html($(".documentError").val()).removeClass("hide"),$(t).removeAttr("style"),!1):($(t).html($(".documentError").val()).addClass("hide"),a)}listenSubmit(".addPostalForm",(function(e){e.preventDefault(),$(".btnPostalSave").attr("disabled",!0);var t=jQuery(this).find(".btnPostalSave");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$(".postalCreateUrl").val(),type:"POST",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),($("#add_postal_receives_modal").length||$("#edit_postal_receives_modal").length)&&$("#add_postal_receives_modal,#edit_postal_receives_modal").modal("hide"),($("#add_postal_dispatch_modal").length||$("#edit_postal_dispatch_modal").length)&&$("#add_postal_dispatch_modal,#edit_postal_dispatch_modal").modal("hide"),Livewire.emit("refresh"),setTimeout((function(){$(".btnPostalSave").attr("disabled",!1),t.button("reset")}),1e3))},error:function(e){printErrorMessage(".validationErrorsBox",e),setTimeout((function(){$(".btnPostalSave").attr("disabled",!1),t.button("reset")}),1e3)}})})),listenClick(".delete-postal-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".postalUrl").val()+"/"+t,"",$(".name").val())})),listenClick(".edit-postal-btn",(function(t){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var a,n=t.currentTarget.dataset.id;a=n,$.ajax({url:$(".postalUrl").val()+"/"+a+"/edit",type:"GET",success:function(t){if(t.success){if(""!=t.data.document_url){var a=t.data.document_url.split(".").pop().toLowerCase();"pdf"===a?$(".editPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"===a||"doc"===a?$(".editPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""===a?$(".editPreviewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")'):$(".editPreviewImage").css("background-image",'url("'+t.data.document_url+'")')}$($(".hiddenId").val()).val(t.data.id),$(".editFromTitle").val(t.data.from_title),e.setDate(format(t.data.date,"YYYY-MM-DD")),$(".editReferenceNumber").val(t.data.reference_no),$(".editToTitle").val(t.data.to_title),$(".editAddress").val(t.data.address),isEmpty(t.data.document_url)?$(".edit-attachment").addClass("d-none"):$(".documentUrl").attr("href",t.data.document_url),$("#edit_postal_receives_modal").length&&$("#edit_postal_receives_modal").modal("show"),$("#edit_postal_dispatch_modal").length&&$("#edit_postal_dispatch_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit(".editPostalForm",(function(e){e.preventDefault(),$(".btnEditSave").attr("disabled",!0);var t=jQuery(this).find(".btnEditSave");if(t.button("loading"),1==$(".isPostal").val()&&0===$(".editFromTitle").val().trim().length)return displayErrorMessage("The from title is required."),$(".btnEditSave").attr("disabled",!1),!1;if(2==$(".isPostal").val()&&0===$(".editToTitle").val().trim().length)return displayErrorMessage("The to title is required."),$(".btnEditSave").attr("disabled",!1),!1;var a=$($(".hiddenId").val()).val(),n=$(".postalUrl").val()+"/"+a,i={formSelector:$(this),url:n,type:"post",tableSelector:$(".tableName").val()};$("#edit_postal_receives_modal").length&&editRecord(i,t,"#edit_postal_receives_modal"),$("#edit_postal_dispatch_modal").length&&editRecord(i,t,"#edit_postal_dispatch_modal"),$(".btnEditSave").attr("disabled",!1)})),listenChange(".postalAttachment",(function(){var e=t($(this),".validationErrorsBox");isEmpty(e)||0==e||($(".validationErrorsBox").html("").hide(),displayDocument(this,".previewImage",e))})),listenChange(".editAttachment",(function(){if($("#edit_postal_receives_modal").length)$("#edit_postal_receives_modal");$("#edit_postal_dispatch_modal").length&&$("#edit_postal_dispatch_modal");var e=t($(this),"#editReceiveErrorsBox1");isEmpty(e)||0==e||displayDocument(this,".editPreviewImage",e)})),listenClick(".remove-postal-image",(function(){defaultImagePreview(".previewImage")})),listenClick(".remove-postal-image-edit",(function(){defaultImagePreview(".editPreviewImage")})),listenHiddenBsModal("#add_postal_dispatch_modal",(function(){resetModalForm("#addDispatchForm",".validationErrorsBox"),$(".previewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_postal_dispatch_modal",(function(){resetModalForm("#editDispatchForm",".editValidationErrorsBox1"),$(".editPreviewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#add_postal_receives_modal",(function(){resetModalForm("#addReceiveForm",".validationErrorsBox"),$(".previewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_postal_receives_modal",(function(){resetModalForm("#editReceiveForm",".editValidationErrorsBox1"),$(".editPreviewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')}))})(),(()=>{var e;function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}document.addEventListener("turbo:load",(function(){$("#status").select2()})),listenClick(".appointment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#appointmentIndexURL").val()+"/"+t,"#appointmentsTbl",$("#appointmentLang").val())})),listenClick("#resetAppointmentFilter",(function(){a.data("daterangepicker").setStartDate(moment().startOf("week").format("MM/DD/YYYY")),a.data("daterangepicker").setEndDate(moment().endOf("week").format("MM/DD/YYYY")),a.data("daterangepicker").startDate.format("YYYY-MM-D  H:mm:ss"),a.data("daterangepicker").endDate.format("YYYY-MM-D  H:mm:ss"),$("#status").val(2).trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")}));var a=$("#time_range"),n=moment().subtract(29,"days"),i=moment();function r(e,t){$("#time_range").html(e.format("MMM D, YYYY")+" - "+t.format("MMM D, YYYY"))}a.daterangepicker({startDate:n,endDate:i,locale:{customRangeLabel:Lang.get("messages.common.custom"),applyLabel:Lang.get("messages.common.apply"),cancelLabel:Lang.get("messages.common.cancel"),fromLabel:Lang.get("messages.common.from"),toLabel:Lang.get("messages.common.to"),monthNames:[Lang.get("messages.months.jan"),Lang.get("messages.months.feb"),Lang.get("messages.months.mar"),Lang.get("messages.months.apr"),Lang.get("messages.months.may"),Lang.get("messages.months.jun"),Lang.get("messages.months.jul"),Lang.get("messages.months.aug"),Lang.get("messages.months.sep"),Lang.get("messages.months.oct"),Lang.get("messages.months.nov"),Lang.get("messages.months.dec")],daysOfWeek:[Lang.get("messages.weekdays.sun"),Lang.get("messages.weekdays.mon"),Lang.get("messages.weekdays.tue"),Lang.get("messages.weekdays.wed"),Lang.get("messages.weekdays.thu"),Lang.get("messages.weekdays.fri"),Lang.get("messages.weekdays.sat")]},ranges:(e={},t(e,Lang.get("messages.appointment.today"),[moment(),moment()]),t(e,Lang.get("messages.appointment.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),t(e,Lang.get("messages.appointment.last_7_days"),[moment().subtract(6,"days"),moment()]),t(e,Lang.get("messages.appointment.last_30_days"),[moment().subtract(29,"days"),moment()]),t(e,Lang.get("messages.appointment.this_month"),[moment().startOf("month"),moment().endOf("month")]),t(e,Lang.get("messages.appointment.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),e)},r),r(n,i),a.on("apply.daterangepicker",(function(e,t){t.startDate.format("YYYY-MM-D  H:mm:ss"),t.endDate.format("YYYY-MM-D  H:mm:ss"),window.livewire.emit("refresh")}))})(),(()=>{function e(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","gif","webp"])?($(e).val(""),$(t).html($("#indexTestimonialProfileError").val()).removeClass("d-none"),!1):($(t).html($("#indexTestimonialProfileError").val()).addClass("d-none"),a)}document.addEventListener("turbo:load",(function(){if(!$("#indexTestimonialUrl").length)return;$(".testimonialDescription").attr("maxlength",150)})),listenSubmit("#addTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#testimonialSave");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$("#indexTestimonialCreateUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_testimonials").modal("hide"),livewire.emit("refresh"))},error:function(e){printErrorMessage("#testimonialErrorsBox",e)},complete:function(){t.button("reset")}})})),listen("click",".edit-testimonial-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexTestimonialUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&(e.data.document_url.split(".").pop().toLowerCase(),$("#editTestimonialPreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#testimonialId").val(e.data.id),$("#editTestimonialName").val(e.data.name),$("#editTestimonialDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#testimonialDocumentUrl").hide(),$(".btn-view").hide()):($("#testimonialDocumentUrl").show(),$(".btn-view").show(),$("#testimonialDocumentUrl").attr("href",e.data.document_url)),$("#edit_testimonials").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenKeyup(".testimonialDescription",(function(){$(".description").attr("maxlength",150)})),listenSubmit("#editTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editTestimonialSave");t.button("loading");var a=$("#testimonialId").val(),n=new FormData($(this)[0]);$.ajax({url:$("#indexTestimonialUrl").val()+"/"+a,type:"post",data:n,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_testimonials").modal("hide"),livewire.emit("refresh"))},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_testimonials",(function(){resetModalForm("#addTestimonialForm","#add_testimonials #testimonialErrorsBox"),$("#testimonialPreviewImage").attr("src",$("#indexTestimonialDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexTestimonialDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#add_testimonials",(function(){$("#add_testimonials #testimonialErrorsBox").show(),$("#add_testimonials #testimonialErrorsBox").addClass("d-none")})),listenHiddenBsModal("#edit_testimonials",(function(){resetModalForm("#editTestimonialForm","#edit_testimonials #editTestimonialErrorsBox"),$(".editTestimonialPreviewImage").attr("src",$("#indexTestimonialDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexTestimonialDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#edit_testimonials",(function(){$("#edit_testimonials #editTestimonialErrorsBox").show(),$("#edit_testimonials #editTestimonialErrorsBox").addClass("d-none")})),listen("click",".delete-testimonial-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexTestimonialUrl").val()+"/"+t,"",$("#testimonialLang").val())})),listenChange("#testimonialProfile",(function(){var t=e($(this),"#add_testimonials #testimonialErrorsBox");isEmpty(t)||0==t||displayDocument(this,"#testimonialPreviewImage",t)})),listenChange("#editTestimonialProfile",(function(){var t=e($(this),"#edit_testimonials #editTestimonialErrorsBox");isEmpty(t)||0==t||displayDocument(this,"#editTestimonialPreviewImage",t)})),listen("click",".view-testimonial-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexTestimonialUrl").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showTestimonialName").html(""),$("#showTestimonialDescription").html(""),$("#showTestimonialName").append(e.data.name),$("#showTestimonialDescription").append(e.data.description),$("#userProfilePicture").attr("src",e.data.document_url),$("#show_testimonials").appendTo("body").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#bloodDonationsDonorName").select2({width:"100%",dropdownParent:$("#bloodDonationsAddModal")}),$("#bloodDonationsEditDonorName").select2({width:"100%",dropdownParent:$("#bloodDonationsEditModal")}),$("#bloodDonationsAddModal, #bloodDonationsEditModal").on("shown.bs.modal",(function(){$("#bloodDonationsDonorName, #bloodDonationsEditDonorName:first").focus()}))})),listenSubmit("#bloodDonationsAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonationsBtnSave");t.button("loading"),$("#bloodDonationsBtnSave").attr("disabled",!0),$.ajax({url:$("#bloodDonationCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonationsAddModal").modal("hide"),window.livewire.emit("refresh"),setTimeout((function(){t.button("reset")}),2500),$("#bloodDonationsBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#bloodDonationsValidationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#bloodDonationsBtnSave").attr("disabled",!1)}})})),listenSubmit("#bloodDonationsEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonationsEditBtnSave");t.button("loading"),$("#bloodDonationsEditBtnSave").attr("disabled",!0);var a=$("#bloodDonationId").val();$.ajax({url:$("#bloodDonationUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonationsEditModal").modal("hide"),window.livewire.emit("refresh"),$("#bloodDonationsEditBtnSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#bloodDonationsEditBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#bloodDonationsAddModal",(function(){$("#bloodDonationsDonorName").val("").trigger("change.select2"),resetModalForm("#bloodDonationsAddNewForm","#bloodDonationsValidationErrorsBox"),$("#bloodDonationsBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#bloodDonationsEditModal",(function(){resetModalForm("#bloodDonationsEditForm","#bloodDonationsEditValidationErrorsBox"),$("#bloodDonationsEditBtnSave").attr("disabled",!1)})),listenClick(".blood-donations-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodDonationUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodDonationId").val(t.id),$("#bloodDonationsEditDonorName").val(t.blood_donor_id),$("#bloodDonationsEditDonorName").trigger("change"),$("#editBags").val(t.bags),$("#bloodDonationsEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".blood-donations-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodDonationUrl").val()+"/"+t,"#bloodDonationTable",$("#bloodDonationLang").val())}))})(),(()=>{"use strict";function e(e,t){$.ajax({url:$("#bloodGroupUrl").val(),type:"get",dataType:"json",data:{id:t},success:function(t){$(e).empty(),$.each(t.data,(function(t,a){$(e).append($("<option></option>").attr("value",t).text(a))}))}})}document.addEventListener("turbo:load",(function(){$("#bloodIssuesDoctorName,#bloodIssuesPatientName,#bloodIssuesDonorName,#bloodIssuesBloodGroup").select2({width:"100%",dropdownParent:$("#bloodIssuesAddModal")}),$("#editBloodIssueDoctorName,#editBloodIssuePatientName,#editBloodIssueDonorName,#editBloodIssueGroup").select2({width:"100%",dropdownParent:$("#bloodIssuesEditModal")});$("#bloodIssueDate").flatpickr({enableTime:!0,defaultDate:new Date,maxDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()})})),listenSubmit("#bloodIssuesAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodIssuesBtnSave");t.button("loading"),$("#bloodIssuesBtnSave").attr("disabled",!0),$.ajax({url:$("#bloodIssueCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodIssuesAddModal").modal("hide"),window.livewire.emit("refresh"),setTimeout((function(){t.button("reset")}),2500),$("#bloodIssuesBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#bloodIssuesValidationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#bloodIssuesBtnSave").attr("disabled",!1)}})})),listenSubmit("#bloodIssuesEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodIssuesEditBtnSave");t.button("loading"),$("#bloodIssuesEditBtnSave").attr("disabled",!0);var a=$("#bloodIssueId").val();$.ajax({url:$("#bloodIssueUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodIssuesEditModal").modal("hide"),window.livewire.emit("refresh"),$("#bloodIssuesEditBtnSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#bloodIssuesEditBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".blood-issues-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodIssueUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodIssueId").val(t.id),$("#editBloodIssueDate").flatpickr({enableTime:!0,maxDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}).setDate(t.issue_date),$("#editBloodIssueDoctorName").val(t.doctor_id).trigger("change"),$("#editBloodIssuePatientName").val(t.patient_id).trigger("change"),$("#editBloodIssueDonorName").val(t.donor_id).trigger("change",[{isEdit:!0}]),$("#editBloodIssueAmount").val(t.amount),$(".price-input").trigger("input"),$("#editBloodIssueRemarks").val(t.remarks),$("#bloodIssuesEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenChange("#bloodIssuesDonorName",(function(){e("#bloodIssuesBloodGroup",$(this).val())})),listenChange("#editBloodIssueDonorName",(function(){e("#editBloodIssueGroup",$(this).val())})),listenHiddenBsModal("#bloodIssuesAddModal",(function(){$("#bloodIssuesBtnSave").attr("disabled",!1),resetModalForm("#bloodIssuesAddNewForm","#bloodIssuesValidationErrorsBox")})),listenHiddenBsModal("#bloodIssuesEditModal",(function(){$("#bloodIssuesDtnSave").attr("disabled",!1),resetModalForm("#bloodIssuesEditForm","#editValidationErrorsBox")})),listenClick(".blood-issues-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodIssueUrl").val()+"/"+t,"#bloodIssuesTable",$("#bloodIssueLang").val())}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#indexLiveConsultationUrl").length)return;listenShownBsModal("#add_consulatation_modal",(function(){$(".doctor-name,.patient-name,.consultation-type,.consultation-type-number,.change-status").select2({width:"100%",dropdownParent:"#add_consulatation_modal"})})),listenShownBsModal("#edit_consulatation_modal",(function(){$(".edit-doctor-name,.edit-patient-name,.edit-consultation-type,.edit-consultation-type-number,.edit-change-status").select2({width:"100%",dropdownParent:"#edit_consulatation_modal"})})),$("#liveConsultationFilterStatusArr").select2({width:"100%"}),$(".consultation-date").flatpickr({enableTime:!0,defaultDate:new Date,minDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$(".edit-consultation-date").flatpickr({enableTime:!0,minDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$(".change-consultation-status").select2({width:"100%"})})),listenHiddenBsModal("#add_consulatation_modal",(function(){resetModalForm("#addConsultationForm","#consultationErrorsBox"),$(".consultation-type, .consultation-type-number").val("").trigger("change"),$("select").each((function(e,t){var a="#"+$(this).attr("id");$(a).val(""),$(a).prop("selectedIndex",0).trigger("change")})),$("#consultationTypeNumber").val(null).trigger("change"),$("#consultationTypeNumber").append($('<option selected="selected" value="">Select Type Number</option>'))})),listenHiddenBsModal("#edit_consulatation_modal",(function(){resetModalForm("#editConsultationForm","#editConsultationErrorsBox")}));var e=null;listenChange(".consultation-type, .edit-consultation-type",(function(){!function(e,t,a){""!==$(e).val()&&$.ajax({url:$("#indexLiveConsultationTypeNumber").val(),type:"get",dataType:"json",data:{consultation_type:t,patient_id:a},success:function(t){0!==t.data.length?($(e).empty(),$(e).removeAttr("disabled"),$(e).append('<option selected="selected" value="">'+Lang.get("messages.common.select_type_number")+"</option>"),$.each(t.data,(function(t,a){$(e).append($("<option></option>").attr("value",t).text(a))})),$(".consultation-type-number").select2({width:"100%",dropdownParent:$("#add_consulatation_modal")}),$(".edit-consultation-type-number").select2({width:"100%",dropdownParent:$("#edit_consulatation_modal")})):($(e).empty(),$(e).append('<option selected="selected" value="">'+Lang.get("messages.common.select_type_number")+"</option>"),$(e).prop("disabled",!0))}});$(e).empty(),$(e).prop("disabled",!0),$(e).append("<option>Select Type Number</option>")}(".consultation-type-number, .edit-consultation-type-number",$(this).val(),e)})),listenChange(".patient-name, .edit-patient-name",(function(){""!==$(this).val()&&(e=$(this).val(),$(".consultation-type-number, .edit-consultation-type-number").empty(),$(".consultation-type-number, .edit-consultation-type-number").append('<option selected="selected" value="">'+Lang.get("messages.common.select_type_number")+"</option>"),$(".consultation-type, .edit-consultation-type").removeAttr("disabled"))})),listenSubmit("#addConsultationForm",(function(e){e.preventDefault();var t=jQuery(this).find("#consultationSave");t.button("loading"),$("#consultationSave").attr("disabled",!0),$.ajax({url:$("#indexLiveConsultationCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_consulatation_modal").modal("hide"),setTimeout((function(){t.button("reset")}),2500),$("#consultationSave").attr("disabled",!1),livewire.emit("refresh"))},error:function(e){printErrorMessage("#consultationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#consultationSave").attr("disabled",!1)}})})),listenSubmit("#editConsultationForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editConsultationSave");t.button("loading"),$("#editConsultationSave").attr("disabled",!0);var a=$("#liveConsultationId").val();$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_consulatation_modal").modal("hide"),$("#editConsultationSave").attr("disabled",!1),livewire.emit("refresh"))},error:function(e){manageAjaxErrors(e),$("#editConsultationSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".editConsultationBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#liveConsultationId").val(t.id),$(".edit-consultation-title").val(t.consultation_title),$(".edit-consultation-date").val(moment(t.consultation_date).format("YYYY-MM-DD h:mm A")),$(".edit-consultation-duration-minutes").val(t.consultation_duration_minutes),$(".edit-patient-name").val(t.patient_id).trigger("change"),$(".edit-doctor-name").val(t.doctor_id).trigger("change"),$(".host-enable,.host-disabled").prop("checked",!1),t.host_video,$('input[name="host_video"][value='.concat(t.host_video,"]")).prop("checked",!0),$(".client-enable,.client-disabled").prop("checked",!1),t.participant_video,$('input[name="participant_video"][value='.concat(t.participant_video,"]")).prop("checked",!0),$(".edit-consultation-type").val(t.type).trigger("change"),setTimeout((function(){$(".edit-consultation-type-number").val(t.type_number).trigger("change")}),1e3),$(".edit-description").val(t.description),$("#edit_consulatation_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".startConsultationBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+t+"/start",type:"GET",success:function(e){if(e.success){var t=e.data;$("#startConsultationId").val(t.liveConsultation.id),$(".start-modal-title").text(t.liveConsultation.consultation_title),$(".host-name").text(t.liveConsultation.user.full_name),$(".date").text(t.liveConsultation.consultation_date),$(".minutes").text(t.liveConsultation.consultation_duration_minutes),$("#startModal").find(".status").append("started"===t.zoomLiveData.status?$(".status").text("Started"):$(".status").text("Awaited")),$(".start").attr("href",$("#indexConsultationPatientRole").val()?t.liveConsultation.meta.join_url:"started"===t.zoomLiveData.status?$(".start").addClass("disabled"):t.liveConsultation.meta.start_url),"waiting"===t.zoomLiveData.status&&$(".start").removeClass("disabled"),$("#startModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".deleteConsultationBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexLiveConsultationUrl").val()+"/"+t,"",$("#liveConsultationLang").val())})),listenChange(".change-consultation-status",(function(){var e=$(this).val();$.ajax({url:$("#indexLiveConsultationUrl").val()+"/change-status",type:"GET",data:{statusId:e,id:$(this).attr("data-id")},success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){manageAjaxErrors(e)}})})),listenClick(".showConsultationData",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+t,type:"GET",success:function(e){if(e.success){var t=e.data.liveConsultation,a=$("#show_live_consultations_modal");$("#startLiveConsultationId").val(t.id),$("#showConsultationTitle").text(t.consultation_title),$("#showConsultationDate").text(moment(t.consultation_date).format("Do MMM, Y")+" "+moment(t.consultation_date).format("LT")),$("#showConsultationDurationMinutes").text(t.consultation_duration_minutes),$("#showConsultationPatient").text(t.patient.patient_user.full_name),$("#showConsultationDoctor").text(t.doctor.doctor_user.full_name),0==t.type?a.find("#showConsultationType").append("OPD"):a.find("#showConsultationType").append("IPD"),0==t.type?a.find("#showConsultationTypeNumber").append(t.opd_patient.opd_number):a.find("#showConsultationTypeNumber").append(t.ipd_patient.ipd_number),0===t.host_video?$("#showConsultationHostVideo").text("Disable"):$("#showConsultationHostVideo").text("Enable"),0===t.participant_video?$("#showConsultationParticipantVideo").text("Disable"):$("#showConsultationParticipantVideo").text("Enable"),isEmpty(t.description)?$("#showConsultationDescription").text("N/A"):$("#showConsultationDescription").text(t.description),a.modal("show")}},error:function(e){manageAjaxErrors(e)}})})),listenHiddenBsModal("#show_live_consultations_modal",(function(){$(this).find("#showConsultationTitle, #showConsultationDate, #showConsultationDurationMinutes, #showConsultationPatient, #showConsultationDoctor, #showConsultationType, #showConsultationTypeNumber, #showConsultationHostVideo, #showConsultationParticipantVideo, #showConsultationDescription").empty()})),listenClick(".add-credential",(function(){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var e,t=$("#zoomUserId").val();e=t,$.ajax({url:"user-zoom-credential/"+e+"/fetch",type:"GET",success:function(e){if(e.success){var t=e.data;isEmpty(t)||($("#zoomApiKey").val(t.zoom_api_key),$("#zoomApiSecret").val(t.zoom_api_secret)),$("#addCredential").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#addZoomForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnZoomSave");t.button("loading"),$.ajax({url:$("#indexZoomCredentialCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addCredential").modal("hide"),setTimeout((function(){t.button("reset")}),2500),livewire.emit("refresh"))},error:function(e){printErrorMessage("#credentialValidationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3)}})})),listenChange("#liveConsultationFilterStatusArr",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#consultationResetFilter",(function(){$("#liveConsultationFilterStatusArr").val(0).trigger("change"),hideDropdownManually($("#liveConsultationFilterBtn"),$(".dropdown-menu"))})),listenChange(".consultation-type",(function(){$(".consultation-type-number").val("").trigger("change")})),listenChange(".patient-name",(function(){$(".consultation-type").val("").trigger("change"),$(".consultation-type-number").trigger("change")}))})(),document.addEventListener("turbo:load",(function(){$("#indexLiveMeetingUrl").length&&($(".change-meeting-status").select2({width:"100%"}),$("#meetingUserId, .change-meeting-status").select2({width:"100%"}),$(".editUserId").select2({width:"100%"}),$(".consultation-date, .edit-consultation-date").flatpickr({enableTime:!0,minDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}))})),listenSubmit("#addLiveMeetingForm",(function(e){e.preventDefault();var t=jQuery(this).find("#meetingSave");$("#meetingSave").attr("disabled",!0),$.ajax({url:$("#indexLiveMeetingCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_live_meeting_modal").modal("hide"),t.attr("disabled",!1),livewire.emit("refresh"),$(".change-meeting-status").select2({width:"100%"}),setTimeout((function(){t.attr("disabled",!1)}),3e3))},error:function(e){setTimeout((function(){t.attr("disabled",!1)}),2e3),printErrorMessage("#meetingErrorsBox",e)}})})),listenHiddenBsModal("#add_live_meeting_modal",(function(){resetModalForm("#addLiveMeetingForm","#meetingErrorsBox"),$("#meetingUserId").val($(".loggedInUserId").val()).trigger("change.select2")})),listenChange(".change-meeting-status",(function(){var e=$(this).val();$.ajax({url:$("#indexLiveMeetingUrl").val()+"/change-status",type:"GET",data:{statusId:e,id:$(this).attr("data-id")},success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){manageAjaxErrors(e)}})})),listen("click",".startMeetingBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+t+"/start",type:"GET",success:function(e){if(e.success){var t=e.data;$("#startLiveConsultationId").val(t.liveMeeting.id),$(".start-modal-title").text(t.liveMeeting.consultation_title),$(".host-name").text(t.liveMeeting.user.full_name),$(".date").text(t.liveMeeting.consultation_date),$(".minutes").text(t.liveMeeting.consultation_duration_minutes),$("#startConsultationModal").find(".status").append("started"===t.zoomLiveData.status?$(".status").text("Started"):$(".status").text("Awaited")),$("#indexMeetingAdminRole").val()||$("#indexMeetingDoctorRole").val()?"started"===t.zoomLiveData.status?$(".start").addClass("disabled"):$(".start").attr("href",t.liveMeeting.meta.start_url):$(".start").attr("href",t.liveMeeting.meta.join_url),"waiting"===t.zoomLiveData.status&&$(".start").removeClass("disabled"),$("#startConsultationModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".showMeetingData",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+t,type:"GET",success:function(e){if(e.success){var t=e.data;$("#showMeetingId").val(t.id),$("#showMeetingTitle").text(t.consultation_title),$("#showMeetingDate").text(moment(t.consultation_date).format("Do MMM, Y")+" "+moment(t.consultation_date).format("LT")),$("#showMeetingMinutes").text(t.consultation_duration_minutes),0==t.host_video?$("#showMeetingHost").text("Disable"):$("#showMeetingHost").text("Enable"),0==t.participant_video?$("#showMeetingParticipant").text("Disable"):$("#showMeetingParticipant").text("Enable"),isEmpty(t.description)?$("#showMeetingDescription").text("N/A"):$("#showMeetingDescription").text(t.description),$("#show_live_meetings_modal").modal("show")}},error:function(e){manageAjaxErrors(e)}})})),listen("click",".editMeetingBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#liveMeetingId").val(t.id),$(".edit-consultation-title").val(t.consultation_title),$(".edit-consultation-date").val(moment(t.consultation_date).format("YYYY-MM-DD h:mm A")),$(".edit-consultation-duration-minutes").val(t.consultation_duration_minutes),$(".editUserId").val(t.meetingUsers).trigger("change.select2"),$(".host-enable,.host-disabled").prop("checked",!1),t.host_video,$('input[name="host_video"][value='.concat(t.host_video,"]")).prop("checked",!0),$(".client-enable,.client-disabled").prop("checked",!1),t.participant_video,$('input[name="participant_video"][value='.concat(t.participant_video,"]")).prop("checked",!0),$(".edit-description").val(t.description),$("#edit_live_meeting_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editMeetingForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editMeetingSave");t.button("loading"),t.attr("disabled",!0);var a=$("#liveMeetingId").val();$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_live_meeting_modal").modal("hide"),t.attr("disabled",!1),livewire.emit("refresh"))},error:function(e){t.attr("disabled",!1),manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listen("click",".deleteMeetingBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexLiveMeetingUrl").val()+"/"+t,"",$("#liveMeetingLang").val())})),listenHiddenBsModal("#show_live_meetings_modal",(function(){$(this).find("#showMeetingTitle,#showMeetingDate, #showMeetingMinutes, #showMeetingHost, #showMeetingParticipant, #showMeetingDescription").empty()})),listenChange("#liveMeetingFilterArrID",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick("#liveMeetingResetFilter",(function(){$("#liveMeetingFilterArrID").val(0).trigger("change"),hideDropdownManually($("#liveMeetingFilterBtn"),$(".dropdown-menu"))})),listenSubmit("#addVaccinatedNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnVSave");t.button("loading"),$.ajax({url:$("#vaccinationCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addVaccinatedModal").modal("hide"),livewire.emit("refresh"),setTimeout((function(){t.button("reset")}),2500))},error:function(e){printErrorMessage("#validationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3)}})})),listenHiddenBsModal("#addVaccinatedModal",(function(){resetModalForm("#addVaccinatedNewForm","#CreateVValidationErrorsBox")})),listenClick(".edit-vaccinated-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderVaccinationData(t)}})),window.renderVaccinationData=function(e){$.ajax({url:$("#vaccinationUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#vaccinationId").val(t.id),$("#editVaccinatedName").val(t.name),$("#editManufacturedBy").val(t.manufactured_by),$("#editVaccinatedBrand").val(t.brand),$("#editVaccinatedModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editVaccinatedForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditVSave");t.button("loading");var a=$("#vaccinationId").val();$.ajax({url:$("#vaccinationUrl").val()+"/"+a+"/update",type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editVaccinatedModal").modal("hide"),livewire.emit("refresh"))},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenClick(".delete-vaccination-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#vaccinationUrl").val()+"/"+t,"#vaccinationsTable",$("#vaccinationLang").val())})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#vaccinatedPatientName,#vPatientVaccinationName").select2({width:"100%",dropdownParent:$("#addVaccinatedPatientModal")}),$("#editVaccinatedPatientName,#editVaccinationPatientName").select2({width:"100%",dropdownParent:$("#editVaccinatedPatientModal")});$("#doesVPGivenDate,#editVPDoesGivenDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()})})),listenShownBsModal("#addVaccinatedPatientModal",(function(){$("#doesVPGivenDate").val(moment().format("YYYY-MM-DD HH:mm"))})),listenSubmit("#addVaccinatedPatientNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnVPSave");t.button("loading"),$("#btnVPSave").attr("disabled",!0),$.ajax({url:$("#vaccinatedPatientsStore").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addVaccinatedPatientModal").modal("hide"),Livewire.emit("refresh"),setTimeout((function(){t.button("reset")}),2500),$("#btnVPSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#btnVPSave").attr("disabled",!1)}})})),listenHiddenBsModal("#addVaccinatedPatientModal",(function(){$("#vaccinatedPatientName").val("").trigger("change"),$("#vPatientVaccinationName").val("").trigger("change"),resetModalForm("#addVaccinatedPatientNewForm","#validationErrorsBox"),$("#btnVPSave").attr("disabled",!1)})),listenClick(".edit-vaccinated-patient-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderVaccinatedPatientData(t)}})),window.renderVaccinatedPatientData=function(e){$.ajax({url:$("#vaccinatedPatientsIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#vPatientId").val(t.id),$("#editVaccinatedPatientName").val(t.patient_id).trigger("change.select2"),$("#editVaccinationPatientName").val(t.vaccination_id).trigger("change.select2"),$("#editVPSerialNo").val(t.vaccination_serial_number),$("#editVPDoseNumber").val(t.dose_number),$("#editVPDoesGivenDate").val(moment(t.dose_given_date).utc().format("YYYY-MM-DD HH:mm:ss")),$("#editVPDescription").val(t.description),$("#editVaccinatedPatientModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editVaccinatedPatientForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editVPBtnSave");t.button("loading");var a=$("#vPatientId").val();$("#editVPBtnSave").attr("disabled",!0),$.ajax({url:$("#vaccinatedPatientsIndex").val()+"/"+a+"/update",type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editVaccinatedPatientModal").modal("hide"),$("#editVPBtnSave").attr("disabled",!1),Livewire.emit("refresh"))},error:function(e){manageAjaxErrors(e),$("#editVPBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".delete-vaccinated-patient-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#vaccinatedPatientsIndex").val()+"/"+t,"#vaccinatedPatientTable",$("#vaccinationPatientLang").val())}))})(),listen("change","#userStatusArr",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listen("change","#userRoleArr",(function(){window.livewire.emit("changeRoleFilter","roleFilter",$(this).val())})),listenClick(".delete-user-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexUserUrl").val()+"/"+t,"#usersTable",$("#userLang").val())})),listenClick("#resetUserFilter",(function(){$("#userRoleArr").val(0).trigger("change"),$("#userStatusArr").val(0).trigger("change"),hideDropdownManually($("#userFilterButton"),$(".dropdown-menu"))})),listenClick(".show-user-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderUsersData(t)})),window.renderUsersData=function(e){$.ajax({url:route("users.show.modal",e),type:"GET",success:function(e){var t;e.success&&($("#userFirstName").text(e.data.first_name),$("#userLastName").text(e.data.last_name),$("#userEmail").text(e.data.email),$("#userShowRole").text(e.data.department.name),$("#userPhone").text(null!==(t=e.data.phone)&&void 0!==t?t:"N/A"),$("#userGender").text(e.data.gender_string),$("#userDob").text(""),null!=e.data.dob&&$("#userDob").text(moment(e.data.dob).format("Mo MMM, YYYY")),$("#userStatus").empty(),1==e.data.status?$("#userStatus").append('<span class="badge bg-light-success">'+Lang.get("messages.common.active")+"</span>"):$("#userStatus").append('<span class="badge bg-light-danger">'+Lang.get("messages.filter.deactive")+"</span>"),$("#UserCreatedOn").text(moment(e.data.created_at).fromNow()),$("#userUpdatedOn").text(moment(e.data.updated_at).fromNow()),$("#userProfilePicture").attr("src",e.data.image_url),setValueOfEmptySpan(),$("#showUser").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listen("change",".is-verified-user",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexUserUrl").val()+"/"+t+"/is-verified",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),window.livewire.emit("refresh"))}})})),listen("change",".user-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateUserStatus(t)})),window.updateUserStatus=function(e){$.ajax({url:$("#indexUserUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){})),listenSubmit("#addHospitalTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#hospitalTypeSaveBtn");t.button("loading"),$.ajax({url:$(".hospitalTypeCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#createHospitalTypeModal").modal("hide"),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){t.button("reset")}})})),listenClick(".editHospitalTypeBtn",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:route("super.admin.hospitals.type.edit",t),type:"GET",success:function(e){e.success&&($("#editHospitalTypeId").val(e.data.id),$("#editHospitalTypeName").val(e.data.name),$("#editHospitalTypeModal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editHospitalTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editHospitalTypeSaveBtn");t.button("loading");var a=$("#editHospitalTypeId").val();$.ajax({url:route("super.admin.hospitals.type.update",a),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editHospitalTypeModal").modal("hide"),window.livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){t.button("reset")}})})),listenClick(".deleteHospitalTypeBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("super.admin.hospitals.type.delete",t),"","Hospital Type")})),listenHiddenBsModal("#createHospitalTypeModal",(function(){resetModalForm("#addHospitalTypeForm")})),listenHiddenBsModal("#editHospitalTypeModal",(function(){resetModalForm("#editHospitalTypeForm")})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$(".userDoctorDepartment").length)return!1;$("#userDob").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()})})),listenKeyup("#userFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#userTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#userInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#userLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listenSubmit("#createUserForm, #editUserForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;var e=$("#userFacebookUrl").val(),t=$("#userTwitterUrl").val(),a=$("#userInstagramUrl").val(),n=$("#userLinkedInUrl").val(),i=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i),d=""==e||!!e.match(i);return Lang.setLocale($(".userCurrentLanguage").val()),d?""!=t&&!t.match(r)?(displayErrorMessage(Lang.get("messages.common.please_enter_valid_twitter_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),!1):""!=a&&!a.match(s)?(displayErrorMessage(Lang.get("messages.common.please_enter_valid_Instagram_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),!1):""==n||!!n.match(o)?void 0:(displayErrorMessage(Lang.get("messages.common.please_enter_valid_linkedin_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),!1):(displayErrorMessage(Lang.get("messages.common.please_enter_valid_facebook_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),!1)})),$("#createUserForm, #editUserForm").on("keyup keypress",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),$("#userDob").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),listen("change","#userProfileImage",(function(){var e=isValidDocument($(this),"#userValidationErrorsBox");isEmpty(e)||0==e||($("#userValidationErrorsBox").html("").hide(),displayDocument(this,"#userPreviewImage",e))})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("messages.new_change.image_must_be")).removeClass("display-none").show(),setTimeout((function(){$(t).slideUp(300)}),5e3),!1):($(t).addClass("display-none"),a)},listenClick(".remove-image",(function(){defaultImagePreview("#userPreviewImage",1)})),2==$("#userRole").val()&&($(".doctor_department").removeClass("d-none"),$("#userDoctorDepartmentId").attr("required")),listenChange("#userRole",(function(){2==$(this).val()?($(".doctor_department").removeClass("d-none"),$("#userDoctorDepartmentId").attr("required")):($(".doctor_department").addClass("d-none"),$("#userDoctorDepartmentId").removeAttr("required"))}))})(),listenChange("#aboutUsImage",(function(){var e,t,a,n=(e=$(this),t="#aboutUsErrorsBox",a=$(e).val().split(".").pop().toLowerCase(),-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html("The image must be a file of type: jpg, jpeg, png.").show(),!1):($(t).hide(),!0));isEmpty(n)||0==n||($("#aboutUsErrorsBox").html("").hide(),displayDocument(this,"#aboutUsPreviewImage",n))})),listenHiddenBsModal("#editBedTypeModal",(function(){resetModalForm("#editBedTypeForm","#editValidationErrorsBox"),$("#btnEditSave").attr("disabled",!1)})),document.addEventListener("turbo:load",(function(){$("#editBedType").length&&$("#editBedType").select2({width:"100%",dropdownParent:$("#edit_beds_modal")})})),listenHiddenBsModal("#edit_beds_modal",(function(){resetModalForm("#EditBedsForm","#editValidationErrorsBox")})),(()=>{"use strict";listenClick(".editDocsTypeBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#showDocTypeUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#docTypeId").val(e.data.id),$("#editDocTypeName").val(e.data.name),$("#edit_document_types_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),window.editDocumentTypeRecordWithForm=function(e,t){var a=""===e.formSelector?e.formData:$(e.formSelector).serialize();$(t).attr("disabled",!0),$.ajax({url:e.url,type:e.type,data:a,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_document_types_modal").modal("hide"),setTimeout((function(){window.location.reload()}),3e3),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})}})(),document.addEventListener("turbo:load",(function(){if($("#termConditionPrivacyPolicy").length&&void 0!==$("#termConditionPrivacyPolicy").val()&&1==$("#termConditionPrivacyPolicy").val()){var e=new Quill("#termConditionId",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:Lang.get("messages.front_setting.terms_conditions"),theme:"snow"});e.on("text-change",(function(t,a,n){0===e.getText().trim().length&&e.setContents([{insert:""}])}));var t=new Quill("#privacyPolicyId",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:Lang.get("messages.web_home.privacy_policy"),theme:"snow"});t.on("text-change",(function(e,a,n){0===t.getText().trim().length&&t.setContents([{insert:""}])}));var a=document.createElement("textarea");a.innerHTML=$(".termConditionData").val(),e.root.innerHTML=a.value,a.innerHTML=$(".privacyPolicyData").val(),t.root.innerHTML=a.value,listenSubmit("#termsAndCondition",(function(){var a=document.createElement("textarea"),n=e.root.innerHTML;a.innerHTML=n;var i=t.root.innerHTML;return 0===e.getText().trim().length?(displayErrorMessage(Lang.get("messages.new_change.terms_condition_required")),!1):0===t.getText().trim().length?(displayErrorMessage(Lang.get("messages.new_change.privacy_policy")),!1):($("#termData").val(n.toString()),void $("#privacyData").val(i.toString()))}))}})),listenChange(".homePageImage",(function(){var e,t,a,n=(e=$(this),t="#homeErrorsBox",a=$(e).val().split(".").pop().toLowerCase(),-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html(Lang.get("messages.new_change.image_must_be")).show(),!1):($(t).hide(),!0));isEmpty(n)||0==n||($("#homeErrorsBox").html("").hide(),displayDocument(this,"#homePreviewImage",n))})),listenSubmit("#addCMSForm",(function(){var e=$("#homeTitleId").val(),t=$("#homePageExperience").val(),a=$("#homeShortDescription").val(),n=$("#homePageBoxTitle").val(),i=$("#homePageBoxDes").val(),r=$("#homeDoctorTextId").val(),s=$("#homeDoctorTitleId").val(),o=$("#homeDoctorDescription").val(),d=$("#homePageCerBoxTl").val(),l=$("#homePageCerBoxDes").val(),c=$("#homePageStep1Tl").val(),u=$("#homePageStep1Des").val(),m=$("#homePageStep2Tl").val(),p=$("#homePageStep2Des").val(),g=$("#homePageStep3Tl").val(),h=$("#homePageStep3Des").val(),v=$("#homePageStep4Tl").val(),f=$("#homePageStep4Des").val();return isEmpty($.trim(t))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_experience")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(e))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(a))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(n))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_box_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(i))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_box_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(r))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_certified_doctor_text")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(s))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_certified_doctor_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(o))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_certified_doctor_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(d))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_certified_box_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(l))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_certified_box_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(c))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_1_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(u))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_1_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(m))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_2_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(p))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_2_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(g))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_3_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(h))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_3_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(v))||isEmpty($.trim(v))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_4_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(f))?(displayErrorMessage(Lang.get("messages.front_setting.home_page_step_4_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):void 0})),listenSubmit("#createAboutUs",(function(){var e=$("#aboutUsTitle").val(),t=$("#aboutUsDes").val(),a=$("#aboutUsMission").val();return isEmpty($.trim(e))?(displayErrorMessage(Lang.get("messages.front_setting.about_us_title")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(t))?(displayErrorMessage(Lang.get("messages.front_setting.about_us_description")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):isEmpty($.trim(a))?(displayErrorMessage(Lang.get("messages.front_setting.about_us_mission")+" "+Lang.get("messages.new_change.field_not_contain_white_space")),!1):void 0})),listenSubmit("#addFrontServiceForm",(function(e){e.preventDefault();var t=jQuery(this).find("#frontServiceSave");$("#frontServiceSave").attr("disabled",!0),t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$("#indexFrontServicesUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_front_service_modal").modal("hide"),$("#frontServiceSave").attr("disabled",!1),livewire.emit("refresh"))},error:function(e){$("#frontServiceSave").attr("disabled",!1),printErrorMessage("#frontServiceErrorsBox",e)},complete:function(){t.button("reset")}})})),listen("click",".editFrontServiceBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexFrontServicesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#frontServiceId").val(e.data.id),e.data.icon_url?$("#editFrontServicePreviewImage").css("background-image",'url("'+e.data.icon_url+'")'):$("#editFrontServicePreviewImage").css("background-image",'url("'+$("#indexServiceDefaultDocumentImageUrl").val()+'")'),$("#editFrontServiceName").val(e.data.name),$("#editFrontServiceDescription").val(e.data.short_description),isEmpty(e.data.icon_url)?($("#frontServiceIconUrl").hide(),$(".btn-view").hide()):($("#frontServiceIconUrl").show(),$(".btn-view").show(),$("#frontServiceIconUrl").attr("href",e.data.icon_url)),$("#edit_front_service_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editFrontServiceForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editFrontServiceSave");$("#editFrontServiceSave").attr("disabled",!0),t.button("loading");var a=$("#frontServiceId").val(),n=new FormData($(this)[0]);$.ajax({url:$("#indexFrontServicesUrl").val()+"/"+a,type:"post",data:n,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editFrontServiceSave").attr("disabled",!1),$("#edit_front_service_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){$("#editFrontServiceSave").attr("disabled",!1),manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_front_service_modal",(function(){resetModalForm("#addFrontServiceForm","#add_front_service_modal #frontServiceErrorsBox"),$("#frontServiceSave").attr("disabled",!1),$("#frontServicePreviewImage").attr("src",$("#indexServiceDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexServiceDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#add_front_service_modal",(function(){$("#add_front_service_modal #frontServiceErrorsBox").show(),$("#add_front_service_modal #frontServiceErrorsBox").addClass("d-none")})),listenHiddenBsModal("#edit_front_service_modal",(function(){resetModalForm("#editFrontServiceForm","#edit_front_service_modal #editFrontServiceErrorsBox"),$("#editFrontServiceSave").attr("disabled",!1),$("#editFrontServicePreviewImage").attr("src",$("#indexServiceDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexServiceDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#edit_front_service_modal",(function(){$("#edit_front_service_modal #editFrontServiceErrorsBox").show(),$("#edit_front_service_modal #editFrontServiceErrorsBox").addClass("d-none")})),listen("click",".deleteFrontServiceBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexFrontServicesUrl").val()+"/"+t,"","Service")})),document.addEventListener("turbo:load",(function(){})),listenChange(".superUserStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateHospitalStatus(t)})),window.updateHospitalStatus=function(e){$.ajax({url:$("#userIndexUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenChange(".super-user-is-verified",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#userIndexUrl").val()+"/"+t+"/is-verified",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))}})})),listenClick(".super-user-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#hospitalIndexUrl").val()+"/"+t,"#superAdminUsersTable","Hospital")})),listenClick(".user-hospital-impersonate",(function(){var e=$(this).data("id"),t=document.createElement("a");t.setAttribute("href",$("#impersonateRoute").val()+"/"+e),document.body.appendChild(t),t.click(),document.body.removeChild(t),$(".user-hospital-impersonate").prop("disabled",!0)})),listenClick("#resetHospitalFilter",(function(){$("#hospitalStatusArr").val("").trigger("change"),hideDropdownManually($("#hospitalFilterBtn"),$(".dropdown-menu"))})),listenChange("#hospitalStatusArr",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),(()=>{document.addEventListener("turbo:load",(function(){})),listenClick("#hospitalUserResetFilter",(function(){$("#roleArr, #statusArr").val(0).trigger("change"),hideDropdownManually($("#hospitalUserFilterButton"),$(".dropdown-menu"))})),listenChange("#statusArr",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange("#roleArr",(function(){window.livewire.emit("changeRoleFilter","roleFilter",$(this).val())})),$(document).on("contextmenu",".user-impersonate",(function(e){return e.preventDefault(),!1}));var e=!1;$(document).on("keyup keydown",(function(t){e=t.ctrlKey})),$(document).on("click",".user-impersonate",(function(){if(e)return!1;var t=$(this).data("id"),a=document.createElement("a");a.setAttribute("href",$("#showUserIndexURL").val()+"/"+t+"/login"),document.body.appendChild(a),a.click(),document.body.removeChild(a),$(".user-impersonate").prop("disabled",!0)}))})(),document.addEventListener("turbo:load",(function(){})),listenSubmit("#createAdminForm, #editAdminForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),


        listenClick(".admin-delete-btn",(function(e)
        {
            var t=$(e.currentTarget).attr("data-id");
            deleteItem($("#adminUrl").val()+"/"+t,"",$("#Admin").val())
        })),

        listenClick(".tax-delete-btn",(function(e)
        {
            var t=$(e.currentTarget).attr("data-id");
            deleteItem($("#taxUrl").val()+"/"+t,"",$("#Tax").val())
        }))


            ,listenChange(".admin-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateAdminStatus(t)})),window.updateAdminStatus=function(e){$.ajax({url:$("#adminUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){})),listenClick(".billing-modal",(function(e){var t=$(e.currentTarget).attr("data-id");renderBillingData(t)})),window.renderBillingData=function(e){$.ajax({url:$("#superAdminHospitalBillingModalID").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#plan_name").text(e.data[0].subscription_plan.name),$("#transaction").empty(),1==e.data[0].transactions.payment_type?$("#transaction").append('<span class="badge bg-light-primary">'.concat($("#userStripeType").val(),"</span>")):$("#transaction").append('<span class="badge bg-light-primary">'.concat($("#userPaypalType").val(),"</span>")),$("#amount").text(e.data[0].plan_amount),$("#frequency").text(1==e.data[0].plan_frequency?$("#userSubscriptionMonth").val():$("#userSubscriptionYear").val()),$("#start_date").text(moment(e.data[0].starts_at).format("Do MMM, Y")),$("#end_date").text(moment(e.data[0].ends_at).format("Do MMM, Y")),e.data[0].trial_ends_at?$("#trail_end_date").text(moment(e.data[0].trial_ends_at).format("Do MMM, Y")):$("#trail_end_date").text("N/A"),$("#status").empty(),1==e.data[0].status?$("#status").append('<span class="badge bg-light-success">'.concat($("#userStatusActive").val(),"</span>")):$("#status").append('<span class="badge bg-light-danger">'.concat($("#userStatusDeactive").val(),"</span>")),setValueOfEmptySpan(),$("#showBillingModal").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenClick("#hospitalBillsResetFilter",(function(){$("#billingStatusArr").val(0).trigger("change"),$("#billingPaymentType").val("").trigger("change"),hideDropdownManually($("#hospitalBillsFilterButton"),$(".dropdown-menu"))})),listenChange("#billingStatusArr",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange("#billingPaymentType",(function(){window.livewire.emit("changePaymentFilter","paymentFilter",$(this).val())})),document.addEventListener("turbo:load",(function(){})),listenClick("#hospitalTransactionsResetFilter",(function(){$("#paymentType").val("").trigger("change"),hideDropdownManually($("#hospitalTransactionsFilterButton"),$(".dropdown-menu"))})),listenChange("#paymentType",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),document.addEventListener("turbo:load",(function(){listenSubmit("#createHospitalUserForm, #editHospitalUserForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;$(".alert").delay(5e3).slideUp(300)}))})),document.addEventListener("turbo:load",(function(){})),listenClick("#resetSubscriptionPlanFilter",(function(){$("#planTypeFilter").val("").trigger("change"),hideDropdownManually($("#subscriptionPlanFilter"),$(".dropdown-menu"))})),listenChange("#planTypeFilter",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenClick(".subscription-plan-delete-btn",(function(e){var t=$(this).data("id"),a=$("#subscriptionPlanUrl").val()+"/"+t;deleteItem(a,"#subscriptionPlanTable",$("#adminSubscriptionPlanLang").val())})),listenClick(".subscription_plan_is_default",(function(e){var t=$(e.currentTarget).attr("data-id");updateStatusToDefault(t)})),window.updateStatusToDefault=function(e){$.ajax({url:$("#subscriptionPlanUrl").val()+"/"+e+"/make-plan-as-default",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))}})},(()=>{function e(){$(".sms-limit").is(":checked")?$(".sms-limit-section").removeClass("d-none"):$(".sms-limit-section").addClass("d-none")}document.addEventListener("turbo:load",(function(){if($(".price-input").trigger("input"),!$(".currency").length)return;if(!$(".planType").length)return;$(".currency").select2(),$(".planType").select2(),e(),$(".sms-limit").is(":checked")?$(".sms-limit-section").removeClass("d-none"):$(".sms-limit-section").addClass("d-none");$(window).on("beforeunload",(function(){$("input[type=submit]").prop("disabled","disabled")})),$("#createSubscriptionPlanForm, #editSubscriptionPlanForm").find("input:text:visible:first").focus(),listenSubmit("#createSubscriptionPlanForm, #editSubscriptionPlanForm",(function(){$("#btnSave").attr("disabled",!0)}))})),listenChange(".sms-limit , #selectAllPlanFeatures",(function(t){e()}))})(),document.addEventListener("turbo:load",(function(){window.featureChecked=function(e){e===$(".feature:checkbox").length?$("#selectAllPlanFeatures").prop("checked",!0):$("#selectAllPlanFeatures").prop("checked",!1)};var e=$(".feature:checkbox:checked").length;featureChecked(e),listenClick("#selectAllPlanFeatures",(function(){$("#selectAllPlanFeatures").is(":checked")?$(".feature").each((function(){$(this).prop("checked",!0)})):$(".feature").each((function(){$(this).prop("checked",!1)}))})),listenClick(".feature",(function(){var e=$(".feature:checkbox:checked").length;featureChecked(e)}))})),document.addEventListener("turbo:load",(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),listenClick(".freePayment",(function(){var e=this;if("undefined"!=typeof getLoggedInUserdata&&""==getLoggedInUserdata)return window.location.href=logInUrl,!0;if(0===$(this).data("plan-price")){$(this).addClass("disabled");var t={plan_id:$(this).data("id"),price:$(this).data("plan-price")};return $.post(makePaymentURL,t).done((function(e){displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),5e3)})).catch((function(t){$(e).html(subscribeText).removeClass("disabled"),$(".freePayment").attr("disabled",!1),displayErrorMessage(t.responseJSON.message)})),!0}}))})),document.addEventListener("turbo:load",(function(){listenChange("#paymentTypeArr",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())}))})),listenChange(".payment-approve",(function(){var e=$(this).attr("data-id"),t=$(this).val();$.ajax({url:route("change-payment-status",e),type:"GET",data:{id:e,status:t},success:function(e){displaySuccessMessage(e.message),window.livewire.emit("refresh")},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick("#transactionSideResetFilter",(function(){$("#paymentTypeArr").val(7).trigger("change"),hideDropdownManually($("#subscriptionTransaction"),$(".dropdown-menu"))})),document.addEventListener("turbo:load",(function(){listenClick(".subscribe-delete-btn",(function(){var e=$(this).attr("data-id");deleteItem($("#superAdminSubscribeDestroy").val()+"/"+e,null,$("#subscribeLang").val())}))})),document.addEventListener("turbo:load",(function(){})),listenHiddenBsModal("#createServiceSliderModal",(function(){$("#inputImage").removeClass("image-input-changed"),$("#createServiceImage").val(""),$(".previewImage").css("background-image","url("+$("#defaultServiceSliderDocumentImageUrl").val()+")"),$("#serviceSliderSaveBtn").attr("disabled",!1)})),listenHiddenBsModal("#editServiceSliderModal",(function(){$("#editInputImage").removeClass("image-input-changed"),$("#editServiceImage").val(""),$("#serviceSliderEditBtnSave").attr("disabled",!1)})),listenClick("#serviceSliderSaveBtn",(function(){$("#serviceSliderSaveBtn").attr("disabled",!0),$.ajax({url:$("#superAdminServiceSliderStore").val(),type:"POST",data:new FormData($("#serviceSliderForm")[0]),contentType:!1,processData:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#createServiceSliderModal").modal("hide"),$("#serviceSliderSaveBtn").attr("disabled",!1),setTimeout((function(){livewire.emit("refresh")}),2e3))},error:function(e){displayErrorMessage(e.responseJSON.message),$("#serviceSliderSaveBtn").attr("disabled",!1)},complete:function(){}})})),listenClick(".service-slider-edit-btn",(function(e){!function(e){$.ajax({url:$("#superAdminServiceSliderIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){$("#serviceId").val(e.data.id),$("#editDocumentImage").attr("src",e.data.image_url),$("#previewEditImage").css("background-image",'url("'+e.data.image_url+'")'),$("#editServiceSliderModal").modal("show")}})}($(e.currentTarget).attr("data-id"))})),listenChange("#serviceImage",(function(){var e=isValidFile($(this),"#serviceSliderValidationErrorsBox");isEmpty(e)||0==e||($("#serviceSliderValidationErrorsBox").html("").hide(),displayServicePhoto(this,"#previewImage",e))})),listenChange("#editServiceImage",(function(){var e=isValidFile($(this),"#editServiceSliderValidationErrorsBox");isEmpty(e)||0==e||($("#editServiceSliderValidationErrorsBox").html("").hide(),displayServicePhoto(this,"#previewEditImage",e))})),listenClick("#serviceSliderEditBtnSave",(function(){$("#serviceSliderEditBtnSave").attr("disabled",!0);var e=$("#serviceId").val();$.ajax({url:$("#superAdminServiceSliderIndex").val()+"/"+e,type:"POST",data:new FormData($("#serviceSliderEditForm")[0]),processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editServiceSliderModal").modal("hide"),$("#serviceSliderEditBtnSave").attr("disabled",!1),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message),$("#serviceSliderEditBtnSave").attr("disabled",!1)}})})),listenClick(".service-slider-delete-btn",(function(){var e=$(this).attr("data-id");deleteItem($("#superAdminServiceSliderIndex").val()+"/"+e,null,$("#serviceSliderLang").val())})),window.displayServicePhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(n.readAsDataURL(e.files[0]),$(t).show())}},document.addEventListener("turbo:load",(function(){})),listenSubmit("#addNewFAQForm",(function(e){e.preventDefault();var t=jQuery(this).find("#faqBtnSave");t.button("loading"),$("#faqBtnSave").attr("disabled",!0),$.ajax({url:$("#superAdminFAQStore").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#createFAQModal").modal("hide"),livewire.emit("refresh"),$("#faqBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#faqBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".faq-edit-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderFaqData(t)})),listenClick(".faq-show-btn",(function(e){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#superAdminFAQIndex").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showQuestion").text(e.data.question),$("#showAnswer").text(e.data.answer),$("#showFAQModal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),window.renderFaqData=function(e){$.ajax({url:$("#superAdminFAQIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){$("#faqsId").val(e.data.id),$("#editQuestion").val(e.data.question),$("#editAnswer").val(e.data.answer),$("#editFAQModal").modal("show"),ajaxCallCompleted()},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editFAQForm",(function(e){e.preventDefault();var t=jQuery(this).find("#faqBtnEditSave");t.button("loading"),$("#faqBtnEditSave").attr("disabled",!0);var a=$("#faqsId").val();$.ajax({url:$("#superAdminFAQIndex").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){displaySuccessMessage(e.message),$("#editFAQModal").modal("hide"),livewire.emit("refresh"),$("#faqBtnEditSave").attr("disabled",!1)},error:function(e){manageAjaxErrors(e),$("#faqBtnEditSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#createFAQModal",(function(){resetModalForm("#addNewFAQForm","#createFAQModal #validationErrorsBox"),$("#faqBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#editFAQModal",(function(){resetModalForm("#editFAQForm","#editFAQModal #editValidationErrorsBox"),$("#faqBtnEditSave").attr("disabled",!1)})),listenClick(".faq-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#superAdminFAQIndex").val()+"/"+t,$("#faqsTable"),$("#faqLang").val())})),document.addEventListener("turbo:load",(function(){listenClick(".super-admin-enquiry-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#enquiryIndexUrl").val()+"/"+t,"#superAdminEnquiriesTable",$("#adminEnquiryLang").val())})),listenClick("#resetAdminEnquiryFilter",(function(){$("#super_admin_enquiry_filter").val(2).trigger("change"),hideDropdownManually($("#adminEnquiriesFilterBtn"),$(".dropdown-menu"))})),listenChange("#super_admin_enquiry_filter",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())}))})),document.addEventListener("turbo:load",(function(){$(".razorpayDataKey").val(),$(".razorpayDataName").val(),$(".razorpayDataImage").val(),$(".razorpayDataCallBackURL").val()})),(()=>{function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;toastData=e,null!==toastData&&setTimeout((function(){$.toast({heading:toastData.toastType,icon:toastData.toastType,bgColor:"danger",textColor:"#ffffff",text:toastData.toastMessage,position:"top-right",stack:!1})}),1e3)}document.addEventListener("turbo:load",(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),""==$("#paymentType").val()&&$(".paypalPayment, .razor_pay_payment, .cash_payment, .paymentByPaytm, .paymentByPaystack").attr("disabled",!0)})),listenClick(".makePayment",(function(){var t=this;if(void 0!==$(".getLoggedInUserdata").val()&&""==$(".getLoggedInUserdata").val())return window.location.href=$(".logInUrl").val(),!0;var a={plan_id:$(this).data("id"),from_pricing:void 0!==$(".fromPricing").val()?$(".fromPricing").val():null,price:$(this).data("plan-price"),payment_type:$("#paymentType option:selected").val()};$(this).addClass("disabled"),$.post($(".makePaymentURL").val(),a).done((function(t){if(void 0===t.data)return e({toastType:"success",toastMessage:t.message}),setTimeout((function(){window.location.href=$(".subscriptionPlans").val()}),5e3),!0;var a=t.data.sessionId;stripe.redirectToCheckout({sessionId:a}).then((function(t){$(this).html($(".subscribeText").val()).removeClass("disabled"),$(".makePayment").attr("disabled",!1),e({toastType:"error",toastMessage:t.responseJSON.message})}))})).catch((function(a){$(t).html($(".subscribeText").val()).removeClass("disabled"),$(".makePayment").attr("disabled",!1),e({toastType:"error",toastMessage:a.responseJSON.message})}))})),listenChange("#paymentType",(function(){var e=$(this).val();""==e&&$(".makePayment,.paymentByPaypal, .razor_pay_payment, .cash_payment, .paymentByPaytm, .paymentByPaystack").attr("disabled",!0),1==e&&($(".proceed-to-payment, .razorPayPayment, .cashPayment, .paytmPayment, .paystackPayment,.manuallyPayAttachment").addClass("d-none"),$(".stripePayment").removeClass("d-none"),$(".makePayment").attr("disabled",!1)),2==e&&($(".proceed-to-payment, .razorPayPayment, .cashPayment, .paytmPayment, .paystackPayment,.manuallyPayAttachment").addClass("d-none"),$(".paypalPayment").removeClass("d-none"),$(".paymentByPaypal").attr("disabled",!1)),3==e&&($(".proceed-to-payment, .paypalPayment, .cashPayment, .paytmPayment, .paystackPayment,.manuallyPayAttachment").addClass("d-none"),$(".razorPayPayment").removeClass("d-none"),$(".razor_pay_payment").attr("disabled",!1)),4==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .paytmPayment, .paystackPayment").addClass("d-none"),$(".cashPayment").removeClass("d-none"),$(".manuallyPayAttachment").removeClass("d-none"),$(".cash_payment").attr("disabled",!1)),5==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .cashPayment, .paystackPayment,.manuallyPayAttachment").addClass("d-none"),$(".paytmPayment").removeClass("d-none"),$(".paymentByPaytm").attr("disabled",!1)),6==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .cashPayment, .paytmPayment,.manuallyPayAttachment").addClass("d-none"),$(".paystackPayment").removeClass("d-none"),$(".paymentByPaystack").attr("disabled",!1))})),listenClick(".paymentByPaypal",(function(){var t=void 0!==$(".fromPricing").val()?$(".fromPricing").val():null;$(this).addClass("disabled"),$.ajax({type:"GET",url:route("paypal.init"),data:{planId:$(this).data("id"),from_pricing:t,payment_type:$("#paymentType option:selected").val()},success:function(t){if(t.success)return e({toastType:"success",toastMessage:t.message}),setTimeout((function(){window.location.href=$(".subscriptionPlans").val()}),5e3),!0;if(t.url&&(window.location.href=t.url),201==t.status){location.href=t.link}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick(".paymentByPaytm",(function(){var e=void 0!==$(".fromPricing").val()?$(".fromPricing").val():null;window.location.replace(route("paytm.init",{planId:$(this).data("id"),from_pricing:e}))}));var t={key:$(".razorpayDataKey").val(),amount:1,currency:"INR",name:$(".razorpayDataName").val(),order_id:"",description:"",image:$(".razorpayDataImage").val(),callback_url:route("razorpay.success"),prefill:{email:"",name:"",contact:""},readonly:{name:"true",email:"true",contact:"true"},modal:{ondismiss:function(){$.ajax({type:"POST",url:$(".razorpayPaymentFailed").val(),success:function(e){e.url&&($.toast({heading:"Success",icon:"Success",bgColor:"#7603f3",textColor:"#ffffff",text:"Payment not completed.",position:"top-right",stack:!1}),setTimeout((function(){window.location.href=e.url}),3e3))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}}};function a(e){$.ajax({type:"POST",url:$(".razorpayPaymentFailed").val(),data:{data:e},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)}})}listenClick(".razor_pay_payment",(function(){$(this).addClass("disabled"),$.ajax({type:"POST",url:$(".makeRazorpayURl").val(),data:{plan_id:$(this).data("id"),from_pricing:void 0!==$(".fromPricing").val()?$(".fromPricing").val():null},success:function(e){if(e.url&&(window.location.href=e.url),e.success){var n=e.data,i=n.id,r=n.amount,s=n.name,o=n.email,d=n.contact,l=n.planID;t.amount=r,t.order_id=i,t.prefill.name=s,t.prefill.email=o,t.prefill.contact=d,t.prefill.planID=l;var c=new Razorpay(t);c.open(),c.on("payment.failed",a)}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick(".cash_payment",(function(){$(this).addClass("disabled");var e=new FormData($(".manuallyPaymentForm")[0]);$.ajax({type:"POST",url:$(".cashPaymentUrl").val(),data:e,processData:!1,contentType:!1,success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick(".paymentByPaystack",(function(){var e=void 0!==$(".fromPricing").val()?$(".fromPricing").val():null;window.location.replace(route("paystack.init",{planId:$(this).data("id"),from_pricing:e}))})),listenClick("#resetSubscriptionFilter",(function(){$("#subscriptionStatusFilter").val("").trigger("change"),$("#subscriptionExpireStatusFilter").val("").trigger("change"),hideDropdownManually($("#subscriptionFilter"),$(".dropdown-menu"))})),listenChange("#subscriptionStatusFilter",(function(){window.livewire.emit("changeFilter","statusFilter",$(this).val())})),listenChange("#subscriptionExpireStatusFilter",(function(){window.livewire.emit("changeExpireFilter","expireStatusFilter",$(this).val())}))})(),document.addEventListener("turbo:load",(function(){})),listenSubmit("#addNewTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#testimonialBtnSave");t.button("loading");var a=new FormData($(this)[0]);$("#testimonialBtnSave").attr("disabled",!0),$.ajax({url:$("#superAdminTestimonialStore").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addTestimonialModal").modal("hide"),window.livewire.emit("refresh"),$("#testimonialBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#testimonialBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".testimonial-show-btn",(function(){var e=$(this).attr("data-id");$.ajax({url:$("#superAdminTestimonialIndex").val()+"/"+e,type:"GET",success:function(e){e.success&&(e.data.image_url.split(".").pop().toLowerCase(),$("#showPreviewImage").css("background-image",'url("'+e.data.image_url+'")'),$(".show-name").text(e.data.name),$(".show-position").text(e.data.position),$(".show-description").text(e.data.description),isEmpty(e.data.document_url)?($("#documentUrl").hide(),$(".btn-view").hide()):($("#documentUrl").show(),$(".btn-view").show(),$("#documentUrl").attr("href",e.data.document_url)),$("#showModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})})),listenClick(".testimonial-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderTestimonialData(t)}})),window.renderTestimonialData=function(e){$.ajax({url:$("#superAdminTestimonialIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&(e.data.image_url.split(".").pop().toLowerCase(),$("#editPreviewImage").css("background-image",'url("'+e.data.image_url+'")'),$("#testimonialId").val(e.data.id),$("#editName").val(e.data.name),$("#editPosition").val(e.data.position),$("#editDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#documentUrl").hide(),$(".btn-view").hide()):($("#documentUrl").show(),$(".btn-view").show(),$("#documentUrl").attr("href",e.data.document_url)),$("#editTestimonialModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},$(".description").on("keyup",(function(){$(".description").attr("maxlength",150)})),$(".description").attr("maxlength",150),listenSubmit("#editAdminTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editTestimonialBtnSave");t.button("loading"),$("#editTestimonialBtnSave").attr("disabled",!0);var a=$("#testimonialId").val(),n=new FormData($(this)[0]);$.ajax({url:$("#superAdminTestimonialIndex").val()+"/"+a,type:"post",data:n,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editTestimonialModal").modal("hide"),livewire.emit("refresh"),$("#editTestimonialBtnSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#editTestimonialBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addTestimonialModal",(function(){resetModalForm("#addNewTestimonialForm","#addTestimonialModal #validationErrorsBox"),$("#previewImage").attr("src",$("#testimonialDefaulImageURL").val()).css("background-image","url(".concat($("#testimonialDefaulImageURL").val(),")")),$("#testimonialBtnSave").attr("disabled",!1)})),listenShownBsModal("#addTestimonialModal",(function(){$("#addTestimonialModal #validationErrorsBox").show(),$("#addTestimonialModal #validationErrorsBox").addClass("d-none")})),listenHiddenBsModal("#editTestimonialModal",(function(){resetModalForm("#editAdminTestimonialForm","#editTestimonialModal #editValidationErrorsBox"),$("#previewImage").attr("src",$("#testimonialDefaulImageURL").val()).css("background-image","url(".concat($("#testimonialDefaulImageURL").val(),")")),$("#editTestimonialBtnSave").attr("disabled",!1)})),listenShownBsModal("#editTestimonialModal",(function(){$("#editTestimonialModal #editValidationErrorsBox").show(),$("#editTestimonialModal #editValidationErrorsBox").addClass("d-none")})),listenClick(".testimonial-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("admin-testimonial.destroy",t),$("#AdminTestimonialTbl"),$("#adminTestimonialLang").val())})),listenChange("#profile",(function(){var e=isValidDocument($(this),"#addTestimonialModal #validationErrorsBox");isEmpty(e)||0==e||displayDocument(this,"#previewImage",e)})),listenChange("#editProfile",(function(){var e=isValidDocument($(this),"#editTestimonialModal #editValidationErrorsBox");isEmpty(e)||0==e||displayDocument(this,"#editPreviewImage",e)})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg"])?($(e).val(""),$(t).html($("#testimonialProfileError").val()).removeClass("d-none"),!1):($(t).html($("#testimonialProfileError").val()).addClass("d-none"),a)},$(document).ready((function(){$(document).on("click",".languageSelection",(function(){var e=$(this).attr("data-prefix-value");$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/language-change-name",data:{languageName:e},success:function(){location.reload()}})}))})),(()=>{function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}

            // Income Overview Chart

            document.addEventListener("turbo:load",(function()
            {
                var t;

                if(!$(".super-admin-revenue-report").length)
                    return;
                var a,n,i="line",

                r=moment(),
                s=r.clone().startOf("month"),
                o=r.clone().endOf("month");

                function d(e,t)
                {
                    $("#chartFilter").html(e+" - "+t)
                }
                function l(e,t)
                {
                    $.ajax({
                        type:"GET",
                        url:route("super.admin.income.chart"),
                        dataType:"json",data:{start_date:e,end_date:t},
                        success:function(e)
                        {
                            if(e.success)
                            {
                                $("#hospitalIncomeChart").html(""),
                                $("#hospitalIncomeChart").append('<canvas id="densityChart" height="200"></canvas>');

                                var t=document.getElementById("densityChart").getContext("2d");t.canvas.style.height="500px";

                                var totalBillAmount = {
                                    label: 'Total Bill Amount',
                                    data: e.data.total_amount_arr,
                                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                                    borderColor: 'rgba(75, 192, 192, 1)',
                                    borderWidth: 1,
                                    barThickness: 20
                                };

                                var paidBillAmount = {
                                    label: 'Paid Bill Amount',
                                    data:e.data.total_revenue_arr,
                                    backgroundColor: 'rgba(153, 102, 255, 0.6)',
                                    borderColor: 'rgba(153, 102, 255, 1)',
                                    borderWidth: 1,
                                    barThickness: 20
                                };

                                var dueBillAmount = {
                                    label: 'Due Bill Amount',
                                    data:e.data.due_amount_arr,
                                    backgroundColor: 'rgba(255, 159, 64, 0.6)',
                                    borderColor: 'rgba(255, 159, 64, 1)',
                                    borderWidth: 1,
                                    barThickness: 20
                                };

                                var planetData = {
                                    labels: e.data.days,
                                    datasets: [totalBillAmount, paidBillAmount, dueBillAmount]
                                };

                                new Chart(t, {
                                    type: i,
                                    data: planetData,
                                    options: {
                                        plugins: {
                                            tooltip: {
                                                callbacks: {
                                                    label: function(tooltipItem) {
                                                        var datasetLabel = tooltipItem.dataset.label || '';
                                                        var value = tooltipItem.parsed.y;
                                                        if (datasetLabel) {
                                                            datasetLabel += ': ';
                                                        }
                                                        if (value !== null) {
                                                            datasetLabel += $(".superAdminCurrentCurrency").val() + new Intl.NumberFormat("en-US").format(value);
                                                        }
                                                        return datasetLabel;
                                                    }
                                                }
                                            }
                                        },
                                        legend: {
                                            display: true,
                                            position: 'top'
                                        },
                                        scales: {
                                            x: {
                                                stacked: false,
                                                barPercentage: 1.0,
                                                categoryPercentage: 1.0,
                                                ticks: {
                                                    maxRotation: 90,
                                                    minRotation: 90
                                                },
                                                grid: {
                                                    display: false
                                                }
                                            },
                                            y: {
                                                stacked: false,
                                                beginAtZero: true,
                                                ticks: {
                                                    callback: function(value) {
                                                        return $(".superAdminCurrentCurrency").val() + new Intl.NumberFormat("en-US").format(value);
                                                    }
                                                },
                                                grid: {
                                                    display: true
                                                }
                                            }
                                        },
                                        responsive: true,
                                        maintainAspectRatio: false,
                                        responsiveAnimationDuration: 500
                                    }
                                });

                                $('#sale-appointments').html(e.data.appointments);
                                $('#sale-patients').html(e.data.patients);
                                $('#sale-cases').html(e.data.cases);
                                $('#sale-case-sessions').html(e.data.case_sessions);
                                $('#sale-total-revenue').html(e.data.total_revenue);
                                $('#sale-due-amount').html(e.data.due_amount);

                            }
                        }})}

                        $("#chartFilter").daterangepicker({startDate:s,endDate:o,locale:{format:"D/MM/Y",customRangeLabel:Lang.get("messages.common.custom"),applyLabel:Lang.get("messages.common.apply"),cancelLabel:Lang.get("messages.common.cancel"),fromLabel:Lang.get("messages.common.from"),toLabel:Lang.get("messages.common.to"),monthNames:[Lang.get("messages.months.jan"),Lang.get("messages.months.feb"),Lang.get("messages.months.mar"),Lang.get("messages.months.apr"),Lang.get("messages.months.may"),Lang.get("messages.months.jun"),Lang.get("messages.months.jul"),Lang.get("messages.months.aug"),Lang.get("messages.months.sep"),Lang.get("messages.months.oct"),Lang.get("messages.months.nov"),Lang.get("messages.months.dec")],daysOfWeek:[Lang.get("messages.weekdays.sun"),Lang.get("messages.weekdays.mon"),Lang.get("messages.weekdays.tue"),Lang.get("messages.weekdays.wed"),Lang.get("messages.weekdays.thu"),Lang.get("messages.weekdays.fri"),Lang.get("messages.weekdays.sat")]},ranges:(t={},e(t,Lang.get("messages.appointment.today"),[moment(),moment()]),e(t,Lang.get("messages.appointment.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(t,Lang.get("messages.appointment.last_7_days"),[moment().subtract(6,"days"),moment()]),e(t,Lang.get("messages.appointment.last_30_days"),[moment().subtract(29,"days"),moment()]),e(t,Lang.get("messages.appointment.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(t,Lang.get("messages.appointment.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},d),d(s,o),setTimeout((function(){a=s.format("DD-MM-YYYY"),n=o.format("DD-MM-YYYY"),l(a,n)}),1e3),$("#chartFilter").on("apply.daterangepicker",(function(e,t){s=t.startDate.format("YYYY-MM-D"),o=t.endDate.format("YYYY-MM-D"),l(s,o)})),
                        listenClick("#changeChart",(function(){"line"==i?(i="bar",$(".chart").removeClass("fa-chart-bar"),$(".chart").addClass("fa-chart-line"),l(a,n)):(i="line",$(".chart").addClass("fa-chart-bar"),$(".chart").removeClass("fa-chart-line"),l(a,n))}))
            }))


            // Leads Overview Chart


            document.addEventListener("turbo:load",(function()
            {
                var t;

                if(!$(".super-admin-lead-report").length)
                    return;
                var a,n,i="bar",

                r=moment(),
                s=r.clone().startOf("month"),
                o=r.clone().endOf("month");

                function d(e,t)
                {
                    $("#chartFilter").html(e+" - "+t)
                }
                function l(e,t)
                {
                    $.ajax({
                        type:"GET",
                        url:route("super.admin.lead.chart"),
                        dataType:"json",data:{start_date:e,end_date:t},
                        success:function(e)
                        {
                            if(e.success)
                            {
                                $("#hospitalLeadChart").html(""),
                                $("#hospitalLeadChart").append('<canvas id="revenueChart" height="200"></canvas>');

                                var t=document.getElementById("revenueChart").getContext("2d");t.canvas.style.height="500px";


                                var uploadedLeads = {
                                    label: 'Uploaded Leads',
                                    data:e.data.leads,
                                    backgroundColor: 'rgba(153, 102, 255, 0.6)',
                                    borderColor: 'rgba(153, 102, 255, 1)',
                                    borderWidth: 1,
                                    barThickness: 20
                                };

                                var convertedLeads = {
                                    label: 'Converted Leads',
                                    data:e.data.convertedLeads,
                                    backgroundColor: 'rgba(255, 159, 64, 0.6)',
                                    borderColor: 'rgba(255, 159, 64, 1)',
                                    borderWidth: 1,
                                    barThickness: 20
                                };

                                var leadData = {
                                    labels: e.data.days,
                                    datasets: [uploadedLeads, convertedLeads]
                                };

                                new Chart(t,{
                                    type:i,
                                    data:leadData,
                                    options:
                                    {
                                        plugins:
                                        {tooltip:
                                            {callbacks:{label:function(e){var t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+= new Intl.NumberFormat("en-US",{}).format(e.parsed.y)),t}}},legend:{display:!1}},

                                            legend: {
                                                display: true,
                                                position: 'top'
                                            },

                                            scales:
                                            {
                                                x: {
                                                    stacked: false,
                                                    barPercentage: 1.0,
                                                    categoryPercentage: 1.0,
                                                    ticks: {
                                                        maxRotation: 90,
                                                        minRotation: 90
                                                    },
                                                    grid: {
                                                        display: false
                                                    }
                                                },

                                                y:{beginAtZero:!0,stacked:false,ticks:{min:0,callback:function(e)
                                                {
                                                    return new Intl.NumberFormat("en-US",{}).format(e)}}}},responsive:!0,maintainAspectRatio:!0,responsiveAnimationDuration:500,legend:{display:!1}
                                    }
                                })


                    const leadsArray = e.data.leads;
                    const sumOfLeads = leadsArray.reduce((acc, currentValue) => acc + currentValue, 0);

                    const convertArray = e.data.convertedLeads;
                    const sumOfArray = convertArray.reduce((acc, currentValue) => acc + currentValue, 0);

                    $('#uploadedLeadsCount').html(sumOfLeads);
                    $('#convertedLeadsCount').html(sumOfArray);


                            }
                        }})}

                        $("#chartFilter").daterangepicker({startDate:s,endDate:o,locale:{format:"D/MM/Y",customRangeLabel:Lang.get("messages.common.custom"),applyLabel:Lang.get("messages.common.apply"),cancelLabel:Lang.get("messages.common.cancel"),fromLabel:Lang.get("messages.common.from"),toLabel:Lang.get("messages.common.to"),monthNames:[Lang.get("messages.months.jan"),Lang.get("messages.months.feb"),Lang.get("messages.months.mar"),Lang.get("messages.months.apr"),Lang.get("messages.months.may"),Lang.get("messages.months.jun"),Lang.get("messages.months.jul"),Lang.get("messages.months.aug"),Lang.get("messages.months.sep"),Lang.get("messages.months.oct"),Lang.get("messages.months.nov"),Lang.get("messages.months.dec")],daysOfWeek:[Lang.get("messages.weekdays.sun"),Lang.get("messages.weekdays.mon"),Lang.get("messages.weekdays.tue"),Lang.get("messages.weekdays.wed"),Lang.get("messages.weekdays.thu"),Lang.get("messages.weekdays.fri"),Lang.get("messages.weekdays.sat")]},ranges:(t={},e(t,Lang.get("messages.appointment.today"),[moment(),moment()]),e(t,Lang.get("messages.appointment.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(t,Lang.get("messages.appointment.last_7_days"),[moment().subtract(6,"days"),moment()]),e(t,Lang.get("messages.appointment.last_30_days"),[moment().subtract(29,"days"),moment()]),e(t,Lang.get("messages.appointment.this_month"),[moment().startOf("month"),moment().endOf        ("month")]),e(t,Lang.get("messages.appointment.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},d),d(s,o),setTimeout((function(){a=s.format("DD-MM-YYYY"),n=o.format("DD-MM-YYYY"),l(a,n)}),1e3),$("#chartFilter").on("apply.daterangepicker",(function(e,t){s=t.startDate.format("YYYY-MM-D"),o=t.endDate.format("YYYY-MM-D"),l(s,o)})),
                        listenClick("#changeChart",(function(){"line"==i?(i="bar",$(".chart").removeClass("fa-chart-bar"),$(".chart").addClass("fa-chart-line"),l(a,n)):(i="line",$(".chart").addClass("fa-chart-bar"),$(".chart").removeClass("fa-chart-line"),l(a,n))}))
            }))


                })(),document.addEventListener("turbo:load",(function(){listenClick("#resetFilter",(function(){$("#paymentTypeArr, #statusArr, #frequencyArr").val("").trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")}))})),document.addEventListener("turbo:load",(function(){$("#subscriptionStatus").select2(),$("#subscriptionEndsAt").flatpickr({dateFormat:"Y-m-d H:i",defaultDate:$("#subscriptionEndAt").val(),minDate:$("#subscriptionEndAt").val(),enableTime:!0,locale:$(".userCurrentLanguage").val()}),listenSubmit("#editSubscription",(function(){$("#subscriptionBtnSave").attr("disabled",!0)}))})),document.addEventListener("turbo:load",(function(){})),listenSubmit("#addCurrencyForm",(function(e){e.preventDefault(),$.ajax({url:$("#indexCurrencyCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_currency_modal").modal("hide"),Livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenHiddenBsModal("#add_currency_modal",(function(){resetModalForm("#addCurrencyForm")})),listenClick(".currency-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexCurrenciesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#editCurrencyId").val(t.id),$("#editCurrencyName").val(t.currency_name),$("#editCurrencyCode").val(t.currency_code),$("#editCurrencyIcon").val(t.currency_icon),$("#edit_currency_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editCurrencyForm",(function(e){e.preventDefault();var t=$("#editCurrencyId").val();$.ajax({url:$("#indexCurrenciesUrl").val()+"/"+t,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_currency_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick(".currency-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexCurrenciesUrl").val()+"/"+t,"",Lang.get("messages.subscription_plans.currency"))})),document.addEventListener("turbo:load",(function(){})),listenSubmit("#addSuperAdminCurrencyForm",(function(e){e.preventDefault(),$.ajax({url:$("#indexAdminCurrencyCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_admin_currency_modal").modal("hide"),Livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenHiddenBsModal("#add_admin_currency_modal",(function(){resetModalForm("#addSuperAdminCurrencyForm")})),listenClick(".admin-currency-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexAdminCurrenciesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#editAdminCurrencyId").val(t.id),$("#editAdminCurrencyName").val(t.currency_name),$("#editAdminCurrencyCode").val(t.currency_code),$("#editAdminCurrencyIcon").val(t.currency_icon),$("#edit_admin_currency_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editAdminCurrencyForm",(function(e){e.preventDefault();var t=$("#editAdminCurrencyId").val();$.ajax({url:$("#indexAdminCurrenciesUrl").val()+"/"+t,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_admin_currency_modal").modal("hide"),livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick(".admin-currency-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("super-admin-currency-settings.destroy",t),"",Lang.get("messages.subscription_plans.currency"))})),(()=>{function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}document.addEventListener("turbo:load",(function(){var t;!function(){var t;if(!$("#holidayDateFilter").length)return;var a=moment().startOf("week"),n=moment().endOf("week");function i(e,t){$("#holidayDateFilter").val(e.format("YYYY-MM-DD")+" - "+t.format("YYYY-MM-DD"))}$("#holidayDateFilter").daterangepicker({startDate:a,endDate:n,opens:"left",showDropdowns:!0,locale:{customRangeLabel:Lang.get("messages.common.custom"),applyLabel:Lang.get("messages.common.apply"),cancelLabel:Lang.get("messages.common.cancel"),fromLabel:Lang.get("messages.common.from"),toLabel:Lang.get("messages.common.to"),monthNames:[Lang.get("messages.months.jan"),Lang.get("messages.months.feb"),Lang.get("messages.months.mar"),Lang.get("messages.months.apr"),Lang.get("messages.months.may"),Lang.get("messages.months.jun"),Lang.get("messages.months.jul"),Lang.get("messages.months.aug"),Lang.get("messages.months.sep"),Lang.get("messages.months.oct"),Lang.get("messages.months.nov"),Lang.get("messages.months.dec")],daysOfWeek:[Lang.get("messages.weekdays.sun"),Lang.get("messages.weekdays.mon"),Lang.get("messages.weekdays.tue"),Lang.get("messages.weekdays.wed"),Lang.get("messages.weekdays.thu"),Lang.get("messages.weekdays.fri"),Lang.get("messages.weekdays.sat")]},ranges:(t={},e(t,Lang.get("messages.datepicker.today"),[moment(),moment()]),e(t,Lang.get("messages.datepicker.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(t,Lang.get("messages.datepicker.this_week"),[moment().startOf("week"),moment().endOf("week")]),e(t,Lang.get("messages.datepicker.last_30_days"),[moment().subtract(29,"days"),moment()]),e(t,Lang.get("messages.datepicker.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(t,Lang.get("messages.datepicker.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},i),i(a,n)}();var a=$(".currentLanguage").val();if($("#doctorHolidayDate").flatpickr({locale:a,minDate:(new Date).fp_incr(1),disableMobile:!0}),listenClick(".doctor-holiday-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("holidays.destroy",t),"",Lang.get("messages.holiday.holiday"))})),!$("#doctorHolidayDateFilter").length)return;var n=moment().startOf("week"),i=moment().endOf("week");function r(e,t){$("#doctorHolidayDateFilter").val(e.format("YYYY-MM-DD")+" - "+t.format("YYYY-MM-DD"))}$("#doctorHolidayDateFilter").daterangepicker({startDate:n,endDate:i,opens:"left",showDropdowns:!0,locale:{customRangeLabel:Lang.get("messages.common.custom"),applyLabel:Lang.get("messages.common.apply"),cancelLabel:Lang.get("messages.common.cancel"),fromLabel:Lang.get("messages.common.from"),toLabel:Lang.get("messages.common.to"),monthNames:[Lang.get("messages.months.jan"),Lang.get("messages.months.feb"),Lang.get("messages.months.mar"),Lang.get("messages.months.apr"),Lang.get("messages.months.may"),Lang.get("messages.months.jun"),Lang.get("messages.months.jul"),Lang.get("messages.months.aug"),Lang.get("messages.months.sep"),Lang.get("messages.months.oct"),Lang.get("messages.months.nov"),Lang.get("messages.months.dec")],daysOfWeek:[Lang.get("messages.weekdays.sun"),Lang.get("messages.weekdays.mon"),Lang.get("messages.weekdays.tue"),Lang.get("messages.weekdays.wed"),Lang.get("messages.weekdays.thu"),Lang.get("messages.weekdays.fri"),Lang.get("messages.weekdays.sat")]},ranges:(t={},e(t,Lang.get("messages.appointment.today"),[moment(),moment()]),e(t,Lang.get("messages.appointment.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(t,Lang.get("messages.appointment.this_week"),[moment().startOf("week"),moment().endOf("week")]),e(t,Lang.get("messages.appointment.last_7_days"),[moment().subtract(6,"days"),moment()]),e(t,Lang.get("messages.appointment.last_30_days"),[moment().subtract(29,"days"),moment()]),e(t,Lang.get("messages.appointment.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(t,Lang.get("messages.appointment.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},r),r(n,i)})),listenChange("#doctorHolidayStatus",(function(){$("#doctorHolidayStatus").val($(this).val()),window.livewire.emit("changeStatusFilter",$(this).val())})),listenChange("#holidayDateFilter,#doctorHolidayDateFilter",(function(){window.livewire.emit("changeDateFilter",$(this).val())})),listenClick(".holiday-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("doctors.holiday-destroy",t),Lang.get("messages.holiday.holiday"))})),listenClick("#holidayDateResetFilter",(function(){$("#holidayDateFilter").data("daterangepicker").setStartDate(moment().startOf("week").format("MM/DD/YYYY")),$("#holidayDateFilter").data("daterangepicker").setEndDate(moment().endOf("week").format("MM/DD/YYYY")),hideDropdownManually($("#holidayFilterBtn"),$(".dropdown-menu"))})),listenClick("#doctorHolidayResetFilter",(function(){$("#doctorHolidayDateFilter").data("daterangepicker").setStartDate(moment().startOf("week").format("MM/DD/YYYY")),$("#doctorHolidayDateFilter").data("daterangepicker").setEndDate(moment().endOf("week").format("MM/DD/YYYY")),hideDropdownManually($("#doctorHolidayFilterBtn"),$(".dropdown-menu"))}))})(),document.addEventListener("turbo:load",(function(){var e=$(".currentLanguage").val();$("#doctorLunchBreakDate").flatpickr({locale:e,minDate:new Date,disableMobile:!0}),$(".breakFrom").flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",minTime:"00:05:00",time_24hr:!0}),$(".breakTo").flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,minTime:"00:05:00"})})),listenClick("#editOneDay",(function(){$(".customiseDate").removeClass("d-none")})),listenClick("#editEveryDay",(function(){$(".customiseDate").addClass("d-none")})),listenClick(".doctor-lunch-break-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("breaks.destroy",t),"",Lang.get("messages.lunch_break.lunch_break"))})),listenSubmit(".doctorBreakForm",(function(e){e.preventDefault();var t=$(".breakFrom").val(),a=$(".breakTo").val();return"00:00:00"==t?(displayErrorMessage(Lang.get("messages.lunch_break.break_time_greater_than_zero")),!1):"00:00:00"==a?(displayErrorMessage(Lang.get("messages.lunch_break.break_to_time_greater_than_zero")),!1):a==t?(displayErrorMessage(Lang.get("messages.lunch_break.break_to_time_greater_than_from_time")),!1):1==$("#editOneDay").is(":checked")&&""==$.trim($("#doctorLunchBreakDate").val())?(displayErrorMessage(Lang.get("messages.lunch_break.date_required")),!1):void $(this)[0].submit()})),(()=>{"use strict";listenSubmit("#addPathologyUnitForm",(function(e){e.preventDefault();var t=jQuery(this).find("#pathologyUnitSave");t.button("loading"),$("#pathologyUnitSave").attr("disabled",!0),$.ajax({url:$("#createPathologyUnitURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPathologyUnitsModal").modal("hide"),window.livewire.emit("refresh"),$("#pathologyUnitSave").attr("disabled",!1))},error:function(e){printErrorMessage("#pUniValidationErrorsBox",e),$("#pathologyUnitSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editPathologyUnitsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editPathologyUnitSaveBtn");t.button("loading");var a=$("#pathologyUnitId").val();$("#editPathologyUnitSaveBtn").attr("disabled",!0),$.ajax({url:$("#pathologyUnitURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPathologyUnitsModal").modal("hide"),window.livewire.emit("refresh"),$("#editPathologyUnitSaveBtn").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editPathologyUnitSaveBtn").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addPathologyUnitsModal",(function(){resetModalForm("#addPathologyUnitForm","#pUniValidationErrorsBox"),$("#pathologyUnitSave").attr("disabled",!1)})),listenHiddenBsModal("#editPathologyUnitsModal",(function(){resetModalForm("#editPathologyUnitsForm","#editPUniValidationErrorsBox"),$("#editPathologyUnitSaveBtn").attr("disabled",!1)})),window.renderPathologyUnitData=function(e){$.ajax({url:$("#pathologyUnitURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#pathologyUnitId").val(t.id),$("#editPathologyUnitName").val(t.name),$("#editPathologyUnitsModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-pathology-unit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPathologyUnitData(t)}})),listenClick(".delete-pathology-unit-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyUnitURL").val()+"/"+t,"#pathologyUnitTable",$("#pathologyUnitLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#pathologyParameterUnitId,.edit-unit").select2({width:"100%"})})),listenSubmit("#addPathologyParameterForm",(function(e){e.preventDefault();var t=jQuery(this).find("#pathologyParameterSave");t.button("loading"),$("#pathologyParameterSave").attr("disabled",!0),$.ajax({url:$("#createPathologyParameterURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPathologyParametersModal").modal("hide"),window.livewire.emit("refresh"),$("#pathologyParameterSave").attr("disabled",!1))},error:function(e){printErrorMessage("#parameterValidationErrorsBox",e),$("#pathologyParameterSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editPathologyParameterForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editPathologyParameterSaveBtn");t.button("loading");var a=$("#pathologyParameterId").val();$("#editPathologyCategorySaveBtn").attr("disabled",!0),$.ajax({url:$("#pathologyParameterURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPathologyParametersModal").modal("hide"),window.livewire.emit("refresh"),$("#editPathologyParameterSaveBtn").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editPathologyParameterSaveBtn").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addPathologyParametersModal",(function(){resetModalForm("#addPathologyParameterForm","#parameterValidationErrorsBox"),$("#pathologyParameterSave").attr("disabled",!1)})),listenHiddenBsModal("#editPathologyParametersModal",(function(){resetModalForm("#editPathologyParameterForm","#editParameterValidationErrorsBox"),$("#editPathologyParameterSaveBtn").attr("disabled",!1)})),window.renderPathologyParameterData=function(e){$.ajax({url:$("#pathologyParameterURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#pathologyParameterId").val(t.id),$("#editPathologyParameterName").val(t.parameter_name),$("#editParameterRange").val(t.reference_range),$("#editPathologyUnitId").val(t.unit_id).trigger("change"),$("#editParameterDescription").val(t.description),$("#editPathologyParametersModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-pathology-parameter-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPathologyParameterData(t)}})),listenClick(".delete-pathology-parameter-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyParameterURL").val()+"/"+t,"#pathologyParameterTable",$("#pathologyParameterLang").val())}))})(),document.addEventListener("turbo:load",(function(){if($("#cardTemplateID,.patient-id").select2({width:"100%",dropdownParent:$("#addPatientCardModal")}),!$(".header-color-wrapper").length)return!1;var e=Pickr.create({el:".header-color-wrapper",theme:"nano",closeWithKey:"Enter",autoReposition:!0,defaultRepresentation:"HEX",position:"bottom-start",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)"],components:{preview:!0,hue:!0,interaction:{input:!0,clear:!1,save:!1}}});$("#headerColorId").val(e.getColor().toHEXA().toString()),e.on("change",(function(){var t=e.getColor().toHEXA().toString();$(".custom-card-header").css("background-color",t),$("#editHeaderColorId").length?(e.setColor(t),$("#editHeaderColorId").val(t)):(e.setColor(t),$("#headerColorId").val(t))})),e.on("init",(function(){e.setColor($("#editHeaderColorId").val())})),$("#showEmail").on("change",(function(){0==$(this).prop("checked")?$("#patientEmail").addClass("d-none"):$("#patientEmail").removeClass("d-none")})),$("#showPhone").on("change",(function(){0==$(this).prop("checked")?$("#patientNumber").addClass("d-none"):$("#patientNumber").removeClass("d-none")})),$("#showDob").on("change",(function(){0==$(this).prop("checked")?$("#patientDob").addClass("d-none"):$("#patientDob").removeClass("d-none")})),$("#showBloodGroup").on("change",(function(){0==$(this).prop("checked")?$("#patientBloodGroup").addClass("d-none"):$("#patientBloodGroup").removeClass("d-none")})),$("#showAddress").on("change",(function(){0==$(this).prop("checked")?$("#patientAddress").addClass("d-none"):$("#patientAddress").removeClass("d-none")})),$("#showUniqueID").on("change",(function(){0==$(this).prop("checked")?$("#patientUniqueID").addClass("d-none"):$("#patientUniqueID").removeClass("d-none")}))})),listenChange("#show_email, #show_phone, #show_address, #show_blood_group, #show_dob, #show_patient_unique_id",(function(){var e=$(this).prop("checked")?1:0,t=$(this).attr("data-id"),a=$(this).attr("name");$.ajax({url:route("patient-smart-card-templates.status",t),type:"post",data:{status:e,name:a},success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))}})})),listenChange("#color",(function(){var e=$(this).attr("data-id"),t=$(this).val();$.ajax({type:"post",url:route("patient-smart-card-templates.status",e),data:{color:t},success:function(e){e.success&&(displaySuccessMessage(e.message),livewire.emit("refresh"))}})})),listenClick(".delete-smart-card-template",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("patient-smart-card-templates.destroy",t),"",Lang.get("messages.lunch_break.card_template"))})),listenClick(".delete-smart-patient-card-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("smart-patient-cards.destroy",t),"",Lang.get("messages.lunch_break.smart_patient_card"))})),listenClick("#onePatient",(function(e){$(".customisePatient").removeClass("d-none"),$.ajax({url:route("get.patients"),type:"GET",data:$(this).serialize(),success:function(e){e.success&&($("#cardTemplatePatientID").find("option").remove(),$("#cardTemplatePatientID").append($("<option></option>").attr("placeholder","").text(Lang.get("messages.document.select_patient"))),$.each(e.data,(function(e,t){$("#cardTemplatePatientID").append($("<option></option>").attr("value",e).text(t))})))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick("#allPatient,#remainingPatient",(function(){$(".customisePatient").addClass("d-none")})),listenHiddenBsModal("#addPatientCardModal",(function(){resetModalForm("#addPatientCardForm","#patientCardErrorsBox"),$(".template-name").trigger("change"),$(".patient-id").trigger("change"),$(".customisePatient").addClass("d-none"),$("#patientCardSave").attr("disabled",!1)})),listenSubmit("#addPatientCardForm",(function(e){if(e.preventDefault(),""==$.trim($(".template-name").val()))return displayErrorMessage(Lang.get("messages.lunch_break.template_required")),!1;if(1==$(".one-patient").is(":checked")&&""==$.trim($(".patient-id").val()))return displayErrorMessage(Lang.get("messages.lunch_break.patient_required")),!1;var t=jQuery(this).find("#patientCardSave");t.button("loading"),$("#patientCardSave").attr("disabled",!0),$.ajax({url:route("smart-patient-cards.store"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPatientCardModal").modal("hide"),window.livewire.emit("refresh"),$("#patientCardSave").attr("disabled",!1))},error:function(e){printErrorMessage("#patientCardErrorsBox",e),$("#patientCardSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".show-patient-smart-card",(function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-id");$("#patientCardAddress,#patientCardBloodGroup,#patientCardDob,#uniqueCardID,#patientCardEmail,patientCardMob").text(""),$(".patientAddress,.patientBloodGroup,.patientDob,.patient-code,.patientEmail,.patientNumber").addClass("d-none"),$.ajax({url:route("smart-patient-cards.show",t),type:"GET",success:function(e){if(e.success){var t=e.data.address;$("#patientCardBloodGroup").text(),$(".profile-img").attr("src",e.data.profile),$(".patient-card-header").css("background-color",e.data.smart_card_template.header_color),$("#patientCardName").text(e.data.patient_user.full_name),1!=e.data.smart_card_template.show_address||isEmpty(t)||($(".patientAddress").removeClass("d-none"),$("#patientCardAddress").text(t.address1)),1!=e.data.smart_card_template.show_blood_group||isEmpty(e.data.patient_user.blood_group)||($(".patientBloodGroup").removeClass("d-none"),$("#patientCardBloodGroup").text(e.data.patient_user.blood_group)),1!=e.data.smart_card_template.show_dob||isEmpty(e.data.patient_user.dob)||($(".patientDob").removeClass("d-none"),$("#patientCardDob").text(e.data.patient_user.dob)),1==e.data.smart_card_template.show_patient_unique_id&&($(".patient-code").removeClass("d-none"),$("#uniqueCardID").text(e.data.patient_unique_id)),1==e.data.smart_card_template.show_email&&($(".patientEmail").removeClass("d-none"),$("#patientCardEmail").text(e.data.patient_user.email)),1!=e.data.smart_card_template.show_phone||isEmpty(e.data.patient_user.phone)||($(".patientNumber").removeClass("d-none"),$("#patientCardMob").text(e.data.patient_user.phone)),$("#showSmartCardModal").modal("show")}},error:function(e){displayErrorMessage(e.responseJSON.message)}}),$.ajax({url:route("smart.card.qr.code",t),type:"GET",success:function(e){$(".qr-code").html(e)},error:function(e){displayErrorMessage(Lang.get("messages.lunch_break.qr_code_not_found"))}})}))})();
